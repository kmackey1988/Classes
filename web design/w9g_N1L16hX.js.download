if (self.CavalryLogger) { CavalryLogger.start_js(["df8gi"]); }

__d("CctaDataActionTypes_DEPRECATED",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a="CCTA_DATA";c={FETCH_DIALOG_DATA:"",UPDATE_FROM_SERVER:"",UPDATE_TO_SERVER:"",DELETE_TO_SERVER:"",UPDATE_PROMOTE:"",CLOSE_NUX:"",CLOSE_PROMOTION_NUX:"",CLOSE_PREDICTION_NUX:"",CLOSE_DIALOG:"",CHANGE_CTA_TYPE:"",SELECT_IPHONE_APP:"",CHANGE_IPHONE_DEEP_LINK:"",CHANGE_IPHONE_URI:"",SELECT_ANDROID_APP:"",CHANGE_ANDROID_DEEP_LINK:"",CHANGE_ANDROID_PACKAGE_NAME:"",CHANGE_ANDROID_URI:"",CHANGE_NATIVE_VIDEO:"",CHANGE_CANVAS:"",CHANGE_WEB_URI:"",CHANGE_PHONE_NUMBER:"",CHANGE_PHONE_EMAIL_PREFERENCE:"",CHANGE_PRIVACY_LINK:"",TOGGLE_WEB_DESTINATION_TYPE:"",UPLOAD_VIDEO_START:"",UPLOAD_VIDEO_FINISHED:"",POST_VIDEO_START:"",POST_VIDEO_FINISHED:"",CANCEL_UPLOAD_VIDEO:"",CLOSE_VIDEO_PICKER:"",CHANGE_EMAIL_ADDRESS:"",CHANGE_INSTANT_REPLY_ENABLED:"",CHANGE_INSTANT_REPLY_MESSAGE:"",CHANGE_AFTER_PROMOTION:""};e.exports=b("keyMirrorRecursive")(c,a)}),null);
__d("CctaDialogActionTypes_DEPRECATED",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a="CCTA_DIALOG";c={SHOW_FINISH_DIALOG:"",SCROLL_AREA:"",TOGGLE_MAIN_DIALOG:"",TOGGLE_DELETE_DIALOG:"",TOGGLE_CREATE_SUCCESS_DIALOG:"",TOGGLE_UPDATE_ALERT:"",CLICK_MAIN_DIALOG_SAVE_BUTTON:"",CLICK_DELETE_DIALOG_CONFIRM_BUTTON:"",RESET_UI:"",RESET_UI_LINK_APPS:"",TOGGLE_LINK_APPS_SWITCH:"",IPHONE_URI_TYPING:"",IPHONE_DEEP_LINK_TYPING:"",VALIDATE_IPHONE_DEEP_LINK:"",VALIDATE_ANDROID_DEEP_LINK:"",VALIDATE_ANDROID_PACKAGE_NAME:"",VALIDATE_ANDROID_URI:"",ANDROID_DEEP_LINK_TYPING:"",ANDROID_PACKAGE_NAME_TYPING:"",ANDROID_URI_TYPING:"",ANDROID_DEEPLINK_ERROR_FOCUSED:"",CLEAR_FOCUS:"",WEB_URI_TYPING:"",PHONE_ERROR_TYPING:"",PRIVACY_LINK_TYPING:"",TOGGLE_CONTACT_US_DESTINATION_TYPE_SWITCH:"",SHOW_ERROR_NOTICE:"",TEXTBOX_PAUSE_TYPING:"",EMAIL_ADDRESS_ERROR_TYPING:""};e.exports=b("keyMirrorRecursive")(c,a)}),null);
__d("PageCallToActionDataState",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({ERROR:"error",INIT_DATA_LOADED:"init_data_loaded",LOADED:"loaded",LOADING:"loading",NEEDS_NEW_DATA:"needs_new_data",NOT_INITIALIZED:"not_initialized"});e.exports=a}),null);
__d("CctaPayloadSources",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({SERVER_ACTION:null,VIEW_ACTION:null});e.exports=a}),null);
__d("CctaAppDispatcher_DEPRECATED",["CctaPayloadSources","Dispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";a=Object.assign(new(b("Dispatcher_DEPRECATED"))(),{handleServerAction:function(a){var c=this,d={source:b("CctaPayloadSources").SERVER_ACTION,action:a};setTimeout(function(){c.dispatch(d)})},handleViewAction:function(a){var c=this,d={source:b("CctaPayloadSources").VIEW_ACTION,action:a};setTimeout(function(){c.dispatch(d)})},handleViewActionSync:function(a){a={source:b("CctaPayloadSources").VIEW_ACTION,action:a};this.dispatch(a)}});e.exports=a}),null);
__d("CctaConstants",["CustomCallToActionTypes"],(function(a,b,c,d,e,f){"use strict";a=b("CustomCallToActionTypes").TYPES;c={AppID:{OPEN_APP:"1",OPEN_WEBSITE:"2"},CtaBarItem:{WEBSITE_BAR_ITEM:"Website",IPHONE_BAR_ITEM:"iPhone",ANDROID_BAR_ITEM:"Android"},CREATE_CTA_TYPE_OPTIONS:[a.BOOK_NOW,a.CONTACT_US,a.OPEN_APP,a.PLAY_NOW,a.SHOP_NOW,a.SIGN_UP,a.WATCH_NOW],PHONE_EMAIL_PREFERENCE_OPTIONS:{PHONE_AND_EMAIL:"phone_and_email",PHONE_ONLY:"phone_only",EMAIL_ONLY:"email_only"},DialogVersion:{SIMPLIFIED_DIALOG:2}};e.exports=c}),null);
__d("XCctaCreateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ccta/create/",{})}),null);
__d("CctaCreateDataLoader",["CctaBaseDataLoader","XCctaCreateController"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.promiseCreateCcta=function(a){return this.__getPromise(b("XCctaCreateController").getURIBuilder().getURI(),{payload_json:JSON.stringify(a)})};return c}(b("CctaBaseDataLoader"));c=new a();e.exports=c}),null);
__d("XPagesCallToActionDeleteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/call_to_action/delete/",{id:{type:"Int",required:!0},referrer:{type:"String"}})}),null);
__d("CctaDeleteDataLoader",["CctaBaseDataLoader","XPagesCallToActionDeleteController"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.promiseDeleteCcta=function(a,c){return this.__getPromise(b("XPagesCallToActionDeleteController").getURIBuilder().setInt("id",c).setString("referrer","ccta_delete_dialog").getURI(),{})};return c}(b("CctaBaseDataLoader"));c=new a();e.exports=c}),null);
__d("PageCallToActionDestinationTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:"NONE",APP_LINK:"APP_LINK",APP_DEEPLINK:"APP_DEEPLINK",BECOME_A_VOLUNTEER:"BECOME_A_VOLUNTEER",CANVAS:"CANVAS",DONATE:"DONATE",FACEBOOK_APP:"FACEBOOK_APP",FB_GEO:"FB_GEO",FIRST_PARTY_LEAD_GEN:"FIRST_PARTY_LEAD_GEN",GROUP:"GROUP",INSTANT_BOOKING:"INSTANT_BOOKING",OFFER:"OFFER",LISTEN:"LISTEN",LEAD_GEN:"LEAD_GEN",MESSENGER:"MESSENGER",NATIVE_VIDEO:"NATIVE_VIDEO",OPEN_TABLE:"OPEN_TABLE",PHONE_CALL:"PHONE_CALL",STORE_FRONT:"STORE_FRONT",WEBSITE:"WEBSITE",EMAIL:"EMAIL",FIRST_PARTY:"FIRST_PARTY",VIDEO_CALL:"VIDEO_CALL",WHATSAPP_MESSAGE:"WHATSAPP_MESSAGE",EVENT_TICKET:"EVENT_TICKET",SHOP_ON_FACEBOOK:"SHOP_ON_FACEBOOK",BECOME_SUPPORTER:"BECOME_SUPPORTER",MINI_SHOP:"MINI_SHOP"})}),null);
__d("XCctaCalloutActionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/custom_cta/callout_action/",{page_id:{type:"Int",required:!0},action:{type:"String",required:!0}})}),null);
__d("XCctaCloseCreateDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ccta/cancel_create_dialog/",{__asyncDialog:{type:"Int"}})}),null);
__d("CctaDataStore",["AdsUtils","Arbiter","AsyncRequest","CctaAppDispatcher_DEPRECATED","CctaConstants","CctaCreateDataLoader","CctaDataActionTypes_DEPRECATED","CctaDeleteDataLoader","CctaDialogActionTypes_DEPRECATED","CustomCallToActionTypes","FBLogger","FluxStore","PageCallToActionDataState","PageCallToActionDestinationTypes","PageCallToActionDialogDataLoader","URI","XCctaCalloutActionController","XCctaCloseCreateDialogController","ThisControllerNoLongerExists","ads-lib-urllib","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g,h=b("CctaConstants").DialogVersion,i=b("CustomCallToActionTypes").MOBILE_ONLY_DESTINATION_TYPES,j=b("CustomCallToActionTypes").TYPES;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;c.$CctaDataStore1={};c.setDataState(b("PageCallToActionDataState").NOT_INITIALIZED);c.$CctaDataStore3={};c.$CctaDataStore4={};c.$CctaDataStore5=!1;return c}var d=c.prototype;d.getData=function(){return this.$CctaDataStore1};d.setDataState=function(a){this.$CctaDataStore2=a};d.getDataState=function(){return this.$CctaDataStore2};d.isInitialized=function(a){if(!this.$CctaDataStore5||this.$CctaDataStore2===b("PageCallToActionDataState").NOT_INITIALIZED)return!1;if(a!==this.$CctaDataStore1.pageID){this.$CctaDataStore5=!1;return!1}return!0};d.$CctaDataStore6=function(){var a=this.$CctaDataStore1.eligibleCallToActionConfig[this.$CctaDataStore1.ctaType],c=[];Object.keys(a.destination_types).forEach(function(b){c.push(a.destination_types[b])});if(!this.$CctaDataStore1.webDestinationType||c.indexOf(this.$CctaDataStore1.webDestinationType)<0){this.$CctaDataStore1.webDestinationType=b("PageCallToActionDestinationTypes").NONE;for(var d=0;d<c.length;d++){var e=c[d];if(i.indexOf(e)<0){this.$CctaDataStore1.webDestinationType=e;break}}}(!this.$CctaDataStore1.androidDestinationType||c.indexOf(this.$CctaDataStore1.androidDestinationType)<0)&&(this.$CctaDataStore1.androidDestinationType=this.$CctaDataStore1.webDestinationType);(!this.$CctaDataStore1.iphoneDestinationType||c.indexOf(this.$CctaDataStore1.iphoneDestinationType)<0)&&(this.$CctaDataStore1.iphoneDestinationType=this.$CctaDataStore1.webDestinationType)};d.__onDispatch=function(a){var c=this;a=a.action;switch(a.type){case b("CctaDataActionTypes_DEPRECATED").UPDATE_FROM_SERVER:var d=(g||(g=b("URI"))).getRequestURI();d=d?d.getQueryData():{};d=d.cta_type;this.$CctaDataStore3=b("AdsUtils").clone(a.payload);this.$CctaDataStore1=a.payload;this.$CctaDataStore4=a.payload.ctaSettings;d&&j[d]!==null&&(this.$CctaDataStore1.defaultCctaType=d);this.$CctaDataStore1.ctaType||(this.$CctaDataStore1.defaultCctaType?this.$CctaDataStore1.ctaType=this.$CctaDataStore1.defaultCctaType:this.$CctaDataStore1.ctaType=j.CONTACT_US,this.$CctaDataStore6());this.$CctaDataStore5=!0;this.setDataState(b("PageCallToActionDataState").LOADED);this.__emitChange();this.getDispatcher().handleViewAction({type:b("CctaDialogActionTypes_DEPRECATED").RESET_UI,payload:this.$CctaDataStore1});b("Arbiter").inform("PageCallToAction/forceUpdate",{page_id:this.$CctaDataStore1.pageID});break;case b("CctaDataActionTypes_DEPRECATED").FETCH_DIALOG_DATA:b("promiseDone")(b("PageCallToActionDialogDataLoader").promiseData(this.$CctaDataStore1.pageID,"ADMIN","pages_actions_unit").then(function(a){c.getDispatcher().handleServerAction({type:b("CctaDataActionTypes_DEPRECATED").UPDATE_FROM_SERVER,payload:a.payload})},function(a){}));this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").UPDATE_TO_SERVER:this.setDataState(b("PageCallToActionDataState").NEEDS_NEW_DATA);this.$CctaDataStore1.dialog_version=h.SIMPLIFIED_DIALOG,this.$CctaDataStore1.source=a.source;b("CctaCreateDataLoader").promiseCreateCcta(this.$CctaDataStore1).then(function(a){c.getDispatcher().handleServerAction({type:b("CctaDataActionTypes_DEPRECATED").UPDATE_FROM_SERVER,payload:a.payload}),c.getDispatcher().handleViewAction({type:b("CctaDialogActionTypes_DEPRECATED").TOGGLE_MAIN_DIALOG})},function(a){var d=b("FBLogger")("pages");a instanceof Error&&d.catching(a);d.mustfix("Failed to create ccta");c.getDispatcher().handleViewAction({type:b("CctaDialogActionTypes_DEPRECATED").SHOW_ERROR_NOTICE,payload:a})});this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").DELETE_TO_SERVER:this.setDataState(b("PageCallToActionDataState").NEEDS_NEW_DATA);this.$CctaDataStore1.source=a.source;b("CctaDeleteDataLoader").promiseDeleteCcta(this.$CctaDataStore1.pageID,this.$CctaDataStore1.cctaID).then(function(a){c.getDispatcher().handleServerAction({type:b("CctaDataActionTypes_DEPRECATED").UPDATE_FROM_SERVER,payload:a.payload})},function(a){var c=b("FBLogger")("pages");a instanceof Error&&c.catching(a);c.mustfix("Failed to delete ccta")});this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").CHANGE_AFTER_PROMOTION:d=b("ThisControllerNoLongerExists").__DEADURI__("k8gv7c5s");new(b("AsyncRequest"))().setURI(d).setErrorHandler(function(a){c.getDispatcher().handleViewAction({type:b("CctaDialogActionTypes_DEPRECATED").SHOW_ERROR_NOTICE,payload:a})}).setHandler(function(a){c.getDispatcher().handleViewAction({type:b("CctaDialogActionTypes_DEPRECATED").TOGGLE_UPDATE_ALERT})}).send();this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").CLOSE_NUX:d=b("XCctaCalloutActionController").getURIBuilder().setInt("page_id",this.$CctaDataStore1.pageID).setString("action",a.payload).getURI();new(b("AsyncRequest"))().setURI(d).setErrorHandler(function(a){b("FBLogger")("pages").catching(a.toError()).warn("Close CTA NUX async request failed")}).send();this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").CLOSE_DIALOG:this.setDataState(b("PageCallToActionDataState").NEEDS_NEW_DATA);this.$CctaDataStore1.cctaID||new(b("AsyncRequest"))().setURI(b("XCctaCloseCreateDialogController").getURIBuilder().getURI()).send();this.getDispatcher().handleViewAction({type:b("CctaDataActionTypes_DEPRECATED").UPDATE_FROM_SERVER,payload:this.$CctaDataStore3});this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").UPDATE_PROMOTE:this.$CctaDataStore1.promoting=a.payload;this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").CHANGE_CTA_TYPE:this.$CctaDataStore1.ctaType=a.payload;this.$CctaDataStore1.cctaID&&this.$CctaDataStore1.ctaType===this.$CctaDataStore3.ctaType?this.$CctaDataStore1=b("AdsUtils").clone(this.$CctaDataStore3):this.$CctaDataStore1.appID=null;this.$CctaDataStore6();this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").CHANGE_WEB_URI:this.$CctaDataStore1.webURI=b("ads-lib-urllib").normalize(a.payload);this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").CHANGE_PHONE_NUMBER:this.$CctaDataStore1.countryPrefix=a.payload.countryPrefix;this.$CctaDataStore1.nationalNumber=a.payload.nationalNumber;this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").CHANGE_EMAIL_ADDRESS:this.$CctaDataStore1.emailAddress=a.payload;this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").CHANGE_PHONE_EMAIL_PREFERENCE:this.$CctaDataStore1.phoneEmailPreference=a.payload;this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").CHANGE_PRIVACY_LINK:this.$CctaDataStore1.privacyLink=b("ads-lib-urllib").normalize(a.payload);this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").CHANGE_IPHONE_DEEP_LINK:this.$CctaDataStore1.iphoneDeepLink=a.payload;this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").CHANGE_IPHONE_URI:this.$CctaDataStore1.iphoneURI=b("ads-lib-urllib").normalize(a.payload);this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").SELECT_IPHONE_APP:a.payload===b("PageCallToActionDestinationTypes").WEBSITE||a.payload===b("PageCallToActionDestinationTypes").APP_DEEPLINK?this.$CctaDataStore1.iphoneDestinationType=a.payload:(this.$CctaDataStore1.iphoneFBAppID=a.payload,this.$CctaDataStore1.iphoneDestinationType=b("PageCallToActionDestinationTypes").FACEBOOK_APP);this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").TOGGLE_APP_CONNECTION:this.$CctaDataStore1.appID?this.$CctaDataStore1.appID=null:this.$CctaDataStore1.appID=this.$CctaDataStore3.appID;this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").TOGGLE_WEB_DESTINATION_TYPE:this.$CctaDataStore1.webDestinationType=a.payload;this.$CctaDataStore1.androidDestinationType=this.$CctaDataStore1.webDestinationType;this.$CctaDataStore1.iphoneDestinationType=this.$CctaDataStore1.webDestinationType;this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").CHANGE_ANDROID_DEEP_LINK:this.$CctaDataStore1.androidDeepLink=a.payload;this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").CHANGE_ANDROID_PACKAGE_NAME:this.$CctaDataStore1.androidPackageName=a.payload;this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").CHANGE_ANDROID_URI:this.$CctaDataStore1.androidURI=b("ads-lib-urllib").normalize(a.payload);this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").SELECT_ANDROID_APP:a.payload===b("PageCallToActionDestinationTypes").WEBSITE||a.payload===b("PageCallToActionDestinationTypes").APP_DEEPLINK?this.$CctaDataStore1.androidDestinationType=a.payload:(this.$CctaDataStore1.androidFBAppID=a.payload,this.$CctaDataStore1.androidDestinationType=b("PageCallToActionDestinationTypes").FACEBOOK_APP);this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").CHANGE_INSTANT_REPLY_ENABLED:this.$CctaDataStore1.instantReplyState.isInstantReplyEnabled=a.payload;this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").CHANGE_INSTANT_REPLY_MESSAGE:this.$CctaDataStore1.instantReplyState.replyMessage=a.payload;this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").CHANGE_NATIVE_VIDEO:this.$CctaDataStore1.nativeVideoID=a.payload;this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").POST_VIDEO_FINISHED:this.$CctaDataStore1.nativeVideoID=a.payload.videoID;this.__emitChange();break;case b("CctaDataActionTypes_DEPRECATED").CHANGE_CANVAS:this.$CctaDataStore1.canvasID=a.payload;this.__emitChange();break;default:}};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a(b("CctaAppDispatcher_DEPRECATED"))}),null);
__d("ControlledRefererIFrame.react",["ControlledReferer","ControlledRefererIFrameConfig","React","SecurePostMessage","StaticContainer.react","URI"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.mountFrameRef=function(a){this.frame=a};d.updateFrame=function(){var a=this,c=this.frame;if(!c)return;b("ControlledReferer").shouldUseFacebookReferer(c,function(){var d=c.contentWindow.document;d.body.innerHTML='\n        <form method="GET" id="theform"></form>\n        '+b("ControlledRefererIFrameConfig").additional_markup+"\n      ";var e=new(g||(g=b("URI")))(a.props.src).qualify(),f=d.getElementById("theform");f.action=e.toString();e=e.getQueryData();for(var h in e)if(Object.prototype.hasOwnProperty.call(e,h)){var i=d.createElement("input");i.name=h;i.setAttribute("value",e[h]);i.autocomplete="off";i.type="hidden";f.appendChild(i)}d.body.innerHTML+='\n        <iframe\n          frameborder="0"\n          width="1"\n          height="1"\n          onload="document.getElementById(\'theform\').submit()"\n        />\n      ';a.props.onFrameRender&&a.props.onFrameRender(a.props)})};d.componentDidMount=function(){this.updateFrame()};d.componentDidUpdate=function(a){a.src!==this.props.src&&this.updateFrame()};d.UNSAFE_componentWillReceiveProps=function(a){var b=this.frame;b&&(a.width!==this.props.width||a.height!==this.props.height)&&(a.width!=null&&(b.width=""+a.width),a.height!=null&&(b.height=""+a.height))};d.render=function(){var a=this,c=this.props;c.src;c=babelHelpers.objectWithoutPropertiesLoose(c,["src"]);return h.jsx(b("StaticContainer.react"),{children:h.jsx("iframe",babelHelpers["extends"]({},c,{ref:function(b){return a.mountFrameRef(b)}}))})};d.postMessage=function(a,c){this.frame&&b("SecurePostMessage").sendMessageToSpecificOrigin(this.frame.contentWindow,a,c)};return c}(h.PureComponent);e.exports=a}),null);