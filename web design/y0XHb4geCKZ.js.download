if (self.CavalryLogger) { CavalryLogger.start_js(["R6Jry"]); }

__d("ReactComposerMarkdownToggleController.react",["fbt","Arbiter","FBConfirmDialog.react","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerEvents","ReactComposerLoggingName","ReactComposerStatusActions","ReactComposerStatusStore","ReactComposerTaggerActions","ReactComposerTaggerStore","ShimButton.react","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=b("createReactClass_DEPRECATED")({displayName:"ReactComposerMarkdownToggleController",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{taggerID:b("prop-types").string.isRequired,loggingName:b("prop-types").oneOf(Object.values(b("ReactComposerLoggingName"))).isRequired,children:b("prop-types").element.isRequired},getInitialState:function(){return{showDialog:!1}},_onButtonClick:function(){b("ReactComposerStatusStore").getRichTextBlocks(this.context.composerID)!==null?this.setState({showDialog:!0}):this._onSelect()},_onConfirm:function(){this.setState({showDialog:!1}),this._onSelect()},_onCancel:function(){this.setState({showDialog:!1})},render:function(){var a=null,c=g._("Warning"),d=g._("You will lose all your formatting.");this.state.showDialog&&(a=h.jsx(b("FBConfirmDialog.react"),{title:c,shown:!0,onToggle:this._onCancel,onConfirm:this._onConfirm,onCancel:this._onCancel,content:d}));return h.jsxs(b("ShimButton.react"),{onClick:this._onButtonClick,tabIndex:-1,children:[this.props.children,a]})},_onSelect:function(){var a=b("ReactComposerTaggerStore").hasMarkdown(this.context.composerID);b("ReactComposerTaggerActions").setTaggerData(this.context.composerID,this.props.loggingName,this.props.taggerID,{isMarkdown:!a});a||b("ReactComposerStatusActions").removeEditorStateFormatting(this.context.composerID);b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)}});e.exports=a}),null);
__d("ReactComposerMarkdownSproutContainer.react",["FluxContainer","React","ReactComposerContextTypes","ReactComposerMarkdownToggleController.react","ReactComposerSproutItem.react","ReactComposerTaggerStore","ReactComposerTaggerType"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("ReactComposerTaggerStore")]};c.calculateState=function(a,c,d){return{highlighted:b("ReactComposerTaggerStore").hasData(d.composerID,b("ReactComposerTaggerType").MARKDOWN)}};var d=c.prototype;d.render=function(){return g.jsx(b("ReactComposerMarkdownToggleController.react"),babelHelpers["extends"]({},this.props,{taggerID:b("ReactComposerTaggerType").MARKDOWN,loggingName:this.props.uiConfig.loggingName,children:g.jsx(b("ReactComposerSproutItem.react"),{uiConfig:this.props.uiConfig,highlighted:this.state.highlighted})}))};return c}(g.PureComponent);a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);