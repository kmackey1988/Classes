if (self.CavalryLogger) { CavalryLogger.start_js(["tKI4o"]); }

__d("AdsAPIAdAssetLinkURLFields",[],(function(a,b,c,d,e,f){e.exports={ID:"id",WEBSITE_URL:"website_url",DISPLAY_URL:"display_url",ANDROID_DEEPLINK_URL:"android_deeplink_url",IPHONE_DEEPLINK_URL:"iphone_deeplink_url",IPAD_DEEPLINK_URL:"ipad_deeplink_url",IOS_DEEPLINK_URL:"ios_deeplink_url",DEEPLINK_URL:"deeplink_url",CAROUSEL_SEE_MORE_URL:"carousel_see_more_url",ADLABELS:"adlabels"}}),null);
__d("ApiAdPageTypeToPlatformMap",[],(function(a,b,c,d,e,f){e.exports={instagramstream:"instagram",instagramstory:"instagram"}}),null);
__d("DynamicAdsVerticalToContentType",[],(function(a,b,c,d,e,f){e.exports={automotive_models:"automotive_model",bookable:"bookable_item",commerce:"product",destinations:"destination",flights:"flight",home_listings:"home_listing",home_service_providers:"home_service_provider",hotels:"hotel",local_service_businesses:"local_service_business",location_based_items:"location_based_item",media_titles:"media_title",offline_commerce:"offline_product",test_vertical:"test_vertical",ticketed_experiences:"ticketed_experience",vehicle_offers:"vehicle_offer",vehicles:"vehicle",none:"none"}}),null);
__d("DynamicContentTypeToCatalogVertical",[],(function(a,b,c,d,e,f){e.exports={product:"commerce",destination:"destinations",flight:"flights",home_listing:"home_listings",hotel:"hotels",automotive_listing:"automotive_listings",vehicle:"vehicles",vehicle_offer:"vehicle_offers",media_title:"media_titles",geo_based_item:"geo_based_items",automotive_model:"automotive_models",offline_product:"offline_commerce",location_based_item:"location_based_items",local_service_business:"local_service_businesses"}}),null);
__d("SupportedEventsForContentType",[],(function(a,b,c,d,e,f){e.exports={product:["ViewContent","AddToCart","Purchase"],hotel:["Search","ViewContent","InitiateCheckout","Purchase"],flight:["Search","ViewContent","InitiateCheckout","Purchase"],destination:["Search","ViewContent","InitiateCheckout","Purchase"],home_listing:["Search","ViewContent","InitiateCheckout","Purchase"],automotive_listing:["ViewContent","Purchase","Lead"],vehicle:["Search","ViewContent","AddToWishlist","Lead"],vehicle_offer:["Search","ViewContent","AddToWishlist","Lead"],media_title:["ViewContent","AddToCart","Purchase","Subscribe"],geo_based_item:[],automotive_model:["Search","ViewContent","AddToCart","AddToWishlist","InitiateCheckout","Purchase","Lead"],offline_product:["Purchase"],location_based_item:["Search","ViewContent","InitiateCheckout","Purchase"],local_service_business:["ViewContent","AddToCart","Purchase"],bookable_item:[],home_service_provider:[],test_vertical:[],ticketed_experience:[],none:[]}}),null);
__d("AdsCanvasAppAdgroupCreativePluginCommon",["immutable"],(function(a,b,c,d,e,f){"use strict";a={getSupportedMediaFormats:function(a){return new Set(["IMAGE","CAROUSEL","VIDEO"])},getSupportedCallToActiveValueFields:function(){return b("immutable").Set(["app_link"])}};e.exports=a}),null);
__d("AdsDefaultAdgroupCreativePlugin",["AdsInstagramApplicabilityUtils","AdsPlacementAPISpecReaderUtils","AdsUEditorAdgroupCreativeFormat","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsPlacementAPISpecReaderUtils").convertCampaignToPlacementSpec_LEGACY,h=b("AdsPlacementAPISpecReaderUtils").isOnlyActiveFacebookInstreamVideosPlacement;a={type:"adgroup/creative",key:"default",pivots:{},getSupportedMediaFormats:function(a){a=a.campaign;return b("AdsInstagramApplicabilityUtils").hasInstagramIGTVPlacementOnly(a)||h(g(a))?new Set(["VIDEO"]):new Set(["IMAGE","VIDEO","CAROUSEL"])},isCarouselVideoEligible:function(a){return!1},isCollectionsFormatEligible:function(a){return!1},isCanvasCollectionsOnly:function(a){return!1},isVideoViewCarouselEligible:function(a){return!1},getVideoLPPFormat:function(a){return null},getSupportedCanvasCheckboxMediaFormats:function(){return new Set([])},getSupportedPlayableAssetMediaFormats:function(){return new Set([])},allowUsingExistingPost:function(){return!1},supportsLandingView:function(){return!1},getSupportedCallToActiveValueFields:function(){return b("immutable").Set()},shouldSetCanvasVideoTransitionEnabled:function(){return!1},usesTemplateDataForStaticCarousel:function(){return!1},defaultProductSalesChannel:function(){return"online"},supportsNonCommerceCatalogs:function(a){return a===b("AdsUEditorAdgroupCreativeFormat").ACO?!1:!0}};e.exports=a}),null);
__d("AdsAppInstallsCanvasAppAdgroupCreativePlugin",["AdsAPIObjectives","AdsCanvasAppAdgroupCreativePluginCommon","AdsDefaultAdgroupCreativePlugin","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsCanvasAppAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"app-installs/canvas-app",pivots:{objective:b("AdsAPIObjectives").APP_INSTALLS,promotedObjectType:b("AdsPromotedObjectTypes").CANVAS_APP}});e.exports=a}),null);
__d("AdsMobileAppAdgroupCreativePluginCommon",["AdsAPIAdgroupRecordUtils","AdsAPIOptimizationGoals","AdsInstagramApplicabilityUtils","AdsUEditorAdgroupCreativeFormat","immutable"],(function(a,b,c,d,e,f){"use strict";a={getSupportedMediaFormats:function(a){a=a.campaign;var c=new Set(["CAROUSEL"]),d=b("AdsInstagramApplicabilityUtils").hasInstagramIGTVPlacementOnly(a);a.optimization_goal===b("AdsAPIOptimizationGoals").VIDEO_VIEWS||d?c.add("VIDEO"):((d=a.promoted_object)==null?void 0:d.offer_id)?c.add("IMAGE"):(c.add("VIDEO"),c.add("IMAGE"));return c},isCarouselVideoEligible:function(a){return!0},isVideoViewCarouselEligible:function(a){return a.campaign.optimization_goal===b("AdsAPIOptimizationGoals").VIDEO_VIEWS},getSupportedCallToActiveValueFields:function(){return b("immutable").Set(["app_link"])},getSupportedCanvasCheckboxMediaFormats:function(a,c){c=!!a&&b("AdsAPIAdgroupRecordUtils").isTemplateCreative(a.adgroup);return!c?new Set([b("AdsUEditorAdgroupCreativeFormat").COLLECTIONS,b("AdsUEditorAdgroupCreativeFormat").SINGLE_IMAGE,b("AdsUEditorAdgroupCreativeFormat").SINGLE_VIDEO]):new Set([b("AdsUEditorAdgroupCreativeFormat").COLLECTIONS])}};e.exports=a}),null);
__d("AdsMobileAppInstallsAdgroupCreativePluginCommon",["AdsAPIAdgroupRecordUtils","AdsDefaultAdgroupCreativePlugin","AdsMobileAppAdgroupCreativePluginCommon","AdsUEditorAdgroupCreativeFormat"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsMobileAppAdgroupCreativePluginCommon"),{getSupportedMediaFormats:function(a){var c=a.adgroup;return b("AdsAPIAdgroupRecordUtils").isTemplateCreative(c)?new Set(["IMAGE","CAROUSEL"]):b("AdsMobileAppAdgroupCreativePluginCommon").getSupportedMediaFormats(a)},getSupportedPlayableAssetMediaFormats:function(){return new Set([b("AdsUEditorAdgroupCreativeFormat").SINGLE_VIDEO])}});e.exports=a}),null);
__d("AdsAppInstallsMobileAppAdgroupCreativePlugin",["AdsAPIObjectives","AdsMobileAppInstallsAdgroupCreativePluginCommon","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsMobileAppInstallsAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"app-installs/mobile-app",pivots:{objective:b("AdsAPIObjectives").APP_INSTALLS,promotedObjectType:b("AdsPromotedObjectTypes").MOBILE_APP},allowUsingExistingPost:function(){return!0}});e.exports=a}),null);
__d("AdsBrandAwarenessAdgroupCreativePlugin",["AdsAPIObjectives","AdsBrandAwarenessUtils","AdsDefaultAdgroupCreativePlugin","AdsObjectTypeUtils","AdsUEditorAdgroupCreativeFormat","ApiAdObjectTypes","adsAccountGK"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),{type:"adgroup/creative",key:"brand-awareness",pivots:{objective:b("AdsAPIObjectives").BRAND_AWARENESS},isCarouselVideoEligible:function(a){return!0},isCollectionsFormatEligible:function(a){return b("adsAccountGK")._(a.account,"8MDFQ0Htd")},getVideoLPPFormat:function(a){return b("AdsBrandAwarenessUtils").isWebsiteLinkEnabled(a.adgroup)&&b("AdsObjectTypeUtils").getObjectTypeFromCreativeSpecType(a.adgroup)===b("ApiAdObjectTypes").VIDEO?"VIDEO_LPP":null},allowUsingExistingPost:function(){return!0},getSupportedCanvasCheckboxMediaFormats:function(a){a=a!=null&&b("adsAccountGK")._(a.account,"8MDFQ0Htd");var c=new Set([b("AdsUEditorAdgroupCreativeFormat").CAROUSEL,b("AdsUEditorAdgroupCreativeFormat").SINGLE_IMAGE,b("AdsUEditorAdgroupCreativeFormat").SINGLE_VIDEO]);a&&c.add(b("AdsUEditorAdgroupCreativeFormat").COLLECTIONS);return c},getSupportedPlayableAssetMediaFormats:function(a){return new Set([b("AdsUEditorAdgroupCreativeFormat").SINGLE_VIDEO])}});e.exports=a}),null);
__d("AdsCanvasAppEngagementAdgroupCreativePlugin",["AdsAPIObjectives","AdsCanvasAppAdgroupCreativePluginCommon","AdsDefaultAdgroupCreativePlugin"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsCanvasAppAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"canvas-app-engagement",pivots:{objective:b("AdsAPIObjectives").CANVAS_APP_ENGAGEMENT}});e.exports=a}),null);
__d("AdsCanvasAppInstallsAdgroupCreativePlugin",["AdsAPIObjectives","AdsCanvasAppAdgroupCreativePluginCommon","AdsDefaultAdgroupCreativePlugin"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsCanvasAppAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"canvas-app-installs",pivots:{objective:b("AdsAPIObjectives").CANVAS_APP_INSTALLS}});e.exports=a}),null);
__d("AdsWebsiteAdgroupCreativePluginCommon",["AdsAudienceDirectConfig","AdsObjectTypeUtils","AdsUEditorAdgroupCreativeFormat","ApiAdObjectTypes"],(function(a,b,c,d,e,f){"use strict";a={isCarouselVideoEligible:function(a){return!0},isCollectionsFormatEligible:function(a){return!0},getVideoLPPFormat:function(a){return b("AdsObjectTypeUtils").getObjectTypeFromCreativeSpecType(a.adgroup)===b("ApiAdObjectTypes").VIDEO?"VIDEO_LPP":null},getSupportedCanvasCheckboxMediaFormats:function(){var a;return new Set([(a=b("AdsUEditorAdgroupCreativeFormat")).CAROUSEL,a.COLLECTIONS,a.SINGLE_IMAGE,a.SINGLE_VIDEO])},allowUsingExistingPost:function(){return!b("AdsAudienceDirectConfig").isDirectDealsUser}};e.exports=a}),null);
__d("AdsConversionsAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsUEditorAdgroupCreativeFormat","AdsWebsiteAdgroupCreativePluginCommon"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsWebsiteAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"conversions",pivots:{objective:b("AdsAPIObjectives").CONVERSIONS},getSupportedPlayableAssetMediaFormats:function(a){return new Set([b("AdsUEditorAdgroupCreativeFormat").SINGLE_VIDEO])}});e.exports=a}),null);
__d("AdsDynamicAdgroupCreativePluginCommon",["AdsCollectionsConstants","isFalsey","isTruthy"],(function(a,b,c,d,e,f){"use strict";a={getSupportedMediaFormats:function(a){a=a.adgroup;a=a==null?void 0:(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.template_data)==null?void 0:a.offer_id;return b("isTruthy")(a)?new Set(["CAROUSEL"]):new Set(["CAROUSEL","IMAGE"])},isCollectionsFormatEligible:function(a,c){a=(a=a.adgroup)==null?void 0:(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.template_data)==null?void 0:a.offer_id;c=b("AdsCollectionsConstants").SUPPORTED_VERTICALS.includes(c);return b("isFalsey")(a)&&c}};e.exports=a}),null);
__d("AdsConversionsDynamicAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsDynamicAdgroupCreativePluginCommon","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsDynamicAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"conversions/dynamic",pivots:{objective:b("AdsAPIObjectives").CONVERSIONS,promotedObjectType:b("AdsPromotedObjectTypes").PRODUCT_SET}});e.exports=a}),null);
__d("AdsMessengerAdgroupCreativePluginCommon",["AdsObjectTypeUtils","ApiAdObjectTypes","immutable"],(function(a,b,c,d,e,f){"use strict";a={allowUsingExistingPost:function(){return!1},getSupportedCanvasCheckboxMediaFormats:function(){return new Set([])},getSupportedCallToActiveValueFields:function(){return b("immutable").Set(["app_destination"])},isCarouselVideoEligible:function(a){return!0},isCollectionsFormatEligible:function(a){return!1},getVideoLPPFormat:function(a){return b("AdsObjectTypeUtils").getObjectTypeFromCreativeSpecType(a.adgroup)===b("ApiAdObjectTypes").VIDEO?"VIDEO_LPP":null}};e.exports=a}),null);
__d("AdsConversionsMessengerAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsMessengerAdgroupCreativePluginCommon","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsMessengerAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"conversions/messenger",pivots:{objective:b("AdsAPIObjectives").CONVERSIONS,promotedObjectType:b("AdsPromotedObjectTypes").MESSENGER}});e.exports=a}),null);
__d("AdsConversionsMobileAppAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsMobileAppAdgroupCreativePluginCommon","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsMobileAppAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"conversions/mobile-app",pivots:{objective:b("AdsAPIObjectives").CONVERSIONS,promotedObjectType:b("AdsPromotedObjectTypes").MOBILE_APP},isCollectionsFormatEligible:function(a){return!0}});e.exports=a}),null);
__d("AdsConversionsPixelHasOfferAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsOfferState","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),{type:"adgroup/creative",key:"conversions/pixel/has-offer",pivots:{objective:b("AdsAPIObjectives").CONVERSIONS,promotedObjectType:b("AdsPromotedObjectTypes").PIXEL,offerStateType:b("AdsOfferState").HAS_OFFER},isCollectionsFormatEligible:function(a){return!1},isCarouselVideoEligible:function(a){return!1},isPageSectionEnabled:function(){return!1}});e.exports=a}),null);
__d("AdsWhatsAppAdgroupCreativePluginCommon",["immutable"],(function(a,b,c,d,e,f){"use strict";a={getSupportedCanvasCheckboxMediaFormats:function(){return new Set([])},getSupportedCallToActiveValueFields:function(){return b("immutable").Set(["whatsapp_number","link"])}};e.exports=a}),null);
__d("AdsConversionsWhatsAppAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsPromotedObjectTypes","AdsWhatsAppAdgroupCreativePluginCommon"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsWhatsAppAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"conversions/whatsapp",pivots:{objective:b("AdsAPIObjectives").CONVERSIONS,promotedObjectType:b("AdsPromotedObjectTypes").WHATSAPP}});e.exports=a}),null);
__d("AdsDealsVideoViewsAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsInstagramApplicabilityUtils","isTruthy"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),{type:"adgroup/creative",key:"video-views/deals",pivots:{accountType:"DIRECT_DEALS",objective:b("AdsAPIObjectives").VIDEO_VIEWS},getSupportedMediaFormats:function(a){return new Set(["VIDEO"])},isVideoViewCarouselEligible:function(a){a=a.campaign?b("AdsInstagramApplicabilityUtils").hasInstagramStoryPlacementOnly(a.campaign.toJS()):!1;return!a},getVideoLPPFormat:function(a){return b("isTruthy")((a=a.adgroup.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.video_data)==null?void 0:(a=a.call_to_action)==null?void 0:(a=a.value)==null?void 0:a.link)?"VIDEO_LPP":null},allowUsingExistingPost:function(){return!1},shouldSetCanvasVideoTransitionEnabled:function(){return!0}});e.exports=a}),null);
__d("AdsEventResponsesAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),{type:"adgroup/creative",key:"event-responses",pivots:{objective:b("AdsAPIObjectives").EVENT_RESPONSES},getSupportedMediaFormats:function(a){return new Set(["IMAGE","VIDEO"])}});e.exports=a}),null);
__d("AdsLeadGenDynamicAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsDynamicAdgroupCreativePluginCommon","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsDynamicAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"lead-generation/dynamic",pivots:{objective:b("AdsAPIObjectives").LEAD_GENERATION,promotedObjectType:b("AdsPromotedObjectTypes").PRODUCT_SET},isCollectionsFormatEligible:function(a){return!1}});e.exports=a}),null);
__d("AdsLeadGenerationAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),{type:"adgroup/creative",key:"lead-generation",pivots:{objective:b("AdsAPIObjectives").LEAD_GENERATION},isCarouselVideoEligible:function(a){return!0}});e.exports=a}),null);
__d("AdsLinkClicksAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsUEditorAdgroupCreativeFormat","AdsWebsiteAdgroupCreativePluginCommon"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsWebsiteAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"link_clicks",pivots:{objective:b("AdsAPIObjectives").LINK_CLICKS},getSupportedPlayableAssetMediaFormats:function(a){return new Set([b("AdsUEditorAdgroupCreativeFormat").SINGLE_VIDEO])}});e.exports=a}),null);
__d("AdsLinkClicksCanvasAppAdgroupCreativePlugin",["AdsAPIObjectives","AdsCanvasAppAdgroupCreativePluginCommon","AdsDefaultAdgroupCreativePlugin","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsCanvasAppAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"link_clicks/canvas-app",pivots:{objective:b("AdsAPIObjectives").LINK_CLICKS,promotedObjectType:b("AdsPromotedObjectTypes").CANVAS_APP}});e.exports=a}),null);
__d("AdsLinkClicksDynamicAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsDynamicAdgroupCreativePluginCommon","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsDynamicAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"link_clicks/dynamic",pivots:{objective:b("AdsAPIObjectives").LINK_CLICKS,promotedObjectType:b("AdsPromotedObjectTypes").PRODUCT_SET}});e.exports=a}),null);
__d("AdsLinkClicksMessengerAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsMessengerAdgroupCreativePluginCommon","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsMessengerAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"link_clicks/messenger",pivots:{objective:b("AdsAPIObjectives").LINK_CLICKS,promotedObjectType:b("AdsPromotedObjectTypes").MESSENGER}});e.exports=a}),null);
__d("AdsLinkClicksMobileAppAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsMobileAppAdgroupCreativePluginCommon","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsMobileAppAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"link_clicks/mobile-app",pivots:{objective:b("AdsAPIObjectives").LINK_CLICKS,promotedObjectType:b("AdsPromotedObjectTypes").MOBILE_APP},isCollectionsFormatEligible:function(a){return!0}});e.exports=a}),null);
__d("AdsLinkClicksWebsiteHasOfferAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsOfferState","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),{type:"adgroup/creative",key:"link_clicks/website/has-offer",pivots:{objective:b("AdsAPIObjectives").LINK_CLICKS,promotedObjectType:b("AdsPromotedObjectTypes").WEBSITE,offerStateType:b("AdsOfferState").HAS_OFFER},isCarouselVideoEligible:function(a){return!1},isPageSectionEnabled:function(){return!1}});e.exports=a}),null);
__d("AdsLinkClicksWhatsAppAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsPromotedObjectTypes","AdsWhatsAppAdgroupCreativePluginCommon"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsWhatsAppAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"link_clicks/whatsapp",pivots:{objective:b("AdsAPIObjectives").LINK_CLICKS,promotedObjectType:b("AdsPromotedObjectTypes").WHATSAPP}});e.exports=a}),null);
__d("AdsMessagesAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsMessengerAdgroupCreativePluginCommon"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsMessengerAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"messages",pivots:{objective:b("AdsAPIObjectives").MESSAGES}});e.exports=a}),null);
__d("AdsMessagesMessengerAdgroupCreativePlugin",["AdsAPIObjectives","AdsMessagesAdgroupCreativePlugin","AdsMessengerAdgroupCreativePluginCommon","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsMessagesAdgroupCreativePlugin"),b("AdsMessengerAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"messages/messenger",pivots:{objective:b("AdsAPIObjectives").MESSAGES,promotedObjectType:b("AdsPromotedObjectTypes").MESSENGER},allowUsingExistingPost:function(a){return a!==void 0}});e.exports=a}),null);
__d("AdsMessagesWhatsAppAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsObjectTypeUtils","AdsPromotedObjectTypes","AdsWhatsAppAdgroupCreativePluginCommon","ApiAdObjectTypes"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsWhatsAppAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"messages/whatsapp",pivots:{objective:b("AdsAPIObjectives").MESSAGES,promotedObjectType:b("AdsPromotedObjectTypes").WHATSAPP},getVideoLPPFormat:function(a){return b("AdsObjectTypeUtils").getObjectTypeFromCreativeSpecType(a.adgroup)===b("ApiAdObjectTypes").VIDEO?"VIDEO_LPP":null}});e.exports=a}),null);
__d("AdsMobileAppEngagementAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsMobileAppAdgroupCreativePluginCommon"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsMobileAppAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"mobile-app-engagement",pivots:{objective:b("AdsAPIObjectives").MOBILE_APP_ENGAGEMENT}});e.exports=a}),null);
__d("AdsMobileAppInstallsAdgroupCreativePlugin",["AdsAPIObjectives","AdsMobileAppInstallsAdgroupCreativePluginCommon"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsMobileAppInstallsAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"mobile-app-installs",pivots:{objective:b("AdsAPIObjectives").MOBILE_APP_INSTALLS}});e.exports=a}),null);
__d("AdsPageLikesAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),{type:"adgroup/creative",key:"page-likes",pivots:{objective:b("AdsAPIObjectives").PAGE_LIKES},getSupportedMediaFormats:function(a){return new Set(["IMAGE","VIDEO"])},supportsLandingView:function(){return!0}});e.exports=a}),null);
__d("AdsPostEngagementAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsUEditorAdgroupCreativeFormat"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),{type:"adgroup/creative",key:"post-engagement",pivots:{objective:b("AdsAPIObjectives").POST_ENGAGEMENT},getSupportedMediaFormats:function(a){return new Set(["IMAGE","VIDEO"])},isCanvasFormatEligible:function(a){return!0},isCollectionsFormatEligible:function(a){return!1},isCanvasCollectionsOnly:function(a){return!0},getSupportedCanvasCheckboxMediaFormats:function(){return new Set([b("AdsUEditorAdgroupCreativeFormat").SINGLE_IMAGE,b("AdsUEditorAdgroupCreativeFormat").SINGLE_VIDEO,b("AdsUEditorAdgroupCreativeFormat").COLLECTIONS])},allowUsingExistingPost:function(){return!0}});e.exports=a}),null);
__d("AdsProductCatalogSalesAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsDynamicAdgroupCreativePluginCommon","AdsUEditorAdgroupCreativeFormat"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsDynamicAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"product-catalog-sales",pivots:{objective:b("AdsAPIObjectives").PRODUCT_CATALOG_SALES},getSupportedCanvasCheckboxMediaFormats:function(a,c){return new Set([b("AdsUEditorAdgroupCreativeFormat").COLLECTIONS])}});e.exports=a}),null);
__d("AdsProductCatalogSalesFlightsAdgroupCreativePlugin",["AdsAPIObjectives","AdsDefaultAdgroupCreativePlugin","AdsDynamicAdgroupCreativePluginCommon","AdsDynamicTargetingCategories","AdsPromotedObjectTypes","CatalogVertical"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsDynamicAdgroupCreativePluginCommon"),{type:"adgroup/creative",key:"product-catalog-sales-flights",pivots:{objective:b("AdsAPIObjectives").PRODUCT_CATALOG_SALES,promotedObjectType:b("AdsPromotedObjectTypes").PRODUCT_SET,catalogVertical:b("CatalogVertical").FLIGHTS},getSupportedMediaFormats:function(a){return a.targetingCategory===b("AdsDynamicTargetingCategories").PROSPECTING?new Set(["CAROUSEL","IMAGE"]):new Set(["IMAGE"])},isCollectionsFormatEligible:function(a,c){return a.targetingCategory===b("AdsDynamicTargetingCategories").PROSPECTING}});e.exports=a}),null);
__d("AdsReachAdgroupCreativePlugin",["AdsAPIObjectives","AdsBrandAwarenessAdgroupCreativePlugin","AdsDefaultAdgroupCreativePlugin"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),b("AdsBrandAwarenessAdgroupCreativePlugin"),{type:"adgroup/creative",key:"reach",pivots:{objective:b("AdsAPIObjectives").REACH}});e.exports=a}),null);
__d("AdsStoreVisitsAdgroupCreativePlugin",["AdsAPIObjectives","AdsCollectionsAdUtils","AdsDefaultAdgroupCreativePlugin","AdsUEditorAdgroupCreativeFormat","isTruthy"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),{type:"adgroup/creative",key:"store-visits",pivots:{objective:b("AdsAPIObjectives").STORE_VISITS},getSupportedMediaFormats:function(a){var c;a=a.adgroup;c=(c=a.creative)==null?void 0:c.product_set_id;a=b("AdsCollectionsAdUtils").isCollectionsAd(a.creative);return b("isTruthy")(c)&&!a?new Set(["CAROUSEL","IMAGE"]):new Set(["CAROUSEL","IMAGE","VIDEO"])},isCarouselVideoEligible:function(a){return!((a=a.adgroup.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.template_data)==null?void 0:a.offer_id)},getSupportedCanvasCheckboxMediaFormats:function(a,c){return c!==!0?new Set([b("AdsUEditorAdgroupCreativeFormat").CAROUSEL,b("AdsUEditorAdgroupCreativeFormat").SINGLE_IMAGE,b("AdsUEditorAdgroupCreativeFormat").SINGLE_VIDEO,b("AdsUEditorAdgroupCreativeFormat").COLLECTIONS]):new Set([])},isCollectionsFormatEligible:function(a){var c;a=b("isTruthy")((c=a.adgroup.creative)==null?void 0:(c=c.object_story_spec)==null?void 0:(c=c.template_data)==null?void 0:c.offer_id)||b("isTruthy")((c=a.adgroup.creative)==null?void 0:(a=c.object_story_spec)==null?void 0:(c=a.video_data)==null?void 0:c.offer_id);return!a},usesTemplateDataForStaticCarousel:function(){return!0},defaultProductSalesChannel:function(){return"omni"},supportsNonCommerceCatalogs:function(a){return a!==b("AdsUEditorAdgroupCreativeFormat").CAROUSEL}});e.exports=a}),null);
__d("AdsVideoViewsAdgroupCreativePlugin",["AdsAPIObjectives","AdsAPIOptimizationGoals","AdsDefaultAdgroupCreativePlugin","AdsInstagramApplicabilityUtils","AdsPlacementAPISpecReaderUtils","AdsUEditorAdgroupCreativeFormat","isTruthy"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsPlacementAPISpecReaderUtils").convertCampaignToPlacementSpec_LEGACY;function h(a){if(!a)return!1;var c=g(a.toJS());c=b("AdsInstagramApplicabilityUtils").placementSpecHasInstagramStoryPlacementOnly(c);a=a.optimization_goal===b("AdsAPIOptimizationGoals").TWO_SECOND_CONTINUOUS_VIDEO_VIEWS;return c&&!a}a=babelHelpers["extends"]({},b("AdsDefaultAdgroupCreativePlugin"),{type:"adgroup/creative",key:"video-views",pivots:{objective:b("AdsAPIObjectives").VIDEO_VIEWS},getSupportedMediaFormats:function(a){a=a.campaign;return h(a)?new Set(["CAROUSEL","VIDEO"]):new Set(["VIDEO"])},isVideoViewCarouselEligible:function(a){a=a.campaign;return h(a)},getVideoLPPFormat:function(a){return b("isTruthy")((a=a.adgroup.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.video_data)==null?void 0:(a=a.call_to_action)==null?void 0:(a=a.value)==null?void 0:a.link)?"VIDEO_LPP":null},getSupportedCanvasCheckboxMediaFormats:function(){return new Set([b("AdsUEditorAdgroupCreativeFormat").SINGLE_VIDEO])},allowUsingExistingPost:function(){return!0},shouldSetCanvasVideoTransitionEnabled:function(){return!0},getSupportedPlayableAssetMediaFormats:function(a){return new Set([b("AdsUEditorAdgroupCreativeFormat").SINGLE_VIDEO])}});e.exports=a}),null);
__d("AdsAdgroupCreativePlugins",["adsPluginsFactory","AdsAppInstallsCanvasAppAdgroupCreativePlugin","AdsAppInstallsMobileAppAdgroupCreativePlugin","AdsBrandAwarenessAdgroupCreativePlugin","AdsCanvasAppEngagementAdgroupCreativePlugin","AdsCanvasAppInstallsAdgroupCreativePlugin","AdsConversionsAdgroupCreativePlugin","AdsConversionsDynamicAdgroupCreativePlugin","AdsConversionsMessengerAdgroupCreativePlugin","AdsConversionsMobileAppAdgroupCreativePlugin","AdsConversionsPixelHasOfferAdgroupCreativePlugin","AdsConversionsWhatsAppAdgroupCreativePlugin","AdsDefaultAdgroupCreativePlugin","AdsEventResponsesAdgroupCreativePlugin","AdsLeadGenerationAdgroupCreativePlugin","AdsLeadGenDynamicAdgroupCreativePlugin","AdsLinkClicksAdgroupCreativePlugin","AdsLinkClicksCanvasAppAdgroupCreativePlugin","AdsLinkClicksDynamicAdgroupCreativePlugin","AdsLinkClicksMessengerAdgroupCreativePlugin","AdsLinkClicksMobileAppAdgroupCreativePlugin","AdsLinkClicksWebsiteHasOfferAdgroupCreativePlugin","AdsLinkClicksWhatsAppAdgroupCreativePlugin","AdsMessagesAdgroupCreativePlugin","AdsMessagesMessengerAdgroupCreativePlugin","AdsMessagesWhatsAppAdgroupCreativePlugin","AdsMobileAppEngagementAdgroupCreativePlugin","AdsMobileAppInstallsAdgroupCreativePlugin","AdsPageLikesAdgroupCreativePlugin","AdsPostEngagementAdgroupCreativePlugin","AdsProductCatalogSalesAdgroupCreativePlugin","AdsProductCatalogSalesFlightsAdgroupCreativePlugin","AdsReachAdgroupCreativePlugin","AdsStoreVisitsAdgroupCreativePlugin","AdsVideoViewsAdgroupCreativePlugin","AdsDealsVideoViewsAdgroupCreativePlugin"],(function(a,b,c,d,e,f){"use strict";a=b("adsPluginsFactory")(function(){return[b("AdsAppInstallsCanvasAppAdgroupCreativePlugin"),b("AdsAppInstallsMobileAppAdgroupCreativePlugin"),b("AdsBrandAwarenessAdgroupCreativePlugin"),b("AdsCanvasAppEngagementAdgroupCreativePlugin"),b("AdsCanvasAppInstallsAdgroupCreativePlugin"),b("AdsConversionsAdgroupCreativePlugin"),b("AdsConversionsDynamicAdgroupCreativePlugin"),b("AdsConversionsMessengerAdgroupCreativePlugin"),b("AdsConversionsMobileAppAdgroupCreativePlugin"),b("AdsConversionsPixelHasOfferAdgroupCreativePlugin"),b("AdsConversionsWhatsAppAdgroupCreativePlugin"),b("AdsDefaultAdgroupCreativePlugin"),b("AdsEventResponsesAdgroupCreativePlugin"),b("AdsLeadGenerationAdgroupCreativePlugin"),b("AdsLeadGenDynamicAdgroupCreativePlugin"),b("AdsLinkClicksAdgroupCreativePlugin"),b("AdsLinkClicksCanvasAppAdgroupCreativePlugin"),b("AdsLinkClicksDynamicAdgroupCreativePlugin"),b("AdsLinkClicksMessengerAdgroupCreativePlugin"),b("AdsLinkClicksMobileAppAdgroupCreativePlugin"),b("AdsLinkClicksWebsiteHasOfferAdgroupCreativePlugin"),b("AdsLinkClicksWhatsAppAdgroupCreativePlugin"),b("AdsMessagesAdgroupCreativePlugin"),b("AdsMessagesMessengerAdgroupCreativePlugin"),b("AdsMessagesWhatsAppAdgroupCreativePlugin"),b("AdsMobileAppEngagementAdgroupCreativePlugin"),b("AdsMobileAppInstallsAdgroupCreativePlugin"),b("AdsPageLikesAdgroupCreativePlugin"),b("AdsPostEngagementAdgroupCreativePlugin"),b("AdsProductCatalogSalesAdgroupCreativePlugin"),b("AdsProductCatalogSalesFlightsAdgroupCreativePlugin"),b("AdsReachAdgroupCreativePlugin"),b("AdsStoreVisitsAdgroupCreativePlugin"),b("AdsVideoViewsAdgroupCreativePlugin"),b("AdsDealsVideoViewsAdgroupCreativePlugin")]});e.exports=a}),null);
__d("AdsConvergenceAdgroupUtils",["AdmgrUserSettingsData","AdsAdgroupRecordAccessors","AdsAPIAdgroupRecord","AdsAPIChildAttachmentPaths","AdsMutators","AdsUnifiedCreativeAPIFields","ApiAdObjectTypes","immutable","isTruthy","setByPath"],(function(a,b,c,d,e,f){var g,h,i,j=Object.freeze({DEFAULT_CAROUSEL_ADS_CHILD_NUM:3,MAX_CAROUSEL_ADS:10,MIN_CAROUSEL_ADS_CHILD_NUM:2});g=new(b("AdsAPIAdgroupRecord"))((f={},f.creative=(g={},g.object_story_spec={},g),f));h=new(b("AdsAPIAdgroupRecord"))((f={},f.creative=(h={},h.object_story_id=null,h),f));var k=(f=b("AdsAdgroupRecordAccessors")).creative.object_type.set((i=b("ApiAdObjectTypes")).SHARE,g),l=f.creative.object_type.set(i.VIDEO,g),m=f.creative.object_type.set(i.PHOTO,g);f=f.creative.object_type.set(i.PHOTO,h);function a(a,c,d,e,f,g,h,i,k,l){i===void 0&&(i=!0);k===void 0&&(k=!0);l===void 0&&(l=j.DEFAULT_CAROUSEL_ADS_CHILD_NUM);c=c;var m=[];for(var n=0;n<l;n++){var o=b("isTruthy")(g)?{call_to_action:{type:g}}:{};o=babelHelpers["extends"]({},o,{link:d,description:"",name:e,picture:f});b("isTruthy")(g)&&(b("isTruthy")(h)&&b("setByPath")(o,b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.LINK,h));m.push(o)}b("isTruthy")(e)&&(m[0].name=e);b("isTruthy")(f)&&(m[0].picture=f);k!==null&&(c=c.setIn(b("AdsUnifiedCreativeAPIFields").multiShareOptimized.getPathOrThrow(c,a),k));i!==null&&(c=c.setIn(b("AdsUnifiedCreativeAPIFields").multiShareEndCard.getPathOrThrow(c,a),i));return c.setIn(b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(c,a),b("immutable").fromJS(m))}function c(){var a=b("AdmgrUserSettingsData");return a.last_used_post_format==="MULTIPLE"}function d(a,c){return!c?a:b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.authorization_category.set("POLITICAL"),b("AdsAdgroupRecordAccessors").creative.degrees_of_freedom_spec["delete"])(a)}e.exports={EMPTY_ADGROUP_WITH_OBJECT_STORY_SPEC:g,EMPTY_SHARE_ADGROUP_RECORD:k,EMPTY_VIDEO_ADGROUP_RECORD:l,EMPTY_PHOTO_ADGROUP_RECORD:m,EMPTY_PHOTO_ADGROUP_RECORD_FOR_EXISTING_POST:f,appendCarouselChildAttachments:a,isCarouselLastUsedFormat:c,AdsCarouselConstants:j,maySetPoliticalAd:d}}),null);
__d("AdsConvergenceAppInstallsAdgroupPlugin",["AdsAPIObjectives","AdsConvergenceAdgroupUtils"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("AdsConvergenceAdgroupUtils")).EMPTY_ADGROUP_WITH_OBJECT_STORY_SPEC,h=a.EMPTY_SHARE_ADGROUP_RECORD,i=a.appendCarouselChildAttachments,j=a.isCarouselLastUsedFormat,k=a.maySetPoliticalAd;function l(a){return i(a,h,null,null,null,null,null)}c={type:"convergenceAdgroup",key:"adgroup/app-installs",pivots:{objective:b("AdsAPIObjectives").APP_INSTALLS},generateDefaultAdgroupSpec:function(a,b,c){b=b.getSupportedMediaFormats({account:a.account,adgroup:g,campaign:a.campaign});b.has("CAROUSEL")&&j()?b=l(c):b=h;return k(b,a.isAuthorizedPage)}};e.exports=c}),null);
__d("AdsAdgroupMediaMutators",["AdsAdgroupRecordAccessors","AdsAPIAdAssetFeedFields","AdsAPIAdAssetFeedImagesFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsUnifiedCreativeAPIFieldMappings","AdsUnifiedCreativeAPIFields","immutable","isFalsey","isTruthy","nullthrows"],(function(a,b,c,d,e,f){"use strict";function g(a,c){return a.withMutations(function(a){b("AdsAdgroupRecordAccessors").creative.platform_customizations["delete"](a),Object.keys(c).forEach(function(d){var e=c[d],f=e.imageCrops,g=e.imageHash;e=e.imageURL;d=[].concat(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,[d]);a.setIn([].concat(d,["image_hash"]),g).setIn([].concat(d,["image_crops"]),f).setIn([].concat(d,["image_url"]),e)})})}function a(a,c,d){var e=d.imageCrops,f=d.imageHash,h=d.imageURL;d=d.platformCustomizations;var i=a;if(b("AdsAssetFeedUtils").isAdgroupUsingNonTextOnlyDofAssetFeedSpec(a)&&!b("AdsAssetFeedUtils").isDofMessagingDestinationAdgroupFromSpec(a)){a=b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(i,b("AdsAPIAdAssetFeedFields").IMAGES);i=b("AdsAssetFeedMutationUtils").setImageAssetAtIndex(i,c,a,f,h);return e?b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(i,c,b("AdsUnifiedCreativeAPIFields").imageHash,a,b("AdsAPIAdAssetFeedImagesFields").IMAGE_CROPS,b("immutable").fromJS(e)):b("AdsAssetFeedMutationUtils").removeAssetFieldAtIndex(i,c,b("AdsUnifiedCreativeAPIFields").imageHash,a,b("AdsAPIAdAssetFeedImagesFields").IMAGE_CROPS)}else{a=c.getUnifiedCreativeAPIFieldMapping(i);a.imageCrops&&(i=i.setIn(a.imageCrops,b("immutable").fromJS(e)));i=b("isTruthy")(f)?i.setIn(b("nullthrows")(a.imageHash),f).deleteIn(b("nullthrows")(a.imageURL)):i.setIn(b("nullthrows")(a.imageURL),h).deleteIn(b("nullthrows")(a.imageHash))}d?i=g(i,d):i=b("AdsAdgroupRecordAccessors").creative.platform_customizations["delete"](i);return i}function h(a,c){return a.withMutations(function(a){b("AdsAdgroupRecordAccessors").creative.platform_customizations["delete"](a),Object.keys(c).forEach(function(d){var e=c[d];d=[].concat(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,[d]);var f=e.imageURL;e=e.videoID;a.setIn([].concat(d,["video_id"]),e);b("isTruthy")(f)&&a.setIn([].concat(d,["image_url"]),f)})})}function c(a,c,d,e,f,g){e===void 0&&(e=null);f===void 0&&(f=null);if(b("AdsAssetFeedUtils").isAdgroupUsingNonDofAssetFeedSpec(a)&&!b("AdsAssetFeedUtils").isDofMessagingDestinationAdgroupFromSpec(a))return b("AdsAssetFeedMutationUtils").setVideoAssetAtIndex(a,c,b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(a,b("AdsAPIAdAssetFeedFields").VIDEOS),d,e);c=c.getUnifiedCreativeAPIFieldMapping(a);a=a;if((g==null||g==={})&&b("isFalsey")(d)){a=a.setIn(b("nullthrows")(c.videoID),null);a=a.setIn(b("nullthrows")(c.videoThumbnailURL),null);a=a.setIn(b("nullthrows")(c.videoThumbnailSource),null);a=b("AdsAdgroupRecordAccessors").creative.interactive_components_spec["delete"](a);a=i(a);return a}g&&Object.keys(g).length!==0?a=h(a,g):b("isTruthy")(d)&&(a=a.setIn(b("nullthrows")(c.videoID),d),b("isTruthy")(e)&&(a=i(a),a=a.setIn(b("nullthrows")(c.videoThumbnailURL),e)),f&&(a=a.setIn(b("nullthrows")(c.videoThumbnailSource),f)));return a}function i(a){var c;c=b("isTruthy")((c=a.creative)==null?void 0:(c=c.object_story_spec)==null?void 0:(c=c.video_data)==null?void 0:c.image_hash);return c?b("AdsAdgroupRecordAccessors").creative.object_story_spec.video_data.image_hash["delete"](a):a}function d(a){return a.withMutations(function(a){var c=a;Object.values(b("AdsUnifiedCreativeAPIFieldMappings")).forEach(function(a){a.imageURL&&c.deleteIn(a.imageURL),a.imageHash&&c.deleteIn(a.imageHash),a.imageCrops&&(c=c.deleteIn(a.imageCrops))});b("AdsAdgroupRecordAccessors").creative.platform_customizations["delete"](c)})}function f(a){return b("AdsAdgroupRecordAccessors").creative.platform_customizations["delete"](a)}e.exports={removeImage:d,removePlatformCustomizations:f,setImage:a,setPlatformCustomizations:g,setVideo:c}}),null);
__d("getDefaultImageURL",[],(function(a,b,c,d,e,f){"use strict";a=function(a){if(!a)return null;a=a.images;return!a||!a.length?null:a[0]};e.exports=a}),null);
__d("adsConvergenceDefaultAdgroupImage",["AdsAdgroupMediaMutators","getDefaultImageURL","isFalsey"],(function(a,b,c,d,e,f){"use strict";a=function(a,c,d){if(d==null)return a;d=b("getDefaultImageURL")(d);return b("isFalsey")(d)?a:b("AdsAdgroupMediaMutators").setImage(a,c,{imageURL:d})};e.exports=a}),null);
__d("AdsConvergenceBrandAwarenessAdgroupPlugin",["AdsAdgroupRecordAccessors","AdsAPIObjectives","AdsConvergenceAdgroupUtils","adsConvergenceDefaultAdgroupImage","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("AdsConvergenceAdgroupUtils")).EMPTY_ADGROUP_WITH_OBJECT_STORY_SPEC,h=a.EMPTY_PHOTO_ADGROUP_RECORD,i=a.EMPTY_SHARE_ADGROUP_RECORD,j=a.appendCarouselChildAttachments,k=a.isCarouselLastUsedFormat,l=a.maySetPoliticalAd,m="Default Link";function n(a,c,d){c=c.getUnifiedCreativeAPIFieldMapping(a);return a.setIn(b("nullthrows")(c.pageID),d.pageID)}function o(a,c){var d=b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data.link.set(m,i);return j(a,n(d,a,c),null,null,null,null,null)}c={type:"convergenceAdgroup",key:"adgroup/brand-awareness",pivots:{objective:b("AdsAPIObjectives").BRAND_AWARENESS},generateDefaultAdgroupSpec:function(a,c,d){c=c.getSupportedMediaFormats({account:a.account,adgroup:g,campaign:a.campaign});c.has("CAROUSEL")&&k()?c=o(d,a):c=b("adsConvergenceDefaultAdgroupImage")(n(h,d,a),d,a.pageDestination);return l(c,a.isAuthorizedPage)}};e.exports=c}),null);
__d("AdsConvergenceWebsiteAdgroupCommon",["AdsCallToActionTypesCond","AdsConvergenceAdgroupUtils"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("AdsConvergenceAdgroupUtils")).EMPTY_ADGROUP_WITH_OBJECT_STORY_SPEC,h=a.EMPTY_SHARE_ADGROUP_RECORD,i=a.EMPTY_VIDEO_ADGROUP_RECORD,j=a.appendCarouselChildAttachments,k=a.isCarouselLastUsedFormat,l=a.maySetPoliticalAd,m=b("AdsCallToActionTypesCond").TYPES.LEARN_MORE.name;function n(a,b){var c=h;a=a.getUnifiedCreativeAPIFieldMapping(c);return c.setIn(a.callToActionType,m).setIn(a.pageID,b.pageID)}function o(a,b){return n(a,b)}function p(a,b){return j(a,n(a,b),null,null,null,m,null)}c={generateDefaultAdgroupSpec:function(a,b,c){b=b.getSupportedMediaFormats({account:a.account,adgroup:g,campaign:a.campaign});var d;b.has("CAROUSEL")&&k()?d=p(c,a):!b.has("IMAGE")?d=l(i,a.isAuthorizedPage):d=o(c,a);return l(d,a.isAuthorizedPage)}};e.exports=c}),null);
__d("AdsConvergenceConversionsAdgroupPlugin",["AdsAPIObjectives","AdsConvergenceWebsiteAdgroupCommon"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsConvergenceWebsiteAdgroupCommon"),{type:"convergenceAdgroup",key:"adgroup/conversions",pivots:{objective:b("AdsAPIObjectives").CONVERSIONS}});e.exports=a}),null);
__d("AdsConvergenceEventResponsesAdgroupPlugin",["AdsAPIObjectives","AdsConvergenceAdgroupUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsConvergenceAdgroupUtils").EMPTY_SHARE_ADGROUP_RECORD,h=b("AdsConvergenceAdgroupUtils").maySetPoliticalAd;a={type:"convergenceAdgroup",key:"adgroup/event-responses",pivots:{objective:b("AdsAPIObjectives").EVENT_RESPONSES},generateDefaultAdgroupSpec:function(a,b,c){b=g;c=c.getUnifiedCreativeAPIFieldMapping(b);b=b.setIn(c.callToActionType,"EVENT_RSVP");return h(b,a.isAuthorizedPage)}};e.exports=a}),null);
__d("AdsConvergenceLeadGenerationAdgroupPlugin",["AdsAPIObjectives","AdsCallToActionTypesCond","AdsConvergenceAdgroupUtils","adsConvergenceDefaultAdgroupImage"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("AdsConvergenceAdgroupUtils")).EMPTY_ADGROUP_WITH_OBJECT_STORY_SPEC,h=a.EMPTY_SHARE_ADGROUP_RECORD,i=a.appendCarouselChildAttachments,j=a.isCarouselLastUsedFormat,k=a.maySetPoliticalAd,l=b("AdsCallToActionTypesCond").TYPES.SIGN_UP.name;function m(a,b){var c=h;a=a.getUnifiedCreativeAPIFieldMapping(c);return c.setIn(a.callToActionType,l).setIn(a.linkURL,"http://fb.me").setIn(a.pageID,b.pageID)}function n(a,b){return i(a,m(a,b),"http://fb.me",null,null,l,null)}function o(a,c){var d=m(a,c);return b("adsConvergenceDefaultAdgroupImage")(d,a,c.pageDestination)}c={type:"convergenceAdgroup",key:"adgroup/leadgen",pivots:{objective:b("AdsAPIObjectives").LEAD_GENERATION},generateDefaultAdgroupSpec:function(a,b,c){b=b.getSupportedMediaFormats({account:a.account,adgroup:g,campaign:a.campaign});b.has("CAROUSEL")&&j()?b=n(c,a):b=o(c,a);return k(b,a.isAuthorizedPage)}};e.exports=c}),null);
__d("AdsConvergenceLinkClicksAdgroupPlugin",["AdsAPIObjectives","AdsConvergenceWebsiteAdgroupCommon"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsConvergenceWebsiteAdgroupCommon"),{type:"convergenceAdgroup",key:"adgroup/link-clicks",pivots:{objective:b("AdsAPIObjectives").LINK_CLICKS}});e.exports=a}),null);
__d("AdsMessengerStandardTemplateDataProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:null};e.exports=a}),null);
__d("AdsMessengerStandardTemplateDataProvider",["Laminar","AdsMessengerStandardTemplateDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsMessengerStandardTemplateDataProviderPlugin"),"AdsMessengerStandardTemplateDataProviderPlugin")}),null);
__d("AdsMessengerVisualEditorUtils",["cx","fbt","AdCampaignDestination","AdsMessengerConstants","AdsMessengerJSONMediaFormatType","AdsMessengerJSONTemplateType","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerStandardTemplateDataProvider","AdsMessengerUtils","AdsMessengerVisualEditorCustomerActionType","AdsMessengerVisualEditorLandingScreenType","AdsPageStore","DateTime","FDSGuidanceCard.react","FDSGuidanceCardContent.react","FDSGuidanceCardContentLink.react","FDSGuidanceCardContentText.react","FDSGuidanceCardHeader.react","React","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","getByPath"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("AdsMessengerPartialAutomatedCreationTypes").CreateNewSelectorValue,j=b("React"),k={getStandardTemplateDefaultJSONWithDestination:function(a,b){return k.getStandardTemplateDefaultJSONHelper(a,b)},getStandardTemplateDefaultJSON:function(a){return k.getStandardTemplateDefaultJSONHelper(a,b("AdCampaignDestination").MESSENGER)},getStandardTemplateDefaultJSONHelper:function(a,c){var d,e,f,g,i,j;c=c===b("AdCampaignDestination").WHATSAPP?b("AdsMessengerConstants").DEFAULT_WELCOME_MESSAGE_NEW_DESIGN:a?b("AdsMessengerConstants").DEFAULT_PERSONALIZED_WELCOME_MESSAGE_NEW_DESIGN:b("AdsMessengerConstants").DEFAULT_WELCOME_MESSAGE_NEW_DESIGN;a=k.getDefaultIceBreakers(a);d=[(d={},d.title=h._("I'd like to learn more"),d.content_type="text",d)];return j={},j.type="VISUAL_EDITOR",j.version=2,j.landing_screen_type=b("AdsMessengerVisualEditorLandingScreenType").WELCOME_MESSAGE,j.media_type=b("AdsMessengerJSONMediaFormatType").TEXT,j.text_format=(f={},f.customer_action_type=b("AdsMessengerVisualEditorCustomerActionType").ICE_BREAKERS,f.message=(e={},e.ice_breakers=a,e.quick_replies=[],e.text=c,e),f),j.image_format=(a={},a.customer_action_type=b("AdsMessengerVisualEditorCustomerActionType").QUICK_REPLIES,a.message=(e={},e.attachment=(f={},f.type="template",f.payload=(i={},i.template_type=b("AdsMessengerJSONTemplateType").GENERIC,i.elements=[(g={},g.title="",g.buttons=[],g)],i),f),e.quick_replies=d,e.text=c,e),a),j.video_format=(g={},g.customer_action_type=b("AdsMessengerVisualEditorCustomerActionType").QUICK_REPLIES,g.message=(i={},i.attachment=(f={},f.type=b("AdsMessengerJSONMediaFormatType").VIDEO,f.payload=(e={},e.attachment_id="",e),f),i.quick_replies=d,i.text=c,i),g),j.user_edit=!1,j.surface="visual_editor_new",j},getDefaultIceBreakers:function(a){var c=b("AdsMessengerConstants").DEFAULT_ICEBREAKERS.map(function(a){return{title:a}});a=a?b("AdsPageStore").get(a):null;if(!a)return c;a=a.messenger_ads_default_icebreakers;if(!a)return c;else return a.slice(0,3).map(function(a){return{title:a}})},getPreviewDisabledNotice:function(a,c,d){c=c?d?h._("In-line previews are not currently supported for this JSON format."):h._("In-line previews are not currently supported for this JSON format. To see a preview of your message, you can send a test version to yourself in Messenger."):h._("In-line previews are not currently supported with JSON Creation. To see a preview of your message, you can send a test version to yourself in Messenger.");var e=h._("Preview in Messenger");return j.jsx("div",{className:"_3mqw",children:j.jsxs(b("FDSGuidanceCard.react"),{category:"active-feedback",children:[j.jsx(b("FDSGuidanceCardHeader.react"),{children:null}),j.jsxs(b("FDSGuidanceCardContent.react"),{children:[j.jsx(b("FDSGuidanceCardContentText.react"),{children:c}),j.jsx(b("FDSGuidanceCardContentLink.react"),{onPress:a,children:d?"":e})]})]})})},getDefaultWelcomeMessageTemplateName:function(){return h._("Welcome Message").toString()+" "+b("DateTime").localNow().format("m-d-y")},isVisualEditorData:function(a){return b("getByPath")(a,["type"])==="VISUAL_EDITOR"},isJSONData:function(a){return!k.isVisualEditorData(a)},isLegacyVisualEditorWelcomeMessage:function(a){if(!a)return!1;var b=null;try{b=JSON.parse(a)}catch(a){return!0}return b&&b instanceof Array?!1:!1},showMessengerPreviewSuccessDialog:function(a,c,d){var e=h._("Preview In Messenger");c=h._("A message has been sent to you from {page name}. Open Messenger on your phone to preview what your experience will look like to customers.",[h._param("page name",c||"your page")]);var f=function(a){a||d()};return j.jsxs(b("XUIDialog.react"),{height:200,shown:a,width:500,onToggle:f,children:[j.jsx(b("XUIDialogTitle.react"),{children:e}),j.jsx(b("XUIDialogBody.react"),{children:c}),j.jsx(b("XUIDialogFooter.react"),{children:j.jsx(b("XUIDialogOkayButton.react"),{use:"confirm",action:"cancel",onClick:d})})]})},getStandardTemplateMessage:function(a,c){var d=b("AdsMessengerStandardTemplateDataProvider").toFluxStore();d=d.getState();if(d)return JSON.parse(d);else return k.getStandardTemplateDefaultJSONWithDestination(a,c)},parseWelcomeMessage:function(a,b,c){if(b)try{return JSON.parse(b)}catch(b){return k.getStandardTemplateDefaultJSONWithDestination(a,c)}else return k.getStandardTemplateDefaultJSONWithDestination(a,c)},isJSONCreateNewType:function(a,c){a=k.parseWelcomeMessage(a,c);return b("AdsMessengerUtils").getWelcomeMessageDataType(a)!=="VISUAL_EDITOR"},getCreateNewSelectorType:function(a,c,d){if(a===b("AdsMessengerVisualEditorLandingScreenType").FOLLOW_UP)return i.FOLLOW_UP;else if(a===b("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW)return i.CTM_LEAD_GEN;else if(k.isJSONCreateNewType(c,d))return i.JSON;else return i.CREATE_NEW}};e.exports=k}),null);
__d("AdsConvergenceMessagesAdgroupPlugin",["AdsAPIAdgroupLinkDataRecord","AdsAPIObjectives","AdsCallToActionTypesCond","AdsConvergenceAdgroupUtils","AdsMessengerConstants","AdsMessengerVisualEditorUtils","AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsConvergenceAdgroupUtils").EMPTY_SHARE_ADGROUP_RECORD,h=b("AdsConvergenceAdgroupUtils").maySetPoliticalAd;a=b("AdsAPIAdgroupLinkDataRecord").getSpec().call_to_action.getSpec().value;var i=b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name,j=new a({app_destination:"MESSENGER"});c={type:"convergenceAdgroup",key:"adgroup/messages",pivots:{objective:b("AdsAPIObjectives").MESSAGES},generateDefaultAdgroupSpec:function(a,c,d){c=g;var e=d.getUnifiedCreativeAPIFieldMapping(c),f=a.pageID,k=JSON.stringify(b("AdsMessengerVisualEditorUtils").getStandardTemplateDefaultJSON(f));d=b("AdsUnifiedCreativeAPIFields").pageWelcomeMessage.getPath(c,d);c=c.setIn(e.callToActionType,i).setIn(e.callToActionValue,j).setIn(e.linkURL,b("AdsMessengerConstants").EMPTY_MESSENGER_LINK).setIn(e.headline,b("AdsMessengerConstants").DEFAULT_HEADLINE.toString()).setIn(e.pageID,f).setIn(d,k);return h(c,a.isAuthorizedPage)}};e.exports=c}),null);
__d("AdsConvergencePageLikesAdgroupPlugin",["AdsAPIObjectives","AdsConvergenceAdgroupUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsConvergenceAdgroupUtils").EMPTY_SHARE_ADGROUP_RECORD,h=b("AdsConvergenceAdgroupUtils").maySetPoliticalAd;a={type:"convergenceAdgroup",key:"adgroup/page-likes",pivots:{objective:b("AdsAPIObjectives").PAGE_LIKES},generateDefaultAdgroupSpec:function(a,b,c){b=g;c=c.getUnifiedCreativeAPIFieldMapping(b);b=b.setIn(c.callToActionType,"LIKE_PAGE");return h(b,a.isAuthorizedPage)}};e.exports=a}),null);
__d("AdsConvergencePostEngagementAdgroupPlugin",["AdsAdgroupRecordAccessors","AdsAPIObjectives","AdsConvergenceAdgroupUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsConvergenceAdgroupUtils").EMPTY_PHOTO_ADGROUP_RECORD_FOR_EXISTING_POST,h=b("AdsConvergenceAdgroupUtils").maySetPoliticalAd;a={type:"convergenceAdgroup",key:"adgroup/post-engagement",pivots:{objective:b("AdsAPIObjectives").POST_ENGAGEMENT},generateDefaultAdgroupSpec:function(a,c,d){c=b("AdsAdgroupRecordAccessors").creative.object_id.set(a.pageID,g);return h(c,a.isAuthorizedPage)}};e.exports=a}),null);
__d("CPASURLTagsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:CPASURLTagsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:CPASURLTagsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:CPASURLTagsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAdvertiserAccountID=function(a){this.$1.advertiser_account_id=a;return this};c.setAdvertiserBusinessID=function(a){this.$1.advertiser_business_id=a;return this};c.setBusinessID=function(a){this.$1.business_id=a;return this};c.setCatalogSegmentID=function(a){this.$1.catalog_segment_id=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setDebugMessage=function(a){this.$1.debug_message=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventSeverity=function(a){this.$1.event_severity=a;return this};c.setEventType=function(a){this.$1.event_type=a;return this};c.setNewURLTags=function(a){this.$1.new_url_tags=a;return this};c.setOldURLTags=function(a){this.$1.old_url_tags=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={advertiser_account_id:!0,advertiser_business_id:!0,business_id:!0,catalog_segment_id:!0,component:!0,debug_message:!0,event:!0,event_severity:!0,event_type:!0,new_url_tags:!0,old_url_tags:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("CPASURLTagsLoggingClient",["CPASURLTagsTypedLogger","CurrentUser"],(function(a,b,c,d,e,f){"use strict";a={ADS_CF_DYNAMIC_ADGROUP_PLUGIN_COMMON:"AdsCFDynamicAdgroupPluginCommon",ADS_UEDITOR_ACCOUNT_CATALOG_SELECTOR_CONTAINER:"AdsUEditorAccountCatalogSelectorContainer",ADS_UEDITOR_ADGROUP_URL_TAGS_FIELD_CONTAINER:"AdsUEditorAdgroupURLTagsFieldContainer",CATALOG_MANAGER_SHARE_DIALOG_CONTAINER:"CPASShareCatalogSegmentDialogContainer",COLLABORATION_HUB_SHARING_DIALOG:"CollaborationHubSharingDialog"};c={log:function(a){var c=b("CurrentUser").getAccountID();new(b("CPASURLTagsTypedLogger"))().setAdvertiserAccountID(a.advertiserAccountID).setAdvertiserBusinessID(a.advertiserBusinessID).setBusinessID(a.businessID).setCatalogSegmentID(a.catalogSegmentID).setComponent(a.component).setDebugMessage(a.debugMessage).setEvent(a.event).setEventSeverity(a.eventSeverity||"info").setEventType(a.eventType||"debug").setNewURLTags(a.newURLTags).setOldURLTags(a.oldURLTags).setVC(c).log()}};e.exports={CPASURLTagsLoggingComponent:a,CPASURLTagsLoggingClient:c}}),null);
__d("catalogSegmentGetPredefinedUTMsString",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=(a!=null?"&utm_source="+a:"")+(b!=null?"&utm_medium="+b:"")+(c!=null?"&utm_campaign="+c:"");return a!==""?a:null}e.exports=a}),null);
__d("catalogSegmentGetMerchantPredefinedUTMs",["catalogSegmentGetPredefinedUTMsString"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null)return null;var c=a.utm_source,d=a.utm_medium;a=a.utm_campaign;return b("catalogSegmentGetPredefinedUTMsString")(c,d,a)}e.exports=a}),null);
__d("catalogSegmentIsCatalogSegment",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null&&a.catalog_segment_type==="child_catalog"}e.exports=a}),null);
__d("AdsConvergenceProductCatalogSalesAdgroupPlugin",["AdCampaignDestination","AdsAdgroupRecordAccessors","AdsAPIObjectives","AdsCallToActionTypesCond","AdsConvergenceAdgroupUtils","CPASURLTagsLoggingClient","catalogSegmentGetMerchantPredefinedUTMs","catalogSegmentIsCatalogSegment"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsConvergenceAdgroupUtils").EMPTY_ADGROUP_WITH_OBJECT_STORY_SPEC,h=b("AdsConvergenceAdgroupUtils").EMPTY_SHARE_ADGROUP_RECORD,i=b("AdsConvergenceAdgroupUtils").maySetPoliticalAd,j=b("CPASURLTagsLoggingClient").CPASURLTagsLoggingClient,k=b("CPASURLTagsLoggingClient").CPASURLTagsLoggingComponent;a={type:"convergenceAdgroup",key:"adgroup/product-catalog-sales",pivots:{objective:b("AdsAPIObjectives").PRODUCT_CATALOG_SALES},generateDefaultAdgroupSpec:function(a,c,d){var e;c=a.catalogSalesData;var f=c==null?void 0:c.templatePlugin,l=c==null?void 0:c.catalog,m=a.account;d=d.getUnifiedCreativeAPIFieldMapping(g);e=h.setIn(d.multiShareEndCard,!1).setIn(d.callToActionType,b("AdsCallToActionTypesCond").TYPES.SHOP_NOW.name).setIn(d.catalogAssetFormatOption,"carousel_images_multi_items").setIn(d.pageID,a.pageID).setIn(d.productSetID,c==null?void 0:(e=c.productSet)==null?void 0:e.id);f!=null&&(e=e.setIn(d.headline,f.getDefaultName()).setIn(d.linkDescription,f.getDefaultDescription()));f=a.campaign;if(f.destination_type===b("AdCampaignDestination").FACEBOOK)b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.call_to_action.value.app_destination.set("MARKETPLACE",e);else{((f=e.creative)==null?void 0:(f=f.object_story_spec)==null?void 0:(f=f.template_data)==null?void 0:(f=f.call_to_action)==null?void 0:(f=f.value)==null?void 0:f.app_destination)==="MARKETPLACE"&&b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.call_to_action.value.app_destination["delete"](e)}if(b("catalogSegmentIsCatalogSegment")(l)){e.setIn(d.multiShareEndCard,!1).setIn(d.linkURL,"");f=c==null?void 0:c.cpasCatalog;if(f!=null){l=b("catalogSegmentGetMerchantPredefinedUTMs")(f==null?void 0:f.ad_account_to_collaborative_ads_share_settings);if(l==null)return i(e,a.isAuthorizedPage);b("AdsAdgroupRecordAccessors").creative.url_tags.set(l,e);j.log({advertiserAccountID:m.account_id,catalogSegmentID:f.id,component:k.ADS_CF_DYNAMIC_ADGROUP_PLUGIN_COMMON,event:"producer_ads_creation_flow",newURLTags:l})}return i(e,a.isAuthorizedPage)}return i(e,a.isAuthorizedPage)}};e.exports=a}),null);
__d("AdsConvergenceReachAdgroupPlugin",["AdsAPIObjectives","AdsConvergenceAdgroupUtils","adsConvergenceDefaultAdgroupImage","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("AdsConvergenceAdgroupUtils")).EMPTY_ADGROUP_WITH_OBJECT_STORY_SPEC,h=a.EMPTY_PHOTO_ADGROUP_RECORD,i=a.EMPTY_SHARE_ADGROUP_RECORD,j=a.EMPTY_VIDEO_ADGROUP_RECORD,k=a.appendCarouselChildAttachments,l=a.isCarouselLastUsedFormat,m=a.maySetPoliticalAd;function n(a,c,d){c=c.getUnifiedCreativeAPIFieldMapping(a);return a.setIn(b("nullthrows")(c.pageID),d.pageID)}function o(a,b){return k(a,n(i,a,b),null,null,null,null,null)}c={type:"convergenceAdgroup",key:"adgroup/reach",pivots:{objective:b("AdsAPIObjectives").REACH},generateDefaultAdgroupSpec:function(a,c,d){c=c.getSupportedMediaFormats({account:a.account,adgroup:g,campaign:a.campaign});var e;c.has("CAROUSEL")&&l()?e=o(d,a):!c.has("IMAGE")?e=n(j,d,a):e=b("adsConvergenceDefaultAdgroupImage")(n(h,d,a),d,a.pageDestination);return m(e,a.isAuthorizedPage)}};e.exports=c}),null);
__d("AdsLeadGenAdGroupUtils",["AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){"use strict";a={isLeadGenFormEnabled:function(a,c){a=b("AdsUnifiedCreativeAPIFields").callToActionValue.getValue(a,c);c=a?a.get("lead_gen_form_id"):null;return!!c}};e.exports=a}),null);
__d("AdsMultiProductConstants",[],(function(a,b,c,d,e,f){"use strict";a=2;b=10;c=1;e.exports={MAX_PRODUCTS:b,MIN_PRODUCTS:a,MIN_DYNAMIC_ADS_CAROUSEL_TABS:c}}),null);
__d("AdsPlaceDataUtils",["AdsAccountUtils","AdsAPICampaignGroupRecordUtils","AdsAPIObjectives","AdsAssetFeedUtils","AdsCallToActionGeoUtils","AdsChildAttachmentsUtils","AdsEmptyValue","AdsInstagramApplicabilityUtils","AdsLeadGenAdGroupUtils","AdsLocalUtils","AdsMixedValue","AdsMultiProductConstants","AdsPageUtils","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUEditorCampaignAdObjectsUtils","AdsUniformValue","AdsWebsiteAdUtils","GeoCoordinates","GeoPlace","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin,h=new(b("AdsMixedValue"))([]);c=1;function a(a,c,d){if(a instanceof b("AdsUniformValue")&&c instanceof b("AdsUniformValue")&&d instanceof b("AdsUniformValue")){c=c.getValue();d=d.getValue();if(c==null||d==null)return b("AdsEmptyValue").instance();c=new(b("GeoPlace"))(new(b("GeoCoordinates"))(c,d),a.getValue());return new(b("AdsUniformValue"))(b("AdsCallToActionGeoUtils").makeGeoLink(c))}return h}var i={DEFAULT_POSITION_OF_MAP_CARD:c,getGeoLink:a,canAddMapCardToCarousel:function(a,c,d){a=a<b("AdsMultiProductConstants").MAX_PRODUCTS;return a||c>=0||d===b("AdsAPIObjectives").PRODUCT_CATALOG_SALES},getSupportedPlaceDataType:function(a,c,d,e,f){var g=b("AdsWebsiteAdUtils").isWebsiteObjective(c,d);d=b("AdsWebsiteAdUtils").isWebsiteConversionsOfflineObjective(c,d)&&b("AdsAccountUtils").hasCapability(a,"CAN_SEE_MAP_CARD_FOR_OFFLINE_CONVERSION_OPT");a=e.every(function(a){return b("AdsPageUtils").hasLocation(a)});e=e.every(function(a){return b("AdsPageUtils").hasLocation(a)||b("AdsPageUtils").hasLocations(a)});if(g||c===b("AdsAPIObjectives").PRODUCT_CATALOG_SALES||d)return e?"REALTIME":null;else if(c===b("AdsAPIObjectives").REACH){if(e&&!a)return"REALTIME";else if(a)return"SINGLE";return null}return b("AdsLocalUtils").isLocalObjective(c)?f?"REALTIME":"DYNAMIC":null},initDefaultPlaceData:function(a,c){var d;switch(c){case"DYNAMIC":return b("immutable").fromJS((c={},c.name=a.name,c.link=a.link,c.place_data=b("immutable").Map((d={},d.type="DYNAMIC",d)),c));case"REALTIME":d=b("AdsPageUtils").hasLocations(a);c=b("AdsPageUtils").hasLocation(a);if(d||c){return b("immutable").fromJS((d={},d.name=a.name,d.link=a.link,d.place_data=b("immutable").Map((c={},c.type="REALTIME",c.location_source_id=a.id,c)),d))}return null;case"SINGLE":c=a.location;if(c&&c.latitude&&c.longitude){var e,f;d=c.latitude;var g=c.longitude,h=a.link,i=a.name;if(!i)return null;a.single_line_address?a=a.single_line_address:a=d+","+g;return b("immutable").fromJS((f={},f.place_data=b("immutable").Map((e={},e.type="SINGLE",e.address_string=a,e.label=i,e.latitude=d,e.longitude=g,e)),f.name=c.street||i,f.link=h,f))}}return null},getPlaceDataPosition:function(a){a=b("AdsChildAttachmentsUtils").getChildAttachments(a);return!a?-1:a.findIndex(function(a){return a.place_data})},supportsAddPlaceDataField:function(a,c,d){var e=b("AdsAPICampaignGroupRecordUtils").getObjective(a.campaignGroup),f=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType(a),h=g(a),j=b("AdsChildAttachmentsUtils").getChildAttachmentCount(a.adgroup,h).withDefault(0),k=b("AdsChildAttachmentsUtils").getPlaceDataIndex(a.adgroup,h);c=i.getSupportedPlaceDataType(c,e,f,[d],b("AdsChildAttachmentsUtils").isStaticAndDynamicCarouselAd(a.adgroup));f=i.canAddMapCardToCarousel(j,k,e);d=b("AdsInstagramApplicabilityUtils").hasInstagramStoryPlacementOnly(a.campaign);j=b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(a.adgroup);k=b("AdsLeadGenAdGroupUtils").isLeadGenFormEnabled(a.adgroup,h);return!!c&&f&&!d&&!j&&!k}};e.exports=i}),null);
__d("AdsConvergenceStoreTrafficAdgroupPlugin",["AdsAdgroupRecordAccessors","AdsAPIObjectives","AdsConvergenceAdgroupUtils","AdsMutators","AdsPlaceDataUtils","adsCallToActionGetDefaultCallToActionType","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("AdsConvergenceAdgroupUtils")).AdsCarouselConstants,h=a.EMPTY_SHARE_ADGROUP_RECORD,i=a.appendCarouselChildAttachments,j=a.isCarouselLastUsedFormat,k=a.maySetPoliticalAd;c=b("AdsAPIObjectives").STORE_VISITS;var l=b("adsCallToActionGetDefaultCallToActionType")(c);function m(a,c){var d=h,e=a.getUnifiedCreativeAPIFieldMapping(d),f=c.locationPage;return b("AdsMutators").chain(function(a){return a.setIn(e.callToActionType,l)},function(a){return a.setIn(e.pageID,f!=null&&f.id!=null&&f.id!=""?f.id:"")},b("AdsAdgroupRecordAccessors").creative.dynamic_ad_voice.set("STORY_OWNER"))(d)}function n(a,c){return b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.force_single_link.set(!0,m(a,c))}function o(a,c){var d=n(a,c);d=b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.force_single_link["delete"](d);c=c.locationPage;if(c!=null){d=i(a,d,null,null,null,l,null,!0,null,1);c=b("AdsPlaceDataUtils").initDefaultPlaceData(c,"DYNAMIC");var e=a.getUnifiedCreativeAPIFieldMapping(d);c=d.getIn(b("nullthrows")(e.childAttachments)).push(c);return d.setIn(b("nullthrows")(e.childAttachments),c)}return i(a,d,null,null,null,l,null,!0,null,g.MIN_CAROUSEL_ADS_CHILD_NUM)}d={type:"convergenceAdgroup",key:"adgroup/store-traffic",pivots:{objective:c},generateDefaultAdgroupSpec:function(a,b,c){b=b.getSupportedMediaFormats({account:a.account,adgroup:h,campaign:a.campaign});b.has("CAROUSEL")&&j()?b=o(c,a):b=n(c,a);return k(b,a.isAuthorizedPage)}};e.exports=d}),null);
__d("AdsConvergenceVideoViewsAdgroupPlugin",["AdsAPIObjectives","AdsConvergenceAdgroupUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsConvergenceAdgroupUtils").EMPTY_VIDEO_ADGROUP_RECORD,h=b("AdsConvergenceAdgroupUtils").maySetPoliticalAd;a={type:"convergenceAdgroup",key:"adgroup/video-views",pivots:{objective:b("AdsAPIObjectives").VIDEO_VIEWS},generateDefaultAdgroupSpec:function(a,b,c){b=c.getUnifiedCreativeAPIFieldMapping(g);c=g.setIn(b.pageID,a.pageID);return h(c,a.isAuthorizedPage)}};e.exports=a}),null);
__d("AdsConvergenceAdgroupPlugins",["adsPluginsFactory","AdsConvergenceAppInstallsAdgroupPlugin","AdsConvergenceBrandAwarenessAdgroupPlugin","AdsConvergenceConversionsAdgroupPlugin","AdsConvergenceEventResponsesAdgroupPlugin","AdsConvergenceLeadGenerationAdgroupPlugin","AdsConvergenceLinkClicksAdgroupPlugin","AdsConvergenceMessagesAdgroupPlugin","AdsConvergencePageLikesAdgroupPlugin","AdsConvergencePostEngagementAdgroupPlugin","AdsConvergenceProductCatalogSalesAdgroupPlugin","AdsConvergenceReachAdgroupPlugin","AdsConvergenceStoreTrafficAdgroupPlugin","AdsConvergenceVideoViewsAdgroupPlugin"],(function(a,b,c,d,e,f){"use strict";a=b("adsPluginsFactory")(function(){return[b("AdsConvergenceAppInstallsAdgroupPlugin"),b("AdsConvergenceBrandAwarenessAdgroupPlugin"),b("AdsConvergenceConversionsAdgroupPlugin"),b("AdsConvergenceEventResponsesAdgroupPlugin"),b("AdsConvergenceLeadGenerationAdgroupPlugin"),b("AdsConvergenceLinkClicksAdgroupPlugin"),b("AdsConvergenceMessagesAdgroupPlugin"),b("AdsConvergencePageLikesAdgroupPlugin"),b("AdsConvergencePostEngagementAdgroupPlugin"),b("AdsConvergenceProductCatalogSalesAdgroupPlugin"),b("AdsConvergenceReachAdgroupPlugin"),b("AdsConvergenceStoreTrafficAdgroupPlugin"),b("AdsConvergenceVideoViewsAdgroupPlugin")]});e.exports=a}),null);
__d("AdsInstagramAccountPageCreateAndUsePageBackedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsInstagramAccounts.PAGE.CREATE_AND_USE_PAGE_BACKED");e.exports=a}),null);
__d("AdsProductSetAssetEligibilityLoadErrorAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PRODUCT_SET_ASSET_ELIGIBILITY.LOADED_ERROR");e.exports=a}),null);
__d("AdsProductSetAssetEligibilityLoadErrorActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PRODUCT_SET_ASSET_ELIGIBILITY.LOADED_ERROR"}}),null);
__d("AdsProductSetAssetEligibilityLoadedAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PRODUCT_SET_ASSET_ELIGIBILITY.LOADED_SUCCESS");e.exports=a}),null);
__d("AdsProductSetAssetEligibilityLoadedActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PRODUCT_SET_ASSET_ELIGIBILITY.LOADED_SUCCESS"}}),null);
__d("AdsUEditorAdgroupLeadGenFormatSwitchActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_LEAD_GEN_FORMAT_SWITCH"}}),null);
__d("AdsUEditorCampaignDeliveryChangeOmnichannelAppObjectActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_CAMPAIGN_EDITOR_DELIVERY_CHANGE_OMNICHANNEL_APP_OBJECT"}}),null);
__d("AdsUEditorCampaignDeliveryChangeOmnichannelPixelObjectActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_CAMPAIGN_EDITOR_DELIVERY_CHANGE_OMNICHANNEL_PIXEL_OBJECT"}}),null);
__d("AdsUEditorCampaignPromotedObjectCreateOfferDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_CAMPAIGN_EDITOR_PROMOTED_OBJECT_CREATE_OFFER"}}),null);
__d("AdsUEditorCampaignPromotedObjectWhatsAppPageSelectActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CAMPAIGN.PROMOTED_OBJECT_WHATSAPP_PAGE_SELECT"}}),null);
__d("AdsUEditorCampaignReachFrequencyFlowSetPredictionIdActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsReachFrequencyFlow.SET_PREDICTION_ID"}}),null);
__d("AdsUEditorCampaignRemoveOfferActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_CAMPAIGN_EDITOR_REMOVE_OFFER"}}),null);
__d("AdsUEditorCampaignSelectInstagramPromotedObjectTypeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_CAMPAIGN_EDITOR_SELECT_INSTAGRAM_PROMOTED_OBJECT_TYPE"}}),null);
__d("AdsUEditorCampaignSelectMiniShopPromotedObjectTypeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_CAMPAIGN_EDITOR_SELECT_MINI_SHOP_PROMOTED_OBJECT_TYPE"}}),null);
__d("AdsUEditorCampaignSelectOmnichannelPromotedObjectTypeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_CAMPAIGN_EDITOR_SELECT_OMNICHANNEL_PROMOTED_OBJECT_TYPE"}}),null);
__d("AdsUEditorCampaignSetAppActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_CAMPAIGN_EDITOR_SET_APP"}}),null);
__d("AdsUEditorCampaignSetCarteToggleActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_CAMPAIGN_SET_CARTE_TOGGLE"}}),null);
__d("AdsUEditorCampaignSetDynamicCreativeOptimizationToggleActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_CAMPAIGN_SET_DYNAMIC_CREATIVE_OPTIMIZATION_TOGGLE"}}),null);
__d("AdsUEditorCampaignSetFacebookDestinationTypeActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_CAMPAIGN_EDITOR_SET_FACEBOOK_DESTINATION_TYPE"}}),null);
__d("AdsUEditorCampaignSetInstagramPromotedObjectTypeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CAMPAIGN.SET_INSTAGRAM_PROMOTED_OBJECT_TYPE"}}),null);
__d("AdsUEditorCampaignSetInstantCheckoutCommerceAccountIDActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsUEditorCampaignSetInstantCheckoutCommerceAccountIDActionPlugin"}}),null);
__d("AdsUEditorCampaignSetInstantCheckoutTypeActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_CAMPAIGN_EDITOR_SET_INSTANT_CHECKOUT_TYPE"}}),null);
__d("AdsUEditorCampaignSetMessengerWhatsappDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CAMPAIGN.SET_MESSENGER_WHATSAPP_FOR_UNIFIED_CREATION"}}),null);
__d("AdsUEditorAdgroupArAdsMutator",["AdsArLinkUtils","AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return!b("AdsArLinkUtils").isArAd(a,c)?a:a.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,c),null)}e.exports={clearArAdsLink:a}}),null);
__d("AdsUEditorAdgroupCanvasMutator",["AdsAPIAdAssetFeedLinkURLsFields","AdsAPIChildAttachmentPaths","AdsAPIObjectives","AdsAssetFeedFieldUtils","AdsCanvasCollectionsConstants","AdsCanvasConstants","AdsChildAttachmentsUtils","AdsCollectionsAdUtils","AdsCollectionsConstants","AdsPromotedObjectTypes","AdsUEditorAdgroupMultiProductMutators","AdsUnifiedCreativeAPIFields","isAdsCanvasLink"],(function(a,b,c,d,e,f){"use strict";function a(a,c){if(b("AdsUnifiedCreativeAPIFields").linkURL.isSupported(a,c)){var d=b("AdsAssetFeedFieldUtils").firstAsset_TALK_WITH_ACE_BEFORE_USE(b("AdsUnifiedCreativeAPIFields").linkURL.getValue(a,c),b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL),e=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPathOrThrow(a,c);b("isAdsCanvasLink")(d)&&(a=a.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,c),b("AdsCanvasConstants").EMPTY_CANVAS_LINK),a=a.deleteIn(e.concat("lead_gen_form_id")));b("AdsChildAttachmentsUtils").isCarouselAd(a)&&(a=b("AdsUEditorAdgroupMultiProductMutators").setInEachChild(b("AdsAPIChildAttachmentPaths").LINK,b("AdsCanvasConstants").EMPTY_CANVAS_LINK,a))}return a}function c(a,c,d){if(!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative))return a;if(b("AdsUnifiedCreativeAPIFields").retailerItemIDs.isSupported(a,c)){var e=a.getIn(b("AdsUnifiedCreativeAPIFields").retailerItemIDs.getPathOrThrow(a,c));e&&(a=a.setIn(b("AdsUnifiedCreativeAPIFields").retailerItemIDs.getPathOrThrow(a,c),b("AdsCollectionsConstants").EMPTY_COLLECTIONS_RETAIL_ID).setIn(b("AdsUnifiedCreativeAPIFields").postClickItemDescription.getPathOrThrow(a,c),b("AdsCollectionsConstants").POST_CLICK_ITEM_DEFAULT_DESCRIPTION_TEMPLATE).setIn(b("AdsUnifiedCreativeAPIFields").postClickItemHeadline.getPathOrThrow(a,c),b("AdsCollectionsConstants").POST_CLICK_ITEM_DEFAULT_HEADLINE_TEMPLATE),d!==b("AdsPromotedObjectTypes").PRODUCT_SET&&(a=a.deleteIn(b("AdsUnifiedCreativeAPIFields").productSetID.getPathOrThrow(a,c))))}if(b("AdsUnifiedCreativeAPIFields").collectionThumbnails.isSupported(a,c)){e=a.getIn(b("AdsUnifiedCreativeAPIFields").collectionThumbnails.getPathOrThrow(a,c));e&&(a=a.setIn(b("AdsUnifiedCreativeAPIFields").collectionThumbnails.getPathOrThrow(a,c),b("AdsCanvasCollectionsConstants").EMPTY_COLLECTION_THUMBNAILS))}return a}function d(a,c){b("AdsUnifiedCreativeAPIFields").videoID.isSupported(a,c)&&(a=a.deleteIn(b("AdsUnifiedCreativeAPIFields").videoID.getPathOrThrow(a,c)));b("AdsUnifiedCreativeAPIFields").imageHash.isSupported(a,c)&&(a=a.deleteIn(b("AdsUnifiedCreativeAPIFields").imageHash.getPathOrThrow(a,c)));b("AdsUnifiedCreativeAPIFields").imageURL.isSupported(a,c)&&(a=a.deleteIn(b("AdsUnifiedCreativeAPIFields").imageURL.getPathOrThrow(a,c)));return a}function f(a,c,d){var e=a.getIn(b("AdsUnifiedCreativeAPIFields").productSetID.getPathOrThrow(a,c));if(d!==e){a=a.setIn((e=b("AdsUnifiedCreativeAPIFields")).retailerItemIDs.getPathOrThrow(a,c),b("AdsCollectionsConstants").EMPTY_COLLECTIONS_RETAIL_ID).setIn(e.productSetID.getPathOrThrow(a,c),d).deleteIn(e.collectionThumbnails.getPathOrThrow(a,c)).deleteIn(e.postClickItemHeadline.getPathOrThrow(a,c)).deleteIn(e.postClickItemDescription.getPathOrThrow(a,c))}return a}function g(a,c,d,e){d?a=a.setIn(b("AdsUnifiedCreativeAPIFields").productSetID.getPathOrThrow(a,c),d):e!==b("AdsAPIObjectives").PRODUCT_CATALOG_SALES&&(a=a.deleteIn(b("AdsUnifiedCreativeAPIFields").productSetID.getPathOrThrow(a,c)));return a.setIn(b("AdsUnifiedCreativeAPIFields").collectionThumbnails.getPathOrThrow(a,c),b("AdsCanvasCollectionsConstants").EMPTY_COLLECTION_THUMBNAILS).deleteIn(b("AdsUnifiedCreativeAPIFields").retailerItemIDs.getPathOrThrow(a,c)).deleteIn(b("AdsUnifiedCreativeAPIFields").postClickItemHeadline.getPathOrThrow(a,c)).deleteIn(b("AdsUnifiedCreativeAPIFields").postClickItemDescription.getPathOrThrow(a,c))}e.exports={clearCanvasLink:a,clearCollectionsFields:c,resetCollectionCoverMedia:d,setCanvasCollectionFields:g,setRetailerCollectionFields:f}}),null);
__d("AdsDynamicAudienceDraftSaveState",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({LOAD_ERROR:null,SAVE_ERROR:null,SAVED:null,SAVING:null,UNPUBLISHED:null});e.exports=a}),null);
__d("AdsDynamicAudienceEventRestriction",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({IN_THE_PAST:null,MORE_THAN:null});e.exports=a}),null);
__d("AdsDynamicAudienceDraft",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({booking_window:void 0,event_source_group_creation_in_progress:void 0,event_source_group_id:void 0,event_sources:void 0,exclusions:void 0,inclusions:void 0,is_excluded_dynamic_audience:void 0,restrict_to_set_id:void 0,sliced_event_source_group_id:void 0,state:void 0,error:void 0,preconfigured_options:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsDynamicAudienceDraftBookingWindow",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({enabled:void 0,max_seconds:void 0,min_seconds:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsDynamicAudienceDraftEvent",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({content_type:void 0,event_type:void 0,max_seconds:void 0,min_event_count:void 0,min_seconds:void 0,restriction_type:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsDynamicAudienceDraftUpsell",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({enabled:void 0,max_seconds:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsInstagramAccountActionSources",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CF_AUCTION:"cf_auction",NAM_AUCTION:"nam_auction",PE_AUCTION:"pe_auction",PE_REACH_FREQUENCY:"pe_reach_frequency",REACH_FREQUENCY_PLANNER:"reach_frequency_planner",TRP:"trp"});e.exports=a}),null);
__d("adsPlacementAssetMutationRemoveMultiplePlacementsFromCustomization",["adsPlacementAssetMutationRemovePlacementFromCustomization","immutable"],(function(a,b,c,d,e,f){"use strict";function g(a,b){return a==null?null:a.filter(function(a){return a.platform!=b.platform||a.position!=b.position})}function a(a,c,d,e){return d.reduce(function(d,e){var a=d.adgroup;d=d.defaultRulePlacements;return{adgroup:b("adsPlacementAssetMutationRemovePlacementFromCustomization")(a,c,e,d),defaultRulePlacements:g(d,e)}},{adgroup:a,defaultRulePlacements:e}).adgroup}e.exports=a}),null);
__d("adsPACgetAdLabelCount",["AdsAPIAdAssetFeedCarouselFields","immutable"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e;if(d==null)return 0;e=(e=a.creative)==null?void 0:(e=e.asset_feed_spec)==null?void 0:e.carousels;a=(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.asset_customization_rules;var f=0;e!=null&&(f+=e.reduce(function(a,e){e=e.get(b("AdsAPIAdAssetFeedCarouselFields").CHILD_ATTACHMENTS);if(!(e instanceof b("immutable").List))return a;e=e.filter(function(a){return a.getIn([c,"name"])===d});return a+e.size},0));a!=null&&(f+=a.filter(function(a){return a.getIn([c,"name"])===d}).size);return f}e.exports=a}),null);
__d("adsPlacementAssetMutationRemoveCarouselCardDetail",["AdsAPIAdAssetFeedCarouselFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldToRuleLabelMapping","AdsPlacementAssetUtils","adsPACgetAdLabelCount"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsPlacementAssetUtils").getFirstAdLabel;function a(a,c,d,e){var f,h=a,i=b("AdsAssetFeedFieldToRuleLabelMapping").get(e);f=(f=a.creative)==null?void 0:(f=f.asset_feed_spec)==null?void 0:f.carousels;f=f==null?void 0:f.findIndex(function(a){return g(a)===c});if(f==null||f==-1||i==null)return h;f=[].concat(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CAROUSELS,[f.toString(),b("AdsAPIAdAssetFeedCarouselFields").CHILD_ATTACHMENTS,d.toString(),i]);var j=a.getIn([].concat(f,["name"]));if(j==null)return h;d=b("adsPACgetAdLabelCount")(a,i,j);if(d===1){a=[].concat(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path,[e]);h=h.updateIn(a,function(a){return a.filter(function(a){return g(a)!==j})})}return h.deleteIn(f)}e.exports=a}),null);
__d("adsPlacementAssetMutationRemoveCarouselCard",["AdsAPIAdAssetFeedCarouselFields","AdsAPIAdAssetFeedFields","AdsAPIAdgroupPaths","AdsPlacementAssetUtils","adsPlacementAssetMutationRemoveCarouselCardDetail","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsPlacementAssetUtils").getFirstAdLabel,h=2,i=[(c=b("AdsAPIAdAssetFeedFields")).IMAGES,c.VIDEOS,c.TITLES,c.DESCRIPTIONS,c.LINK_URLS];function a(a,c,d,e){var f;e===void 0&&(e=!1);f=(f=a.creative)==null?void 0:(f=f.asset_feed_spec)==null?void 0:f.carousels;if(f==null)return a;var j=f.findIndex(function(a){return g(a)===c});if(j===-1)return a;f=f.get(j).get(b("AdsAPIAdAssetFeedCarouselFields").CHILD_ATTACHMENTS);if(!(f instanceof b("immutable").List)||!e&&f.size<=h)return a;e=i.reduce(function(a,e){return b("adsPlacementAssetMutationRemoveCarouselCardDetail")(a,c,d,e)},a);var k=f["delete"](d);return e.updateIn([].concat(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CAROUSELS,[j.toString(),b("AdsAPIAdAssetFeedCarouselFields").CHILD_ATTACHMENTS]),function(){return k})}e.exports=a}),null);
__d("adsPlacementAssetMutationRemoveTextAssetForTargetingRule",["AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsPlacementAssetCustomizationTypes","adsPlacementAssetCustomizableFields","immutable","isAdgroupAssetFeedRulesConsistentWithField"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationConsistency;function h(a,c,d,e,f,h,i){a=a;d=b("isAdgroupAssetFeedRulesConsistentWithField")(a,d,e);if(d.status!==g.UNUSED_LABEL_IN_ASSET_LIST)return a;e=d.fieldTypeLabels;a=e.reduce(function(a,d){a=a;var e=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(a.getIn(f),i,d).index;while(e!=null){var g=b("AdsAssetFeedMutationUtils").isolateAssetWithLabel(a,c,h,e,i,d),j=g.adgroupWithIsolatedAsset;g=g.isolatedAssetIndex;a=b("AdsAssetFeedMutationUtils").removeAssetAtIndex(j,c,h,g);e=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(a.getIn(f),i,d).index}return a},a);return a}function a(a,c){a=a;a=b("adsPlacementAssetCustomizableFields").reduce(function(a,b){var d=b.assetFeedField,e=b.targetingRuleField,f=b.assetPath,g=b.specField;b=b.labelField;return h(a,c,d,e,f,g,b)},a);return a}e.exports=a}),null);
__d("adsPlacementCustomizationConvertToStaticAdWithExistingPost",["AdsAPIAdgroupRecordUtils"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.creative;return c==null||!b("AdsAPIAdgroupRecordUtils").isExistingPostAd(a)?a:a.set("creative",c["delete"]("asset_feed_spec"))}e.exports=a}),null);
__d("adsPlacementAssetMutationRemoveCustomizationAsset",["AdsAdgroupRecordAccessors","AdsAPIAdAssetFeedImagesFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsTargetingRuleUtils","AdsUnifiedCreativeAPIFields","ApiDynamicCreativeOptimizationTypes","adsPlacementAssetMutationConvertFromAssetFeedSpec","adsPlacementAssetMutationRemoveTextAssetForTargetingRule","adsPlacementCustomizationConvertToStaticAdWithExistingPost","immutable","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsPlacementAssetUtils").getFirstAdLabel;function h(a,c,d,e){var f=null;if(e==="carousel"){var h;h=(h=a.creative)==null?void 0:(h=h.asset_feed_spec)==null?void 0:h.carousels;if(h==null)return a;f=h.findIndex(function(a){return g(a)===d})}else{f=e==="image"?b("AdsAssetFeedFieldUtils").getAssetEntryForLabel((h=a.creative)==null?void 0:(h=h.asset_feed_spec)==null?void 0:h.images,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,d,b("AdsAPIAdAssetFeedImagesFields").HASH).index:b("AdsAssetFeedFieldUtils").getAssetEntryForLabel((h=a.creative)==null?void 0:(h=h.asset_feed_spec)==null?void 0:h.videos,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,d,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID).index}if(f==null)throw b("unrecoverableViolation")("asset with given label must exist in asset feed","csol_pac");if(e==="image")return b("AdsAssetFeedMutationUtils").removeAssetAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").imageHash,f);else if(e==="carousel"){h=[].concat(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CAROUSELS,[f.toString()]);return a.deleteIn(h)}return b("AdsAssetFeedMutationUtils").removeAssetAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").videoID,f)}function a(a,c,d,e,f,g){var i,j=h(a,c,d,e);if(b("AdsAssetFeedUtils").hasCarouselFormat(j)){var k;k=(k=j.creative)==null?void 0:(k=k.asset_feed_spec)==null?void 0:k.carousels;k=k?k.count():0;if(k<=1&&f)return b("adsPlacementAssetMutationConvertFromAssetFeedSpec")("carousel",j,b("nullthrows")(c.pivots.objective))}k=(k=j.creative)==null?void 0:(k=k.asset_feed_spec)==null?void 0:k.images;i=(i=j.creative)==null?void 0:(i=i.asset_feed_spec)==null?void 0:i.videos;var l=k?k.count():0,m=i?i.count():0,n=b("AdsAssetFeedUtils").isLocalizedPlacementsAdgroupFromRecord(j),o=b("AdsAssetFeedUtils").isDLOAdgroupFromRecord(j),p=l+m===1;k&&l===0&&(j=b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.images["delete"](j));i&&m===0&&(j=b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.videos["delete"](j));if(p){m=l===0?"video":"image";p=l===0?i:k;l=b("AdsAssetFeedFieldUtils").getAssetLabelListAtIndex(p,0);i=b("AdsAssetFeedUtils").isPacAdgroupUsingTextDOF(a);if((l==null||l.size<=1)&&f&&!n)if(!i)return b("AdsAPIAdgroupRecordUtils").isExistingPostAd(a)?b("adsPlacementCustomizationConvertToStaticAdWithExistingPost")(a):b("adsPlacementAssetMutationConvertFromAssetFeedSpec")(m,j,b("nullthrows")(c.pivots.objective));else return b("AdsAssetFeedMutationUtils").convertPACDofToDofAssetFeedSpecAdgroup(a,m,c,g)}e==="carousel"?k=b("AdsAPIAdAssetTargetRuleFields").CAROUSEL_LABEL:k=e==="image"?b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL:b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL;f=b("AdsTargetingRuleUtils").getTargetingRuleEntryForLabel((p=j.creative)==null?void 0:(l=p.asset_feed_spec)==null?void 0:l.asset_customization_rules,k,d).value;if(f==null)throw b("unrecoverableViolation")("asset with given label must exist in targeting rules","csol_pac");m=(i=j.creative)==null?void 0:(a=i.asset_feed_spec)==null?void 0:a.asset_customization_rules;g=b("AdsPlacementAssetTargetingRuleUtils").getDefaultRuleOrRuleWithMostPlacements(m);if(!g)throw b("unrecoverableViolation")("targetspec should have at least one rule.","csol_pac");p=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromAnyTargetingRuleMediaLabelField(g);if(p==null)return j;l=b("AdsAssetFeedUtils").getAssetMediaAdlabelCount(j);if(o&&l<=0){j=b("AdsAssetFeedMutationUtils").removeMediaLabelFromAssetCustomizationRules(j,k);return j}if(n){j=b("AdsAssetFeedMutationUtils").removeMediaByLabel(j,k,d);if(l===1){j=b("AdsAssetFeedUtils").setOptimizationType(j,b("ApiDynamicCreativeOptimizationTypes").LANGUAGE);g=(i=j.creative)==null?void 0:(a=i.asset_feed_spec)==null?void 0:a.images;d=(o=j.creative)==null?void 0:(n=o.asset_feed_spec)==null?void 0:n.videos;g!=null?j=b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.ad_formats.set(b("immutable").List(["SINGLE_IMAGE"]),j):d!=null&&(j=b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.ad_formats.set(b("immutable").List(["SINGLE_VIDEO"]),j))}return j}l=b("AdsPlacementAssetTargetingRuleUtils").movePlacementsInTargetingRules(m||b("immutable").List(),k,p,b("AdsPlacementAssetTargetingRuleUtils").convertTargetingRuleToPlacementList(f)).updatedTargetingRules;j=b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.set(l,j);e!=="carousel"&&(j=b("adsPlacementAssetMutationRemoveTextAssetForTargetingRule")(j,c));return j}e.exports=a}),null);
__d("adsPlacementAssetMutationRemoveCustomizationCarousel",["AdsAPIAdAssetFeedCarouselFields","adsPlacementAssetMutationRemoveCarouselCard","adsPlacementAssetMutationRemoveCustomizationAsset","immutable"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){var g;f===void 0&&(f=!0);g=(g=a.creative)==null?void 0:(g=g.asset_feed_spec)==null?void 0:(g=g.carousels)==null?void 0:g.get(d).get(b("AdsAPIAdAssetFeedCarouselFields").CHILD_ATTACHMENTS);if(!(g instanceof b("immutable").List))return a;var h=a;g.forEach(function(a,c){h=b("adsPlacementAssetMutationRemoveCarouselCard")(h,e,c,!0)});return b("adsPlacementAssetMutationRemoveCustomizationAsset")(h,c,e,"carousel",f,!1)}e.exports=a}),null);
__d("adsPlacementAssetMutationRemovePlacementFromCustomization",["AdsAdgroupRecordAccessors","AdsAPIAdAssetFeedCarouselFields","AdsAPIAdAssetFeedImagesFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsPlacementAssetTargetingRuleUtils","AdsTargetingRuleUtils","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupImageMutators","AdsUEditorAdgroupVideoMutators","AdsUnifiedCreativeAPIFields","ApiAdObjectTypes","adsContainsAssetCustomizationPlacement","adsPlacementAssetMutationRemoveCustomizationCarousel","immutable","isFalsey","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function g(a,b){return a==null||a.size!==1?!1:a.some(function(a){return a.platform===b.platform&&a.position===b.position})}function a(a,c,d,e){e=g(e,d);var f=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),h=b("AdsPlacementAssetTargetingRuleUtils").targetingRulesToAnyMediaLabelsPlacementListsMap(f,!e),i=null;e?i=Array.from(h.keys()).find(function(a){a=h.get(a);return a.isEmpty()}):i=Array.from(h.keys()).find(function(a){return b("adsContainsAssetCustomizationPlacement")(h.get(a),d)});if(b("isFalsey")(i))return a;var j=b("AdsPlacementAssetTargetingRuleUtils").getMediaAssetTypeFromTargetRuleLabel(f,i);if(j==="carousel"){var k;k=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel((k=a.creative)==null?void 0:(k=k.asset_feed_spec)==null?void 0:k.carousels,b("AdsAPIAdAssetFeedCarouselFields").ADLABELS,i).index}else if(j==="image"){var l;k=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel((l=a.creative)==null?void 0:(l=l.asset_feed_spec)==null?void 0:l.images,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,i,b("AdsAPIAdAssetFeedImagesFields").HASH).index}else{k=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel((l=a.creative)==null?void 0:(l=l.asset_feed_spec)==null?void 0:l.videos,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,i,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID).index}if(k==null)throw b("unrecoverableViolation")("asset with given label must exist in asset feed","csol_pac");if(h.get(i).size===1||e){if(j==="carousel")l=b("adsPlacementAssetMutationRemoveCustomizationCarousel")(a,c,k,i,!1);else if(j==="image"){var m=b("AdsUEditorAdgroupImageMutators").isolateImageAssetWithLabel(a,c,k,i),n=m.adgroupWithIsolatedImageAsset;m=m.isolatedImageAssetIndex;l=b("AdsAssetFeedMutationUtils").removeAssetAtIndex(n,c,b("AdsUnifiedCreativeAPIFields").imageHash,m)}else{n=b("AdsUEditorAdgroupVideoMutators").isolateVideoAssetWithLabel(a,c,k,i);m=n.adgroupWithIsolatedVideoAsset;k=n.isolatedVideoAssetIndex;l=b("AdsAssetFeedMutationUtils").removeAssetAtIndex(m,c,b("AdsUnifiedCreativeAPIFields").videoID,k)}j==="carousel"?n=b("AdsAPIAdAssetTargetRuleFields").CAROUSEL_LABEL:j==="image"?n=b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL:n=b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL;m=b("AdsTargetingRuleUtils").getTargetingRuleEntryForLabel(f,n,i).index;if(m==null)throw b("unrecoverableViolation")("asset with given label must exist in targeting rules","csol_pac");k=f["delete"](m);l=b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.set(k,l);n=l.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CAROUSELS)||b("immutable").List();m=l.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES)||b("immutable").List();var o=l.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS)||b("immutable").List();if(m.size+o.size===1||n.size===1){n=n.size===1?{assets:n,objectStorySpecType:b("ApiAdObjectTypes").SHARE}:m.size===1?{assets:m,objectStorySpecType:b("ApiAdObjectTypes").SHARE}:{assets:o,objectStorySpecType:b("ApiAdObjectTypes").VIDEO};m=n.assets;o=n.objectStorySpecType;n=b("AdsAssetFeedFieldUtils").getAssetLabelListAtIndex(m,0);if(n==null||n.size<=1)return b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec(o,l,b("nullthrows")(c.pivots.objective))}if(e){m=k.get(0);if(m!=null){n=m.set(b("AdsAPIAdAssetTargetRuleFields").CUSTOMIZATION_SPEC,b("immutable").Map());l=b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.set(k.set(0,n),l)}}return l}else{var p=h.get(i).filter(function(a){return a.platform!==d.platform||a.position!==d.position});o=f.toArray().map(function(a){var c=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(a,j==="image"?b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL:b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL);return c===i?a.set(b("AdsAPIAdAssetTargetRuleFields").CUSTOMIZATION_SPEC,b("AdsPlacementAssetTargetingRuleUtils").convertPlacementListToTargeting(p.toArray())):a});return b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.set(b("immutable").List(o),a)}}e.exports=a}),null);
__d("adsPlacementAssetMutationUpdateCustomizationVideo",["AdsAPIAdAssetFeedVideosFields","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsUEditorAdgroupMutators","AdsUEditorAdgroupVideoMutators","AdsUnifiedCreativeAPIFields","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i){var j;j=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel((j=a.creative)==null?void 0:(j=j.asset_feed_spec)==null?void 0:j.videos,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,d,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID).index;if(j==null)throw b("unrecoverableViolation")("asset with given label must exist in asset feed","csol_pac");a=a;d=b("AdsUEditorAdgroupVideoMutators").isolateVideoAssetWithLabel(a,e,j,d);var k=d.adgroupWithIsolatedVideoAsset;d=d.isolatedVideoAssetIndex;a=k;j=d;h!=null&&(a=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,e,b("AdsUnifiedCreativeAPIFields").videoID,j,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID,h));if(f!=null){a=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,e,b("AdsUnifiedCreativeAPIFields").videoID,j,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL,f);a=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,e,b("AdsUnifiedCreativeAPIFields").videoID,j,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_SOURCE,(k=g)!=null?k:"generated_default");c===!0&&(a=b("AdsUEditorAdgroupMutators").setThumbnailURL(a,f))}i!=null&&i!==""&&(a=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,e,b("AdsUnifiedCreativeAPIFields").videoID,j,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_HASH,i));return b("AdsUEditorAdgroupVideoMutators").removeDuplicateVideoAssets(a,e)}e.exports=a}),null);
__d("adsRemoveIncompatiblePACCustomizations",["AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","adsPlacementAssetMutationRemoveMultiplePlacementsFromCustomization","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsPlacementAssetTargetingRuleUtils").convertCampaignTargetingObjectToPlacementList,h=b("AdsPlacementAssetTargetingRuleUtils").convertTargetingRulesListToPlacementList,i=b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements,j=b("AdsPlacementAssetUtils").getPlacementsFromAssetGroups;function a(a,c,d){var e;e=(e=a.creative)==null?void 0:(e=e.asset_feed_spec)==null?void 0:e.asset_customization_rules;e=i(h((e=e)!=null?e:b("immutable").List(),null,!0));c=i(g(c.targeting));e=b("immutable").Set(e).subtract(c);c=j(e.toList());return b("adsPlacementAssetMutationRemoveMultiplePlacementsFromCustomization")(a,d,c)}e.exports=a}),null);
__d("AdsDCOConversionUtils",["AdsAdgroupRecordAccessors","AdsAPIAdAssetFeedImagesFields","AdsAssetFeedUtils","AdsCallToActionTypesCond","AdsMutators","NonURLLinkCTATypes","ShutterstockImageUtils","immutable"],(function(a,b,c,d,e,f){"use strict";var g=new Set(Object.keys(b("NonURLLinkCTATypes")));function h(a){a=a.get(b("AdsAPIAdAssetFeedImagesFields").URL);return typeof a!=="string"||!b("ShutterstockImageUtils").isStockImageURL(a)}function i(a){return typeof a==="string"&&a.includes("shutterstock")}function j(a){var c;c=(c=a.creative)==null?void 0:c.thumbnail_url;return i(c)?b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.thumbnail_height["delete"],b("AdsAdgroupRecordAccessors").creative.thumbnail_width["delete"],b("AdsAdgroupRecordAccessors").creative.thumbnail_url["delete"])(a):a}function a(a){var c;c=(c=a.creative)==null?void 0:(c=c.asset_feed_spec)==null?void 0:c.images;if(!c)return a;c=b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.images.set(c.filter(h),a);return j(c)}function c(a){var c;if(!b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(a))return a;c=((c=a.creative)==null?void 0:(c=c.asset_feed_spec)==null?void 0:c.call_to_action_types)||b("immutable").List([]);c=c.filter(function(a){return!g.has(a)});c.size===0&&(c=c.push(b("AdsCallToActionTypesCond").TYPES.LEARN_MORE.name));return b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.call_to_action_types.set(c,a)}e.exports={filterDCOUnsupportedCTATypes:c,filterDCOUnsupportedImageTypes:a}}),null);
__d("AdsCampaignGroupPromotedPageIDSelector",["AdsCampaignGroupCombinedStore","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([b("AdsCampaignGroupCombinedStore")],function(a){a=b("AdsCampaignGroupCombinedStore").getCachedObject(a).getValueEnforcing();return(a=a)!=null?(a=a.promoted_object)!=null?a.page_id:a:a},{name:e.id+".AdsCampaignGroupPromotedPageIDSelector"});e.exports=a}),null);
__d("AdsDLOAssetFeedMutators",["AdsAdgroupRecordAccessors","AdsAPIAdAssetFeedFields","AdsAPIAdAssetGroupFields","AdsAssetFeedFieldToRuleLabelMapping","AdsAssetFeedUtils"],(function(a,b,c,d,e,f){"use strict";a={removeOptionalLinksFieldsFromRules:function(a){var c;if(!b("AdsAssetFeedUtils").hasLanguageCustomizationFromRecord(a))return a;c=(c=a.creative)==null?void 0:c.asset_feed_spec;if(!c)return a;var d=c.asset_customization_rules;if(d){d=d.map(function(a){return a["delete"](b("AdsAPIAdAssetGroupFields").TITLE_LABEL)["delete"](b("AdsAPIAdAssetGroupFields").LINK_URL_LABEL)["delete"](b("AdsAPIAdAssetGroupFields").DESCRIPTION_LABEL)});c=c.set(b("AdsAPIAdAssetFeedFields").ASSET_CUSTOMIZATION_RULES,d)}return b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.set(c,a)},removeMediaFromAdgroup:function(a,c){var d;if(!b("AdsAssetFeedUtils").isDLOAdgroupFromRecord(a))return a;d=(d=a.creative)==null?void 0:(d=d.asset_feed_spec)==null?void 0:d.asset_customization_rules;if(d==null)return a;var e=b("AdsAssetFeedFieldToRuleLabelMapping").get(c);if(e==null)return a;a=a;if(c===b("AdsAPIAdAssetFeedFields").IMAGES)a=b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.images["delete"](a);else if(c===b("AdsAPIAdAssetFeedFields").VIDEOS)a=b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.videos["delete"](a);else return a;return b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.set(d.map(function(a){return a["delete"](e)}),a)}};e.exports=a}),null);
__d("AdsAdgroupWebsiteLinkPostTypeMutators",["AdsAdgroupPostTypeMutatorsUtils","AdsAdgroupRecordAccessors","AdsAdgroupTypeUtils","AdsAPIAdAssetTargetRuleFields","AdsAssetFeedUtils","AdsDLOAssetFeedMutators","ApiAdObjectTypes","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";function g(a,c){var d;d=(d=a.creative)==null?void 0:(d=d.asset_feed_spec)==null?void 0:d.asset_customization_rules;if(d!=null){d=d.map(function(a){return a.remove(c)});return b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.set(d,a)}return a}function h(a,c){var d;a=b("AdsDLOAssetFeedMutators").removeOptionalLinksFieldsFromRules(a);a=a.deleteIn((d=b("nullthrows"))(c.linkURL)).deleteIn(d(c.linkDescription)).deleteIn(d(c.headline)).deleteIn(d(c.callToActionType));d=b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a);if(d){a=g(a,b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL);return g(a,b("AdsAPIAdAssetTargetRuleFields").LINK_URL_LABEL)}return a}function a(a,c){var d;d=(d=a.creative)==null?void 0:d.object_type;var e=a;c=c.getUnifiedCreativeAPIFieldMapping(a);if(d===b("ApiAdObjectTypes").SHARE)return b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(e)?h(e,c):b("AdsAdgroupPostTypeMutatorsUtils").convertPostTypeInAdgroupRecord(b("ApiAdObjectTypes").SHARE,b("ApiAdObjectTypes").PHOTO,e);else if(d===b("ApiAdObjectTypes").VIDEO){c.linkDescription&&(e=e.deleteIn(c.linkDescription));return b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(e)?h(e,c):e.deleteIn(b("nullthrows")(c.callToActionType).slice(0,-1))}return e}function c(a,c){var d;d=(d=a.creative)==null?void 0:d.object_type;if(d===b("ApiAdObjectTypes").PHOTO)return b("AdsAdgroupPostTypeMutatorsUtils").convertPostTypeInAdgroupRecord(b("ApiAdObjectTypes").PHOTO,b("ApiAdObjectTypes").SHARE,a);var e=c.getUnifiedCreativeAPIFieldMapping(a);c=c.getDefaultCallToActionType(a);if(d===b("ApiAdObjectTypes").VIDEO)return a.setIn(b("nullthrows")(e.callToActionType),b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a)?b("immutable").List.of(c):c);return d===b("ApiAdObjectTypes").SHARE&&(b("AdsAdgroupTypeUtils").isVideoAd(a)||b("AdsAssetFeedUtils").isAdgroupUsingNonDofAssetFeedSpec(a))?a.setIn(b("nullthrows")(e.callToActionType),b("immutable").List.of(c)):a}d={convertToHasNoWebsiteLinkFormat:a,convertToHasWebsiteLinkFormat:c};e.exports=d}),null);
__d("AdsInteractiveComponentConstants",["fbt","AdCampaignDestination","AdsAPIObjectives","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;d="1001530549444";f="1001547657418";h=(k=b("immutable")).Map((h={},h.question_text="Poll Question",h.option_a_text="option 1",h.option_b_text="option 2",h.theme_color="FF6F9FFB",h));i=k.Map((i={},i.question_text="Poll Question",i.option_a_text="option 1",i.option_b_text="option 2",i.link_display="http://displaylink.com",i));a=k.Map((j={},j.question_text=a().toString(),j.option_a_text=c(!0).toString(),j.option_b_text=c(!1).toString(),j.theme_color="FF6F9FFB",j));j=k.Map((c={},c.x=.5,c.y=.5,c.width=.65,c.height=1,c.rotation=0,c));c="poll";var m={value:{link:"",link_format:"VIDEO_LPP"},type:"LEARN_MORE"},n=k.List([{platform:"facebook",position:"feed"},{platform:"facebook",position:"story"}]);l=k.List([(l=b("AdsAPIObjectives")).APP_INSTALLS,l.BRAND_AWARENESS,l.CONVERSIONS,l.LINK_CLICKS,l.REACH]);var o=k.List([(b=b("AdCampaignDestination")).APP,b.MESSENGER,b.WHATSAPP]);k=k.List([b.WHATSAPP]);function a(){return g._("Which would you choose?")}function c(a){return a?g._("Choice 1"):g._("Choice 2")}b={DEFAULT_POLL_SPEC:h,DEFAULT_POLL_SPEC_PANEL_V2:a,DEFAULT_POLL_SPEC_WITH_DISPLAY_LINK:i,DEFAULT_POSITION_SPEC:j,INTERACTIVE_COMPONENT_POLL_TYPE:c,DEFAULT_CTA_DATA:m,SUPPORTED_PLACEMENTS:n,SUPPORTED_OBJECTIVES:l,UNSUPPORTED_DESTINATION_FOR_LINK_CLICKS:o,UNSUPPORTED_DESTINATION_FOR_CONVERSIONS:k,WATCH_AND_BROWSE_VIDEO_ID:d,WATCH_AND_INSTALL_VIDEO_ID:f};e.exports=b}),null);
__d("AdsInteractivePollAPISpecWriteUtils",["AdsInteractiveComponentConstants","immutable"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d;return b("immutable").List([b("immutable").Map((d={},d.type=b("AdsInteractiveComponentConstants").INTERACTIVE_COMPONENT_POLL_TYPE,d.position_spec=c,d.poll_spec=a,d))])}function c(a){a=b("immutable").fromJS(a);a=a["delete"]("option_a_call_to_action");a=a["delete"]("option_b_call_to_action");return a}function d(a){a=b("immutable").fromJS(a);a=a.set("option_a_call_to_action",b("AdsInteractiveComponentConstants").DEFAULT_CTA_DATA);a=a.set("option_b_call_to_action",b("AdsInteractiveComponentConstants").DEFAULT_CTA_DATA);return a}function f(a){return"FF"+a.slice(1,7)}e.exports={addPollLinkSectionForPollSpec:d,convertColorHexFromToSpec:f,removePollLinkInformationFromPollSpec:c,constructPollSpecInInteractiveComponentsSpec:a}}),null);
__d("AdsInteractivePollLinkUtils",["AdsAdgroupRecordAccessors","AdsAdgroupSpecUtils","AdsAdgroupWebsiteLinkPostTypeMutators","AdsAPIAdAssetFeedLinkURLsFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdgroupRecordUtils","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsBrandAwarenessUtils","AdsCallToActionTypesCond","AdsInteractiveComponentConstants","AdsInteractivePollAPISpecWriteUtils","AdsUnifiedCreativeAPIFields","immutable","isTruthy"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsInteractivePollAPISpecWriteUtils").constructPollSpecInInteractiveComponentsSpec;function a(a,c,d,e){if(b("AdsBrandAwarenessUtils").isWebsiteLinkEnabled(a)||d==null)return a;return e?b("AdsAdgroupWebsiteLinkPostTypeMutators").convertToHasWebsiteLinkFormat(a,c):b("AdsAdgroupWebsiteLinkPostTypeMutators").convertToHasNoWebsiteLinkFormat(a,c)}function h(a,c,d){var e=b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a);if(e&&d!=null){e=a==null?void 0:(e=a.creative)==null?void 0:(e=e.asset_feed_spec)==null?void 0:e.videos;return e==null?a:e.reduce(function(e,f,h){var a=b("AdsAssetFeedFieldUtils").getAssetInteractivePollSpec(b("immutable").fromJS(f));f=b("AdsAssetFeedFieldUtils").getAssetInteractivePositionSpec(b("immutable").fromJS(f));if(a!=null){a=a.set("link_display",c);a=g(a,f||b("AdsInteractiveComponentConstants").DEFAULT_POSITION_SPEC);return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(e,d,b("AdsUnifiedCreativeAPIFields").videoID,h,b("AdsAPIAdAssetFeedVideosFields").INTERACTIVE_COMPONENTS_SPEC,b("immutable").fromJS({components:a}))}return e},a)}e=a==null?void 0:(e=a.creative)==null?void 0:(e=e.interactive_components_spec)==null?void 0:e.components;if(e==null)return a;var f=e.getIn([0,"poll_spec"]);e=e.getIn([0,"position_spec"]);f=f.set("link_display",c);return b("AdsAdgroupRecordAccessors").creative.interactive_components_spec.components.set(g(f,e),a)}function i(a){var c=b("AdsAdgroupSpecUtils").getDisplayURL(a),d=null;a=a==null?void 0:(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.link_urls;a!=null&&(d=a.getIn([0,b("AdsAPIAdAssetFeedLinkURLsFields").DISPLAY_URL]));return c==null?d:c}function j(a,c){var d=b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a);if(d&&c!=null){d=a==null?void 0:(d=a.creative)==null?void 0:(d=d.asset_feed_spec)==null?void 0:d.videos;return d==null?a:d.reduce(function(d,e,f){var a=b("AdsAssetFeedFieldUtils").getAssetInteractivePollSpec(b("immutable").fromJS(e));e=b("AdsAssetFeedFieldUtils").getAssetInteractivePositionSpec(b("immutable").fromJS(e));if(a!=null){if(a.get("link_display")==null)return d;a=a["delete"]("link_display");a=g(a,e||b("AdsInteractiveComponentConstants").DEFAULT_POSITION_SPEC);return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(d,c,b("AdsUnifiedCreativeAPIFields").videoID,f,b("AdsAPIAdAssetFeedVideosFields").INTERACTIVE_COMPONENTS_SPEC,b("immutable").fromJS({components:a}))}return d},a)}d=a==null?void 0:(d=a.creative)==null?void 0:(d=d.interactive_components_spec)==null?void 0:d.components;if(d==null)return a;var e=d.getIn([0,"poll_spec"]);d=d.getIn([0,"position_spec"]);if(e.get("link_display")==null)return a;e=e["delete"]("link_display");return b("AdsAdgroupRecordAccessors").creative.interactive_components_spec.components.set(g(e,d),a)}function c(a,b){var c,d=a;c=i(d);c!=null?d=h(d,c,b):d=j(a,b);return d}function k(a,c,d){return h(a,b("AdsCallToActionTypesCond").TYPES[c].text,d)}function d(a,c){var d=b("AdsAPIAdgroupRecordUtils").getCallToActionType(a,c);return b("isTruthy")(d)?k(a,d,c):j(a,c)}e.exports={getDisplayLink:i,removeDisplayLink:j,setAppInstallDisplayLink:k,setDisplayLink:h,updateAdgroupWebsiteLink:a,updateAppInstallDisplayLink:d,updateDisplayLink:c}}),null);
__d("AdsUEditorAdgroupChildAttachmentsMutators",["invariant","AdsAdgroupChildAttachmentsFields","AdsAdgroupChildAttachmentTypes","AdsAdgroupRecordAccessors","AdsAdgroupSpecUtils","AdsAPICallToActionPaths","AdsAPIChildAttachmentPaths","AdsChildAttachmentsUtils","AdsEditorMPAConstants","AdsMultiProductConstants","AdsMutators","AdsUnifiedCreativeAPIFieldMappings","AdsUnifiedCreativeAPIFields","DynamicAdsTemplateVideoShowreelTemplateConfig","getByPath","immutable","recoverableViolation","setByPath"],(function(a,b,c,d,e,f,g){"use strict";var h=b("AdsUnifiedCreativeAPIFieldMappings").TEMPLATE_MAPPING,i=2;function a(a,c,d){if(b("AdsChildAttachmentsUtils").isStaticCarouselAd(c)){a=b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(c,a);var e=c.getIn(a);c=c.setIn(a,e.map(d))}return c}function c(a,c,d,e,f){var g=f.imageHash,h=f.imageURL,i=f.imageCrops,k=f.thumbnailURL,l=b("AdsAdgroupChildAttachmentsFields").imageURL.get(a,c,d),m=b("AdsAdgroupChildAttachmentsFields").staticCard.get(a,c,d);a=j(a,c,d);switch(e){case"VIDEO":a=[b("AdsAdgroupChildAttachmentsFields").imageCrops,b("AdsAdgroupChildAttachmentsFields").imageHash,b("AdsAdgroupChildAttachmentsFields").imageURL].reduce(function(a,b){b=b.get(a,c,d);return b.supported===!0?a.deleteIn(b.path):a},a);e=f.videoID||b("AdsEditorMPAConstants").MPA_PLACEHOLDER_VIDEO_ID;var n=b("AdsAdgroupChildAttachmentsFields").videoID.get(a,c,d);n.supported&&(a=a.setIn(n.path,e));l.supported&&k&&(a=a.setIn(l.path,k));n=f.captionIDs;e=b("AdsAdgroupChildAttachmentsFields").captionIDs.get(a,c,d);e.supported&&n!==null&&(a=a.setIn(e.path,n));m.supported&&(a=a.setIn(m.path,!0));break;case"IMAGE":a=[b("AdsAdgroupChildAttachmentsFields").imageCrops,b("AdsAdgroupChildAttachmentsFields").imageURL,b("AdsAdgroupChildAttachmentsFields").videoID,b("AdsAdgroupChildAttachmentsFields").captionIDs].reduce(function(a,b){b=b.get(a,c,d);return b.supported===!0?a.deleteIn(b.path):a},a);k=b("AdsAdgroupChildAttachmentsFields").imageHash.get(a,c,d);f=b("AdsAdgroupChildAttachmentsFields").imageCrops.get(a,c,d);k.supported&&g?a=a.setIn(k.path,g):l.supported&&h&&(a=a.setIn(l.path,h));f.supported&&i&&(a=a.setIn(f.path,i));m.supported&&(a=a.setIn(m.path,!0));break;case"TEMPLATE_VIDEO":a=[b("AdsAdgroupChildAttachmentsFields").imageCrops,b("AdsAdgroupChildAttachmentsFields").imageHash,b("AdsAdgroupChildAttachmentsFields").imageURL,b("AdsAdgroupChildAttachmentsFields").videoID].reduce(function(a,b){b=b.get(a,c,d);return b.supported===!0?a.deleteIn(b.path):a},a);e=[b("AdsAdgroupChildAttachmentsFields").templateVideoSpecCustomization,b("AdsAdgroupChildAttachmentsFields").templateVideoSpecTemplateID].map(function(b){return b.get(a,c,d)});n=e[0];k=e[1];k.supported&&n.supported&&m.supported?a=a.setIn(k.path,b("DynamicAdsTemplateVideoShowreelTemplateConfig").default_template_id).setIn(n.path,b("immutable").Map(b("DynamicAdsTemplateVideoShowreelTemplateConfig").templates[b("DynamicAdsTemplateVideoShowreelTemplateConfig").default_template_id].customization)).deleteIn(m.path):b("recoverableViolation")("attempted to change media format to template video, but some fields were unsupported "+("templateID: "+(k.supported?"supported":"unsupported")+" customization: "+(n.supported?"supported":"unsupported")+" staticCard: "+(m.supported?"supported":"unsupported")),"dpa");break}return a}function j(a,c,d){c=b("AdsAdgroupChildAttachmentsFields").templateVideoSpecTemplateID.get(a,c,d);return c.supported?a.deleteIn(c.path.slice(0,-1)):a}function d(a,c,d,e){var f=b("AdsAdgroupChildAttachmentsFields").imageURL.get(a,c,d);c=b("AdsAdgroupChildAttachmentsFields").imageHash.get(a,c,d);f.supported&&(a=a.setIn(f.path,e));c.supported&&(a=a.deleteIn(c.path));d===0&&(a=b("AdsAdgroupRecordAccessors").creative.thumbnail_url.set(e,a));return a}function f(a,c,d,e,f){var g=b("AdsAdgroupChildAttachmentsFields").videoID.get(a,c,d),h=b("AdsAdgroupChildAttachmentsFields").imageHash.get(a,c,d);c=b("AdsAdgroupChildAttachmentsFields").imageURL.get(a,c,d);g.supported&&(a=a.setIn(g.path,e));h.supported&&(a=a.deleteIn(h.path));if(f){c.supported&&(a=a.setIn(c.path,b("getByPath")(f,["preferredThumbnail","uri"])));d===0&&(a=b("AdsAdgroupRecordAccessors").creative.thumbnail_url.set(b("getByPath")(f,["preferredThumbnail","uri"]),a));return a}c.supported&&(a=a.deleteIn(c.path));return a}function g(a,c,d,e){c=b("AdsAdgroupChildAttachmentsFields").captionIDs.get(a,c,d);return c.supported?a.setIn(c.path,e):a}function k(a,b,c,d,e){var f=b.getUnifiedCreativeAPIFieldMapping(a).get("childAttachments"),g=a.getIn(f);return!g?a:a.withMutations(function(a){g.forEach(function(f,g){var h=c.get(a,b,g);if(e&&!e(h,f,a,g))return;h.supported&&a.setIn(h.path,d)})})}function l(a){return function(b,c,d,e){return b.supported&&e===a}}function m(a,b,c,d){return a.supported&&!a.value}function n(a,b,c,d){return a.supported&&!!a.value}function o(a,b){return function(c,d,e,f){d=a.get(e,b,f);return c.supported&&d.supported&&c.value!==d.value}}function p(a,c,d,e){return a.supported&&!c.getIn(b("AdsAPIChildAttachmentPaths").STATIC_CARD)}function q(a,c,d){var e;if(b("AdsChildAttachmentsUtils").getPlaceDataIndex(a,d)===-1)return a;if(d.isDynamicProductCarouselAd(a))return t(a);c=b("AdsUnifiedCreativeAPIFields").childAttachments.getValue(a,d);if(!c)return a;c=c.filter(function(a){return a&&!a.get("place_data")});a=a.setIn(b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(a,d),c);var f=c.size;if(f===0||f>=b("AdsMultiProductConstants").MIN_PRODUCTS)return a;var g=c.first(),h=g.get("call_to_action");e=(e={},e.link=g.get("link"),e);if(h){var i;e=(i={},i.link=g.get("link"),i.call_to_action=(g={},g.type=h&&h.get("type"),g.value=b("immutable").fromJS(h&&h.get("value")),g),i)}c=c.toJS();for(var h=f;h<b("AdsMultiProductConstants").MIN_PRODUCTS;h++)c=c.concat(e);return a.setIn(b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(a,d),b("immutable").fromJS(c))}function r(a){var c,d=b("AdsAdgroupSpecUtils").getCallToActionType(a);c=(c={},c.description=a.getIn(h.linkDescription),c.link=a.getIn(h.linkURL)||"",c.name=a.getIn(h.headline),c);if(d!=null){var e;d=b("immutable").Map((e={},e.type=d,e));e=b("getByPath")(b("AdsAdgroupSpecUtils").getCallToAction(a),b("AdsAPICallToActionPaths").VALUE.LEAD_GEN_FORM_ID);if(e){d=d.set("value",b("immutable").Map((a={},a.lead_gen_form_id=e,a)))}c.call_to_action=d}return b("immutable").fromJS(c)}function s(a,c){c=c.setIn(b("AdsAPIChildAttachmentPaths").STATIC_CARD,!0);var d=a.getIn(h.childAttachments);!d?d=b("immutable").fromJS([r(a),c]):d=d.splice(i,0,b("immutable").fromJS(c));return x(a,d)}function t(a){return u(a,b("AdsAdgroupChildAttachmentTypes").PLACE)}function u(a,c){var d=a.getIn(h.childAttachments);if(!d)return a;var e=d.filter(b("AdsChildAttachmentsUtils").isDynamicAdsIntroCard).size>1;if(!e)return y(a);d=d.filter(function(d,e){e=b("AdsChildAttachmentsUtils").getChildAttachmentType(a,d);return e!==c});return x(a,d)}function v(a){return u(a,b("AdsAdgroupChildAttachmentTypes").STATIC)}function w(a,c){var d,e=b("AdsAdgroupSpecUtils").getCallToActionType(a);d=(d={},d.link=a.getIn(h.linkURL)||"",d);c?(b("setByPath")(d,b("AdsAPIChildAttachmentPaths").TEMPLATE_VIDEO_SPEC.TEMPLATE_ID,b("DynamicAdsTemplateVideoShowreelTemplateConfig").default_template_id),b("setByPath")(d,b("AdsAPIChildAttachmentPaths").TEMPLATE_VIDEO_SPEC.CUSTOMIZATION,b("DynamicAdsTemplateVideoShowreelTemplateConfig").templates[b("DynamicAdsTemplateVideoShowreelTemplateConfig").default_template_id].customization)):b("setByPath")(d,b("AdsAPIChildAttachmentPaths").STATIC_CARD,!0);if(e!=null){e=b("immutable").Map((c={},c.type=e,c));c=b("getByPath")(b("AdsAdgroupSpecUtils").getCallToAction(a),b("AdsAPICallToActionPaths").VALUE.LEAD_GEN_FORM_ID);if(c){var f;e=e.set("value",b("immutable").Map((f={},f.lead_gen_form_id=c,f)))}d.call_to_action=e}c=a.getIn(h.childAttachments);!c?c=b("immutable").fromJS([d,r(a)]):c=c.splice(0,0,b("immutable").fromJS(d));return x(a,c)}function x(a,c){return b("AdsMutators").chain(function(a){return a.deleteIn(h.headline).deleteIn(h.linkDescription)},b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.force_single_link["delete"],function(a){return a.setIn(h.childAttachments,c)})(a)}function y(a){var c=a.getIn(h.childAttachments),d=c.findIndex(function(a){return!a.getIn(b("AdsAPIChildAttachmentPaths").STATIC_CARD)}).toString(),e=c.getIn([d].concat(b("AdsAPIChildAttachmentPaths").NAME));c=c.getIn([d].concat(b("AdsAPIChildAttachmentPaths").DESCRIPTION));return a.setIn(h.headline,e).setIn(h.linkDescription,c).deleteIn(h.childAttachments)}e.exports={addLeadingStaticCard:w,appendPlaceData:s,childIterationConditions:{isCardIndex:l,isEmptyValue:m,hasValue:n,valueNotEqualOtherField:o,notStaticCard:p},mutateChildAttachments:a,removeAllStaticCards:y,removeLeadingStaticCard:v,removePlaceData:q,removeTemplatePlaceData:t,setChildCaptionIDs:g,setChildImageURL:d,setChildMediaFormat:c,setChildVideoID:f,setEachChildField:k}}),null);
__d("AdsUssdCodeUtils",["UssdCodesConfig"],(function(a,b,c,d,e,f){"use strict";var g="tel:",h={getAdAccountUSSDCodes:function(a){a=b("UssdCodesConfig").adAccountUSSDCodes.get(a);return a?a:[]},createUSSDCodeLink:function(a){return g+a.replace(/#/g,"%23")},getAdAccountDefaultUSSDCodeLink:function(a){a=h.getAdAccountUSSDCodes(a);return a.length>0?h.createUSSDCodeLink(a[0]):null}};e.exports=h}),null);
__d("adsCallToActionGetCTADefaultValueFromPage",["AdsCallToActionPhoneNumberUtils","AdsCallToActionTypesCond","AdsPageFields"],(function(a,b,c,d,e,f){"use strict";var g="fbgeo://";function a(a,c,d){var e=null;switch(c){case b("AdsCallToActionTypesCond").TYPES.CALL_NOW.name:c=a.phone;c!=null&&!b("AdsPageFields").isNotApplicable(c)&&!d&&(e=b("AdsCallToActionPhoneNumberUtils").makePhoneNumber(c));break;case b("AdsCallToActionTypesCond").TYPES.GET_DIRECTIONS.name:if(a.location&&!d){c=a.location;if(c.latitude&&c.longitude){c.name?d=c.name:a.single_line_address?d=a.single_line_address:d=c.latitude+","+c.longitude;e=""+g+c.latitude+","+(c.longitude+',"'+d+'"')}}break;case b("AdsCallToActionTypesCond").TYPES.LEARN_MORE.name:c=a.website;d=c&&!b("AdsPageFields").isNotApplicable(c);d&&(e=c);break}return e}e.exports=a}),null);
__d("AdsUEditorCallToActionMutators",["AdCampaignDestination","AdsAccountStore","AdsAdgroupRecordAccessors","AdsAdgroupSpecUtils","AdsAPIAdgroupRecordUtils","AdsAPIChildAttachmentPaths","AdsAPIObjectives","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsCallToActionGeoUtils","AdsCallToActionTypesCond","AdsInteractivePollLinkUtils","AdsLocalAwarenessUtils","AdsMutators","AdsPromotedObjectTypes","AdsUEditorAdgroupChildAttachmentsMutators","AdsUEditorAdgroupMultiProductMutators","AdsUEditorWebsiteMutators","AdsUEditorWhatsAppMutators","AdsUnifiedCreativeAPIFields","AdsUssdCodeUtils","AdsWhatsAppUtils","ApiAdObjectTypes","adsAccountGK","adsCallToActionGetCTADefaultValueFromPage","adsInteractivePollHasFbFeedVideoPollSpec","gkx","immutable","isFalsey","isTruthy"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsInteractivePollLinkUtils").setAppInstallDisplayLink,h=function(a){var c=a.accountID,d=a.adgroup,e=a.cachedCallToActionLink,f=a.callToActionType,h=a.campaignGroupPromotedPageID,k=a.objective,n=a.pages,o=a.promotedObjectType,p=a.specPlugin,r=a.eligibilityInformation;a=a.destination;var t=d;if(b("isTruthy")(f)){var u=d;if(b("AdsAssetFeedUtils").isAdgroupUsingNonDofAssetFeedSpec(t)&&!b("AdsAssetFeedUtils").isFormatAutomationAdgroupFromRecord(t)&&!b("AdsAssetFeedUtils").isDofMessagingDestinationAdgroupFromSpec(d)){t=b("AdsAssetFeedMutationUtils").setAssetAtIndex(t,p,b("AdsUnifiedCreativeAPIFields").callToActionType,0,f);d=b("AdsUnifiedCreativeAPIFields").callToAction.getValue(t,p);d instanceof b("immutable").List&&d.size===1&&(t=b("AdsAssetFeedMutationUtils").setAssetsArrayInField(t,p,b("AdsUnifiedCreativeAPIFields").callToAction,d.setIn([0,"type"],f).toArray()))}else t=t.setIn(b("AdsUnifiedCreativeAPIFields").callToActionType.getPathOrThrow(t,p),f);t=b("AdsUEditorAdgroupMultiProductMutators").setInEachNonPlaceDataChild(["call_to_action","type"],f,t);(b("AdsAdgroupSpecUtils").isCTALinkCustomizable(t,k,h)||b("AdsAdgroupSpecUtils").isCTALinkCustomizable(u,k,h))&&(t=m({accountID:c,callToActionType:f,cachedCallToActionLink:e,adgroup:t,pages:n,objective:k,promotedObjectType:o,specPlugin:p,campaignGroupPromotedPageID:h}));j(f,k)&&(t=C(t,p));b("AdsWhatsAppUtils").isWhatsAppCTAType(f)?t=b("AdsUEditorWhatsAppMutators").setWhatsAppNumberToAdgroupCallToAction(t,p):t=x(t,p);(b("gkx")("910918")||b("adsAccountGK")._(b("AdsAccountStore").getSelectedAccount().getValue(),"4bkjBjLNd"))&&(t=l(t,p,f,k,o));d=i(k,h,f);d!=null&&(t=b("AdsUEditorWebsiteMutators").setLandingViewType({landingViewType:d,adgroup:t,pages:n,objective:k,promotedObjectType:o,specPlugin:p,campaignGroupPromotedPageID:h}))}else t=D(t,p),t=b("AdsUEditorAdgroupMultiProductMutators").deleteInEachChild(["call_to_action"],t);k===b("AdsAPIObjectives").APP_INSTALLS&&f!=null&&f!==""&&r!=null&&b("adsInteractivePollHasFbFeedVideoPollSpec")(t,r.spec)&&(t=g(t,f,p));u=b("AdsUnifiedCreativeAPIFields").callToActionValue.isSupported(t,p);u&&a===b("AdCampaignDestination").FACEBOOK?t=q(t,p,"MARKETPLACE"):f==="MARKETPLACE"&&a!==b("AdCampaignDestination").FACEBOOK&&(t=s(t,p));return t};function i(a,c,d){if(!b("AdsLocalAwarenessUtils").isDynamicLocalAwareness(a,c))return null;switch(d){case b("AdsCallToActionTypesCond").TYPES.LEARN_MORE.name:case b("AdsCallToActionTypesCond").TYPES.ORDER_NOW.name:case b("AdsCallToActionTypesCond").TYPES.SHOP_NOW.name:return"EXTERNAL";case b("AdsCallToActionTypesCond").TYPES.GET_DIRECTIONS.name:return null;default:return null}}function j(a,c){return a===b("AdsCallToActionTypesCond").TYPES.WHATSAPP_MESSAGE.name||(a===b("AdsCallToActionTypesCond").TYPES.GET_DIRECTIONS.name||a===b("AdsCallToActionTypesCond").TYPES.CALL_NOW.name)&&c===b("AdsAPIObjectives").STORE_VISITS}var k=function(a){var c=a.link,d=a.adgroup;a.pages;a.promotedObjectType;a=a.specPlugin;d=d;var e=["call_to_action","value","link"];a=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPath(d,a);a&&(d=d.setIn(a.concat(["link"]),c));a=b("AdsAdgroupSpecUtils").getCallToActionType(d);if(a===b("AdsCallToActionTypesCond").TYPES.GET_DIRECTIONS.name&&c!=null&&c!==""){a=b("AdsCallToActionGeoUtils").parseGeoLink(c);a&&(d=b("AdsUEditorAdgroupMultiProductMutators").setInEachPlaceDataChild(b("AdsAPIChildAttachmentPaths").PLACE_DATA.ADDRESS_STRING,a.get("name"),d),d=b("AdsUEditorAdgroupMultiProductMutators").setInEachPlaceDataChild(b("AdsAPIChildAttachmentPaths").PLACE_DATA.LATITUDE,a.get("coordinates").latitude,d),d=b("AdsUEditorAdgroupMultiProductMutators").setInEachPlaceDataChild(b("AdsAPIChildAttachmentPaths").PLACE_DATA.LONGITUDE,a.get("coordinates").longitude,d))}return b("AdsUEditorAdgroupMultiProductMutators").setInEachNonPlaceDataChild(e,c,d)},l=function(a,c,d,e,f){if(f!==b("AdsPromotedObjectTypes").PRODUCT_SET)return a;if(d===b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name){e=q(a,c,"MESSENGER");f=e.getIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(e,c));if(f)return o(e,c,"link",f);else return e}else return s(a,c)},m=function(a){var c=a.accountID,d=a.callToActionType,e=a.cachedCallToActionLink,f=a.adgroup,g=a.pages,h=a.objective,i=a.promotedObjectType,j=a.specPlugin;a=a.campaignGroupPromotedPageID;var l=b("AdsAdgroupSpecUtils").isCTALinkCustomizable(f,h,a);if(d===b("AdsCallToActionTypesCond").TYPES.DIAL_CODE.name&&c!=null&&c!==""){c=b("AdsUssdCodeUtils").getAdAccountDefaultUSSDCodeLink(c);return k({link:b("isTruthy")(c)?c:void 0,adgroup:f,pages:g,promotedObjectType:i,specPlugin:j})}if(!l&&b("isFalsey")(e))return k({link:void 0,adgroup:f,pages:g,promotedObjectType:i,specPlugin:j});if(b("isTruthy")(e))return k({link:e,adgroup:f,pages:g,promotedObjectType:i,specPlugin:j});e=f==null?void 0:(c=f.creative)==null?void 0:(l=c.object_story_spec)==null?void 0:l.page_id;if(b("isTruthy")(e)&&g&&g.has(e)){c=g.get(e);l=c&&b("adsCallToActionGetCTADefaultValueFromPage")(c,d,b("AdsLocalAwarenessUtils").isDynamicLocalAwareness(h,a));if(b("isTruthy")(l))return k({link:l,adgroup:f,pages:g,promotedObjectType:i,specPlugin:j})}return k({link:"",adgroup:f,pages:g,promotedObjectType:i,specPlugin:j})},n=function(a,c){return b("isTruthy")(c)?b("AdsAdgroupRecordAccessors").creative.object_story_spec.video_data.call_to_action.value.link_format.set(c,a):a};function o(a,c,d,e){return b("AdsMutators").chain(function(a){if(b("AdsAssetFeedUtils").hasPlacementCustomizationFromRecord(a)){if(b("AdsUnifiedCreativeAPIFields").callToAction.isSupported(a,c)){var f=b("AdsUnifiedCreativeAPIFields").callToAction.getValue(a,c);if(f instanceof b("immutable").List&&f.size===1)return b("AdsAssetFeedMutationUtils").setAssetsArrayInField(a,c,b("AdsUnifiedCreativeAPIFields").callToAction,f.setIn([0,"value",d],e).toArray())}return a}f=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPathOrThrow(a,c);return a.setIn(f.concat(d),e)},function(a){return b("AdsUEditorAdgroupChildAttachmentsMutators").mutateChildAttachments(c,a,function(a){return a.setIn(["call_to_action","value",d],e)})})(a)}function p(a,c,d){return b("AdsMutators").chain(function(a){var e=b("AdsAssetFeedUtils").hasPlacementCustomizationFromRecord(a);if(e&&b("AdsUnifiedCreativeAPIFields").callToAction.isSupported(a,c)){e=b("AdsUnifiedCreativeAPIFields").callToAction.getValue(a,c);return e instanceof b("immutable").List?b("AdsAssetFeedMutationUtils").setAssetsArrayInField(a,c,b("AdsUnifiedCreativeAPIFields").callToAction,e.map(function(a){return a.deleteIn(["value",d])}).toArray()):a}if(!b("AdsUnifiedCreativeAPIFields").callToActionValue.isSupported(a,c))return a;e=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPathOrThrow(a,c);return a.deleteIn(e.concat(d))},function(a){return b("AdsUEditorAdgroupChildAttachmentsMutators").mutateChildAttachments(c,a,function(a){var b=["call_to_action","value",d];return a.hasIn(b)?a.deleteIn(b):a})})(a)}function a(a,c,d){return b("AdsMutators").chain(function(a){return a.setIn(b("AdsUnifiedCreativeAPIFields").callToActionType.getPathOrThrow(a,d),c)},function(a){return b("AdsUEditorAdgroupChildAttachmentsMutators").mutateChildAttachments(d,a,function(a){return a.setIn(["call_to_action","type"],c)})})(a)}function c(a,b,c){return o(a,c,"lead_gen_form_id",b)}function d(a,b,c){return o(a,c,"is_canvas_video_transition_enabled",b)}function q(a,b,c){return o(a,b,"app_destination",c)}function r(a,c){return b("AdsUnifiedCreativeAPIFields").callToActionValue.isSupported(a,c)||b("AdsAssetFeedUtils").hasPlacementCustomizationFromRecord(a)&&b("AdsUnifiedCreativeAPIFields").callToAction.isSupported(a,c)}function s(a,b){return r(a,b)?p(a,b,"app_destination"):a}function f(a,b,c){return o(a,b,"app_destination_page_id",c)}function t(a,b){return r(a,b)?p(a,b,"app_destination_page_id"):a}function u(a,b,c){return o(a,b,"app_link",c)}function v(a,b){return r(a,b)?p(a,b,"app_link"):a}function w(a,b,c){return o(a,b,"whatsapp_number",c)}function x(a,b){return r(a,b)?p(a,b,"whatsapp_number"):a}function y(a,b,c){return o(a,b,"object_store_urls",c)}function z(a,b){return r(a,b)?p(a,b,"object_store_urls"):a}function A(a,b,c){return o(a,b,"application",c)}function B(a,b){return r(a,b)?p(a,b,"application"):a}function C(a,b){return r(a,b)?p(a,b,"link"):a}function D(a,c){return b("AdsMutators").chain(function(a){a=a;if(b("AdsUnifiedCreativeAPIFields").callToActionType.isSupported(a,c)){var d=b("AdsUnifiedCreativeAPIFields").callToActionType.getPathOrThrow(a,c);a=a.deleteIn(d);d=d.slice(0,-1);var e=d[d.length-1]==="call_to_action";e&&(a=a.deleteIn(d))}b("AdsUnifiedCreativeAPIFields").callToActionValue.isSupported(a,c)&&(a=a.deleteIn(b("AdsUnifiedCreativeAPIFields").callToActionValue.getPathOrThrow(a,c)));return a},function(a){return b("AdsUEditorAdgroupChildAttachmentsMutators").mutateChildAttachments(c,a,function(a){return a.deleteIn(["call_to_action"])})})(a)}function E(a,c){return b("AdsMutators").chain(function(a){a=a;var d=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPathOrThrow(a,c);a.getIn(d)||(a=a.setIn(d.concat("link"),""));var e=a.getIn(d),f=b("AdsAPIAdgroupRecordUtils").getObjectType(a);if(f===b("ApiAdObjectTypes").VIDEO){f=a.getIn(d.concat("link_description"));var g=a.getIn(d.concat("link_title"));e=e.clear().setIn(["link_description"],f).setIn(["link_title"],g)}else e=e.clear();return a.setIn(d,e)},function(a){return b("AdsUEditorAdgroupChildAttachmentsMutators").mutateChildAttachments(c,a,function(a){a=a;var b=["call_to_action","value"];a.getIn(b)||(a=a.setIn(["call_to_action","value","link"],""));var c=a.getIn(b);return a.setIn(b,c.clear())})})(a)}t={deleteCallToAction:D,deleteCallToActionValueAppDestination:s,deleteCallToActionValueAppDestinationPageID:t,deleteCallToActionValueApplication:B,deleteCallToActionValueAppLink:v,deleteCallToActionValueLink:C,deleteCallToActionValueObjectStoreURLs:z,deleteCallToActionValueWhatsAppNumber:x,resetCallToActionValue:E,setCallToAction:h,setCallToActionLink:k,setCallToActionLinkFormat:n,setCallToActionType:a,setCallToActionValueAppDestination:q,setCallToActionValueAppDestinationPageID:f,setCallToActionValueApplication:A,setCallToActionValueAppLink:u,setCallToActionValueCanvasVideoTranstionEnabled:d,setCallToActionValueField:o,setCallToActionValueLeadGenFormID:c,setCallToActionValueObjectStoreURLs:y,setCallToActionValueWhatsAppNumber:w};e.exports=t}),null);
__d("AdsUEditorMessengerMutators",["AdsAdgroupRecordAccessors","AdsAPIAdgroupRecordUtils","AdsAPIChildAttachmentPaths","AdsAPIObjectives","AdsCallToActionTypesCond","AdsCollectionsAdUtils","AdsMessengerConstants","AdsMessengerVisualEditorUtils","AdsMutators","AdsSponsoredMessageUtils","AdsUEditorAdgroupMultiProductMutators","AdsUEditorCallToActionMutators","AdsUEditorWebsiteMutators","AdsUnifiedCreativeAPIFields","ApiAdObjectTypes","isTruthy"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=a.adgroup,d=a.objective,e=a.promotedObjectType,f=a.specPlugin,g=a.campaignGroupPromotedPageID,h=a.supportPageEndCard;a.capabilities;if(b("AdsAPIAdgroupRecordUtils").isExistingPostAd(c))return c;a=c;c=(c=a)==null?void 0:(c=c.creative)==null?void 0:c.messenger_sponsored_message;if(b("isTruthy")(c)){a=b("AdsMutators").chain((c=b("AdsAdgroupRecordAccessors")).creative.messenger_sponsored_message["delete"],c.creative.object_id["delete"],c.creative.object_type.set(b("ApiAdObjectTypes").SHARE),c.creative.object_story_spec.set(b("AdsSponsoredMessageUtils").getDefaultImageObjectStorySpec()))(a)}var i=d===b("AdsAPIObjectives").LEAD_GENERATION?b("AdsCallToActionTypesCond").TYPES.SIGN_UP.name:b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name,j="MESSENGER",k=b("AdsUnifiedCreativeAPIFields").headline.getPathOrThrow(a,f),l=a.getIn(k)||b("AdsMessengerConstants").DEFAULT_HEADLINE.toString();c=b("AdsMutators").chain(function(a){return b("AdsUEditorCallToActionMutators").setCallToAction({callToActionType:i,pages:null,cachedCallToActionLink:null,adgroup:a,campaignGroupPromotedPageID:g,objective:d,promotedObjectType:e,specPlugin:f})},function(a){return b("AdsUEditorCallToActionMutators").setCallToActionValueAppDestination(a,f,j)},function(a){return b("AdsUEditorWebsiteMutators").setWebsiteURL({websiteURL:b("AdsMessengerConstants").EMPTY_MESSENGER_LINK,adgroup:a,campaignGroupPromotedPageID:g,objective:d,promotedObjectType:e,specPlugin:f})},function(a){return b("AdsUEditorWebsiteMutators").setWebsiteURLInChildren({websiteURL:b("AdsMessengerConstants").EMPTY_MESSENGER_LINK,adgroup:a,campaignGroupPromotedPageID:g,objective:d,promotedObjectType:e,specPlugin:f})},function(a){return h?a.setIn(b("AdsUnifiedCreativeAPIFields").multiShareEndCard.getPathOrThrow(a,f),!1):a},function(a){return a.setIn(k,l)});return c(a)};c=function(a){var c=a.adgroup,d=a.specPlugin,e=a.supportPageEndCard;if(b("AdsAPIAdgroupRecordUtils").isExistingPostAd(c))return c;var f=b("AdsUnifiedCreativeAPIFields").headline.getPathOrThrow(c,d),g=b("AdsUnifiedCreativeAPIFields").pageWelcomeMessage.getPath(c,d),h=c.getIn(f);a=b("AdsMutators").chain(function(a){return b("AdsUEditorCallToActionMutators").deleteCallToActionValueAppDestination(a,d)},function(a){return b("AdsUEditorAdgroupMultiProductMutators").deleteInEachChild(b("AdsAPIChildAttachmentPaths").LINK,a)},function(a){return b("AdsUEditorAdgroupMultiProductMutators").deleteInEachChild(["link"],a)},function(a){return b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)?a:a.deleteIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,d))},function(a){return e?a.setIn(b("AdsUnifiedCreativeAPIFields").multiShareEndCard.getPathOrThrow(a,d),!0):a},function(a){return h===b("AdsMessengerConstants").DEFAULT_HEADLINE.toString()?a.deleteIn(f):a},function(a){return g?a.deleteIn(g):a});return a(c)};var g=function(a){a=b("AdsMessengerVisualEditorUtils").getStandardTemplateDefaultJSON(a);return JSON.stringify(a)};d=function(a){var c=a.adgroup,d=a.specPlugin;a=a.pageID;a=g(a);return b("isTruthy")(a)?c.setIn(b("AdsUnifiedCreativeAPIFields").pageWelcomeMessage.getPathOrThrow(c,d),a):c};f=function(a){var c;a=a.adgroup;return b("AdsMutators").chain((c=b("AdsAdgroupRecordAccessors")).creative.messenger_sponsored_message["delete"],c.creative.object_id["delete"],c.creative.object_type.set(b("ApiAdObjectTypes").SHARE),c.creative.object_story_spec.set(b("AdsSponsoredMessageUtils").getDefaultImageObjectStorySpec()))(a)};a={setMessengerDestinationFields:a,deleteMessengerDestinationFields:c,deleteSponsoredMessagesFields:f,resetPageWelcomeMessage:d};e.exports=a}),null);
__d("AdsUEditorOmnichannelMutators",["AdsAdgroupRecordAccessors","AdsMutators","AdsUEditorCallToActionMutators"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){return b("AdsMutators").chain(function(a){return b("AdsUEditorCallToActionMutators").deleteCallToActionValueObjectStoreURLs(a,c)},function(a){return b("AdsUEditorCallToActionMutators").deleteCallToActionValueAppLink(a,c)},function(a){return b("AdsUEditorCallToActionMutators").deleteCallToActionValueApplication(a,c)},function(a){return b("AdsAdgroupRecordAccessors").tracking_specs["delete"](a)},function(a){return b("AdsAdgroupRecordAccessors").creative.applink_treatment["delete"](a)},function(a){return b("AdsAdgroupRecordAccessors").creative.omnichannel_link_spec["delete"](a)})(a)};c=function(a,c){return b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.omnichannel_link_spec.web.url.set(c))(a)};d=function(a,c){return b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.omnichannel_link_spec.app.application_id.set(c))(a)};f={deleteAdgroupFields:a,setOmnichannelLinkSpecApplicationID:d,setOmnichannelLinkSpecWebsiteURL:c};e.exports=f}),null);
__d("adsAssetFeedHasCallToActionValue",["AdsAPIAdAssetCallToActionFields","immutable"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){a=(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.call_to_actions;if(a==null)return!1;a instanceof Array&&(a=b("immutable").fromJS(a));return a instanceof b("immutable").List?a.hasIn([c,b("AdsAPIAdAssetCallToActionFields").VALUE,d]):!1}e.exports=a}),null);
__d("AdsUEditorWebsiteMutators",["invariant","AdsAdgroupRecordAccessors","AdsAdgroupSpecUtils","AdsAPIAdAssetFeedFields","AdsAPIAdAssetFeedLinkURLsFields","AdsAPIAdgroupRecordUtils","AdsAPICampaignGroupRecordUtils","AdsAPIChildAttachmentPaths","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsCallToActionTypesCond","AdsChildAttachmentsUtils","AdsLandingViewTypeUtils","AdsLocalAwarenessUtils","AdsPromotedObjectTypes","AdsUEditorAdgroupMultiProductMutators","AdsUEditorCallToActionMutators","AdsUEditorCampaignAdObjectsUtils","AdsUEditorOmnichannelMutators","AdsUEditorWebsiteUtils","AdsUnifiedCreativeAPIFields","ApiAdObjectTypes","adsAssetFeedHasCallToActionValue","isAdsCanvasLink","killswitch","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){var c=a.adgroup,d=a.objectType,e=a.objective,f=a.campaignGroupPromotedPageID;a.promotedObjectType;a=a.specPlugin;if(b("AdsAssetFeedUtils").hasPlacementCustomizationFromRecord(c))return b("adsAssetFeedHasCallToActionValue")(c,0,"link");if(d!==b("ApiAdObjectTypes").SHARE)return!1;d=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPath(c,a);a=d&&c.getIn(d.concat(["link"]));return!a?!1:!b("AdsAdgroupSpecUtils").isCTALinkCustomizable(c,e,f)},i=function(a){var c=a.index,d=a.adgroup,e=a.objective,f=a.campaignGroupPromotedPageID;a.promotedObjectType;a=b("AdsChildAttachmentsUtils").getInChild(c,b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.LINK,d);return!a?!1:!b("AdsAdgroupSpecUtils").isCTALinkCustomizable(d,e,f)},j=function(a){var c,d=a.adgroup,e=a.campaignGroupPromotedPageID,f=a.objective,g=a.promotedObjectType,i=a.specPlugin;a=a.websiteURL;c=(c=d.creative)==null?void 0:c.object_type;c===b("ApiAdObjectTypes").SHARE&&b("AdsAdgroupSpecUtils").isLinkDataEligible(f,g)&&!n(d,f,e)&&!b("AdsAPIAdgroupRecordUtils").isTemplateCreative(d)&&!b("AdsAssetFeedUtils").isAdgroupUsingNonDofAssetFeedSpec(d)?d=b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data.attachment_style.set("link",d):d=b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data.attachment_style["delete"](d);if(h({adgroup:d,objectType:c,objective:f,campaignGroupPromotedPageID:e,promotedObjectType:g,specPlugin:i}))if(b("AdsAssetFeedUtils").isPACAdgroupFromRecord(d))d=b("AdsUEditorCallToActionMutators").setCallToActionValueField(d,i,"link",a);else{c=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPath(d,i);c&&(d=d.setIn(c.concat(["link"]),a))}b("AdsAdgroupSpecUtils").isAppLinkDataEligible(f,g)&&(d=b("AdsUEditorAdgroupMultiProductMutators").setInEachNonPlaceDataChild(b("AdsAPIChildAttachmentPaths").LINK,a,d),d=b("AdsUEditorAdgroupMultiProductMutators").setInEachNonPlaceDataChild(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.LINK,a,d));e=b("AdsUnifiedCreativeAPIFields").callToActionType.getPath(d,i);c=e?d.getIn(e):null;c!=null&&c===b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name&&g===b("AdsPromotedObjectTypes").PRODUCT_SET&&(d=b("AdsUEditorCallToActionMutators").setCallToActionValueField(d,i,"link",a));b("AdsAssetFeedUtils").isAdgroupUsingNonDofAssetFeedSpec(d)&&!b("AdsAssetFeedUtils").isFormatAutomationAdgroupFromRecord(d)&&!b("AdsAssetFeedUtils").isDofMessagingDestinationAdgroupFromSpec(d)?d=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(d,i,b("AdsUnifiedCreativeAPIFields").linkURL,b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(d,b("AdsAPIAdAssetFeedFields").LINK_URLS),b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL,a):d=d.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(d,i),a);d=k(d,b("AdsUEditorWebsiteUtils").getVideoLPPFormat(d,f));return d},k=function(a,c){c&&(a=b("AdsAdgroupRecordAccessors").creative.object_story_spec.video_data.call_to_action.value.link_format.set(c,a));return a},l=function(a){var c=a.websiteURL,d=a.adgroup,e=a.objective,f=a.promotedObjectType,g=a.specPlugin,h=a.campaignGroupPromotedPageID;if(!b("AdsChildAttachmentsUtils").isStaticCarouselAd(d))return j({specPlugin:g,websiteURL:c,adgroup:d,objective:e,promotedObjectType:f,campaignGroupPromotedPageID:h});d=b("AdsUEditorAdgroupMultiProductMutators").setInEachNonPlaceDataChild(b("AdsAPIChildAttachmentPaths").LINK,c,d);b("AdsUEditorAdgroupMultiProductMutators").forEachChild(d,function(a,g,j){if(b("AdsChildAttachmentsUtils").hasPlaceData(a))return;i({index:g,adgroup:d,objective:e,campaignGroupPromotedPageID:h,promotedObjectType:f})&&(d=b("AdsUEditorAdgroupMultiProductMutators").setInChild(g,b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.LINK,c,d))});return d},m=function(a){var c=a.websiteURL;a=a.adgroup;return b("AdsUEditorAdgroupMultiProductMutators").setInEachDynamicChild(b("AdsAPIChildAttachmentPaths").LINK,c,a)},n=function(a,c,d){return b("AdsLocalAwarenessUtils").isDynamicLocalAwareness(c,d)};c=function(a){var c,d=a.landingViewType,e=a.adgroup,f=a.pages,h=a.objective,i=a.promotedObjectType,j=a.specPlugin;a=a.campaignGroupPromotedPageID;c=(c=e.creative)==null?void 0:(c=c.object_story_spec)==null?void 0:c.page_id;c&&f&&f.has(c)||g(0,2379);f=b("nullthrows")(f.get(c));c=b("AdsLandingViewTypeUtils").linkFromType(d,f);e=l({specPlugin:j,websiteURL:c,adgroup:e,objective:h,promotedObjectType:i,campaignGroupPromotedPageID:a});return e};function a(a){var c=a.adgroup,d=a.campaign,e=a.campaignGroup,f=a.specPlugin;a=a.websiteURL;var g=e.objective,h=b("AdsAPICampaignGroupRecordUtils").getPromotedObjectPageID(e);d=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType({campaign:d,campaignGroup:e});e=j({websiteURL:a,adgroup:c,campaignGroupPromotedPageID:h,objective:g,promotedObjectType:d,specPlugin:f});f.isDynamicProductCarouselAd(c)&&!b("killswitch")("DYNAMIC_ADS_UI_PROPAGATE_CREATIVE_LINK_TO_DYNAMIC_CHILD_ATTACHMENTS")&&(e=m({websiteURL:a,adgroup:e}));b("isAdsCanvasLink")(a)&&(e=l({websiteURL:a,adgroup:e,campaignGroupPromotedPageID:h,objective:g,promotedObjectType:d,specPlugin:f}));return e}d={setWebsiteURL:j,setWebsiteURLInChildren:l,setWebsiteURLInDynamicChildren:m,setWebsiteURLReducerUtil:a,setLandingViewType:c,shouldUpdateCallToActionURLInChild:i};e.exports=d}),null);
__d("AdsUEditorWhatsAppMutators",["AdsAdgroupRecordAccessors","AdsAPIAdAssetFeedTitlesFields","AdsAPIAdgroupRecordUtils","AdsAPIChildAttachmentPaths","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsCallToActionTypesCond","AdsMutators","AdsPageStore","AdsPageUtils","AdsPromotedObjectTypes","AdsUEditorAdgroupMultiProductMutators","AdsUEditorCallToActionMutators","AdsUEditorMessengerMutators","AdsUnifiedCreativeAPIFields","AdsWhatsAppConstants","AdsWhatsAppFeatureGating","AdsWhatsAppUtils","isTruthy","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsWhatsAppConstants").DEFAULT_WHATSAPP_NUMBER;a=function(a){var c=a.adgroup,d=a.campaignPromotedPageID;a.objective;a.promotedObjectType;var e=a.specPlugin,f=a.whatsAppNumber,h=f===void 0?g:f,i=a.whatsAppBusinessProfileID;if(b("AdsAPIAdgroupRecordUtils").isExistingPostAd(c))return c;f=b("AdsMutators").chain(function(a){return b("AdsWhatsAppFeatureGating").shouldChangeWhatsAppAdSpec()?a:b("AdsUEditorCallToActionMutators").setCallToActionValueWhatsAppNumber(a,e,h)},function(a){return a.setIn(b("AdsUnifiedCreativeAPIFields").pageID.getPathOrThrow(a,e),d)},function(a){return a.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,e),b("AdsWhatsAppUtils").getDefaultCTALink(h))},function(a){var c;c=(a==null?void 0:(c=a.creative)==null?void 0:(c=c.object_story_spec)==null?void 0:(c=c.link_data)==null?void 0:c.child_attachments)!=null;if(b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(a))return c?a:b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,e,b("AdsUnifiedCreativeAPIFields").headline,0,b("AdsAPIAdAssetFeedTitlesFields").TEXT,b("AdsWhatsAppConstants").DEFAULT_HEADLINE.toString());else return a.setIn(b("AdsUnifiedCreativeAPIFields").headline.getPathOrThrow(a,e),b("AdsWhatsAppConstants").DEFAULT_HEADLINE.toString())},function(a){return b("isTruthy")(i)?b("AdsAdgroupRecordAccessors").creative.whatsapp_business_profile_id.set(i,a):b("AdsAdgroupRecordAccessors").creative.whatsapp_business_profile_id["delete"](a)});return f(c)};c=function(a){var c=a.adgroup;a=a.whatsAppBusinessProfileID;return b("isTruthy")(a)?b("AdsAdgroupRecordAccessors").creative.whatsapp_business_profile_id.set(a,c):b("AdsAdgroupRecordAccessors").creative.whatsapp_business_profile_id["delete"](c)};d=function(a){var c=a.adgroup,d=a.campaignPromotedPageID,e=a.objective;a.promotedObjectType;var f=a.specPlugin;a=a.whatsAppNumber;var h=a===void 0?g:a;if(b("AdsAPIAdgroupRecordUtils").isExistingPostAd(c))return c;a=b("AdsMutators").chain(function(a){return b("AdsUEditorMessengerMutators").deleteSponsoredMessagesFields({adgroup:a})},function(a){return b("AdsUEditorCallToActionMutators").setCallToAction({callToActionType:b("AdsCallToActionTypesCond").TYPES.WHATSAPP_MESSAGE.name,pages:null,cachedCallToActionLink:null,adgroup:a,campaignGroupPromotedPageID:d,objective:e,promotedObjectType:b("AdsPromotedObjectTypes").WHATSAPP,specPlugin:f})},function(a){return b("AdsWhatsAppFeatureGating").shouldChangeWhatsAppAdSpec()?a:b("AdsUEditorCallToActionMutators").setCallToActionValueWhatsAppNumber(a,f,h)},function(a){return a.setIn(b("AdsUnifiedCreativeAPIFields").pageID.getPathOrThrow(a,f),d)},function(a){return a.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,f),b("AdsWhatsAppUtils").getDefaultCTALink(h))},function(a){var c;c=(a==null?void 0:(c=a.creative)==null?void 0:(c=c.object_story_spec)==null?void 0:(c=c.link_data)==null?void 0:c.child_attachments)!=null;if(b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(a))return c?a:b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,f,b("AdsUnifiedCreativeAPIFields").headline,0,b("AdsAPIAdAssetFeedTitlesFields").TEXT,b("AdsWhatsAppConstants").DEFAULT_HEADLINE.toString());else return a.setIn(b("AdsUnifiedCreativeAPIFields").headline.getPathOrThrow(a,f),b("AdsWhatsAppConstants").DEFAULT_HEADLINE.toString())});return a(c)};f=function(a){var c=a.adgroup,d=a.specPlugin,e=a.supportPageEndCard;if(b("AdsAPIAdgroupRecordUtils").isExistingPostAd(c))return c;var f=b("AdsUnifiedCreativeAPIFields").headline.getPathOrThrow(c,d),g=c.getIn(f);a=b("AdsMutators").chain(function(a){return b("AdsWhatsAppFeatureGating").shouldChangeWhatsAppAdSpec()?a:b("AdsUEditorCallToActionMutators").deleteCallToActionValueWhatsAppNumber(a,d)},function(a){return b("AdsUEditorAdgroupMultiProductMutators").deleteInEachChild(b("AdsAPIChildAttachmentPaths").LINK,a)},function(a){return a.deleteIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,d))},function(a){return e?a.setIn(b("AdsUnifiedCreativeAPIFields").multiShareEndCard.getPathOrThrow(a,d),!0):a},function(a){return g===b("AdsWhatsAppConstants").DEFAULT_HEADLINE.toString()?a.deleteIn(b("nullthrows")(f)):a});return a(c)};var h=function(a,c){if(b("AdsWhatsAppFeatureGating").shouldChangeWhatsAppAdSpec())return a;var d=a.getIn(b("AdsUnifiedCreativeAPIFields").pageID.getPathOrThrow(a,c)),e=b("AdsWhatsAppConstants").DEFAULT_WHATSAPP_NUMBER;if(d){d=b("AdsPageStore").get(d);e=b("AdsPageUtils").getWhatsAppNumber(d,!0)||e}return b("AdsUEditorCallToActionMutators").setCallToActionValueWhatsAppNumber(a,c,e)},i=function(a,c){var d=a.getIn(b("AdsUnifiedCreativeAPIFields").pageID.getPathOrThrow(a,c)),e=b("AdsWhatsAppConstants").DEFAULT_WHATSAPP_NUMBER;if(d){d=b("AdsPageStore").get(d);e=b("AdsPageUtils").getWhatsAppNumber(d,!0)||e}d=b("AdsMutators").chain(function(a){return b("AdsWhatsAppFeatureGating").shouldChangeWhatsAppAdSpec()?a:b("AdsUEditorCallToActionMutators").setCallToActionValueWhatsAppNumber(a,c,e)},function(a){return a.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,c),b("AdsWhatsAppUtils").getDefaultCTALink(e))});return d(a)};f={deleteWhatsAppDestinationFields:f,setFieldsForSelectingPage:a,setFieldsForSelectingPromotedObjectType:d,setWhatsAppNumberToAdgroupCallToAction:h,setWhatsAppNumberToAdgroupCallToActionAndSetLinkURL:i,setWhatsAppBusinessProfileID:c};e.exports=f}),null);
__d("adsCampaignDestinationTypeSelector",["AdsCampaignCombinedStore","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([b("AdsCampaignCombinedStore")],function(a){a=b("AdsCampaignCombinedStore").getCachedObject(a).getValue();return(a=a)!=null?a.destination_type:a},{name:e.id+".adsCampaignDestinationTypeSelector"});e.exports=a}),null);
__d("adsObjectiveSelector",["AdsCampaignGroupCombinedStore","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([b("AdsCampaignGroupCombinedStore")],function(a){a=a.adgroup;a=a.campaign_id;a=b("AdsCampaignGroupCombinedStore").getCachedObject(a).getValueEnforcing();return a.objective},{name:e.id+".adsObjectiveSelector"});e.exports=a}),null);
__d("adsPromotedObjectTypeSelector_LEGACY",["AdsAPICampaignRecordUtils","AdsCampaignCombinedStore","AdsCampaignGroupCombinedStore","AdsPromotedObjectTypes","AdsPromotedObjectTypeUIProvider","adsCreateKeyedStoreSelector"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsPromotedObjectTypeUIProvider").toFluxStore();a=b("adsCreateKeyedStoreSelector")([b("AdsCampaignCombinedStore"),b("AdsCampaignGroupCombinedStore"),g],{getKey:function(a){return a},getInputData:function(a){var c=b("AdsCampaignCombinedStore").getRecord(a).getValue(),d=c==null?void 0:c.campaign_id;d=d!=null?b("AdsCampaignGroupCombinedStore").getObject(d).getValue():null;return{campaign:c,objective:d==null?void 0:d.objective,uiState:g.getState().get(a)}},computeResult:function(a,c){a=c.campaign;var d=c.objective;c=c.uiState;return a==null||d==null?b("AdsPromotedObjectTypes").NONE:b("AdsAPICampaignRecordUtils").getPromotedObjectType(d,a,(d=c)!=null?d:void 0)}});e.exports=a}),null);
__d("AdsAdgroupCallToActionMutatorsAdapter",["AdsAdgroupSpecPathPluginResolver","AdsAudienceDirectConfig","AdsCampaignGroupPromotedPageIDSelector","AdsDataAtom","AdsUEditorCallToActionMutators","adsCampaignDestinationTypeSelector","adsObjectiveSelector","adsPromotedObjectTypeSelector_LEGACY","AdsAdgroupEditorStore"],(function(a,b,c,d,e,f){"use strict";a=function(a,c,d){var e=b("AdsAdgroupEditorStore");e=e.getCachedCallToActionLink(c.id,a);var f=b("AdsAudienceDirectConfig").accountType,g=b("adsObjectiveSelector")({adgroup:c}),h=c.adset_id;b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor(b("adsPromotedObjectTypeSelector_LEGACY").getStores().map(function(a){return a.getDispatchToken()}));var i=b("adsPromotedObjectTypeSelector_LEGACY")(h);f=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:f,objective:g,promotedObjectType:i});var j=c.campaign_id;j=b("AdsCampaignGroupPromotedPageIDSelector")(j);h=b("adsCampaignDestinationTypeSelector")(h);return b("AdsUEditorCallToActionMutators").setCallToAction({adgroup:c,cachedCallToActionLink:e,callToActionType:a,campaignGroupPromotedPageID:j,objective:g,pages:d,promotedObjectType:i,specPlugin:f,destination:h})};c=function(a,c){var d=b("AdsAudienceDirectConfig").accountType,e=b("adsObjectiveSelector")({adgroup:c}),f=c.adset_id;b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor(b("adsPromotedObjectTypeSelector_LEGACY").getStores().map(function(a){return a.getDispatchToken()}));f=b("adsPromotedObjectTypeSelector_LEGACY")(f);d=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:d,objective:e,promotedObjectType:f});return b("AdsUEditorCallToActionMutators").setCallToActionLink({link:a,adgroup:c,promotedObjectType:f,specPlugin:d})};e.exports={setCallToAction:a,setCallToActionLink:c}}),null);
__d("AdsOverlaysUtils",["AdsInterfacesLogger"],(function(a,b,c,d,e,f){"use strict";a={hasImageOverlaySpec:function(a){a=(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.template_data)==null?void 0:a.image_overlay_spec;return!!a},hasCustomOverlaySpec:function(a){var b;b=(b=a.creative)==null?void 0:(b=b.object_story_spec)==null?void 0:(b=b.link_data)==null?void 0:b.custom_overlay_spec;a=(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.photo_data)==null?void 0:a.custom_overlay_spec;return!!b||!!a},hasCustomOverlaysFromSpec:function(a){var b;b=a==null?void 0:(b=a.creative)==null?void 0:(b=b.object_story_spec)==null?void 0:(b=b.link_data)==null?void 0:b.custom_overlay_spec;a=(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.photo_data)==null?void 0:a.custom_overlay_spec;return!!b||!!a},hasVideoOverlaysFromSpec:function(a){a=a==null?void 0:(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:a.video_data;return!!a&&!!a.custom_overlay_spec},logOverlayEditEvent:function(a,c){b("AdsInterfacesLogger").log({eventName:a,data:(a={},a.signals_ui_event_data=JSON.stringify(c),a)},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP)},getOverlayTextOptionsFromTemplateTags:function(a,b){if(a.length!==b.length)return null;a=a.map(function(a,c){c=b[c].supportedOptions;for(var d=0;d<c.length;d++)if(c[d].templateTag===a)return c[d];return void 0});return a.length===0||a.includes(void 0)?null:a}};e.exports=a}),null);
__d("AdsUEditorAdgroupCachedChildMediaFomatDataRecord",["immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record({imageCrops:null,imageHash:null,imageURL:null,thumbnailURL:null,videoID:null,captionIDs:null}));a.getEmptyRecord=function(){return g};var g=new a();e.exports=a}),null);
__d("AdsUEditorAdgroupCachedUtils",["AdsAssetFeedUtils","AdsUEditorAdgroupCachedChildMediaFomatDataRecord","isFalsey"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){if(b("isFalsey")(d))return null;a=a.get(c);return a?a.getIn(["callToActionValue",d]):null}function c(a,b){a=a.get(b);return a?a.additionalImageIndex:null}function d(a,b,c){a=a.getIn([b,"creatives"])||{};return a[c]}function f(a,b){return a.getIn([b,"existingPostPageID"])}function g(a,b){return a.getIn([b,"metadata"])}function h(a,c,d){return a.getIn([c,"childMediaFormatData",d])||b("AdsUEditorAdgroupCachedChildMediaFomatDataRecord").getEmptyRecord()}function i(a,c,d){a=a.get(c.id);if(a==null)return!1;if(b("AdsAssetFeedUtils").isTextOnlyDofAssetFeedSpec(a.imageAssetFeedSpec)||b("AdsAssetFeedUtils").isTextOnlyDofAssetFeedSpec(a.videoAssetFeedSpec))return!1;if(d==="IMAGE")return a.imageAssetFeedSpec!=null;return d==="VIDEO"?a.videoAssetFeedSpec!=null:!1}e.exports={getCachedAdditionalImageIndex:c,getCreative:d,getPageID:f,getMetadata:g,getCachedCallToActionLink:a,getChildMediaFormatData:h,hasCachedAssetFeed:i}}),null);
__d("AdsMediaFormatMutators",["AdsAdgroupCallToActionMutatorsAdapter","AdsAdgroupEditorStore","AdsAdgroupPostTypeMutators","AdsAdgroupRecordAccessors","AdsAPIAdAssetFeedFields","AdsAPIObjectives","AdsAssetFeedUtils","AdsBrandAwarenessUtils","AdsCallToActionTypesCond","AdsCanvasAdUtils","AdsDataAtom","AdsDLOAssetFeedMutators","AdsLocalizedPlacementsMutators","AdsMutators","AdsObjectTypeUtils","AdsOverlaysUtils","AdsPageStore","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupCachedUtils","AdsUEditorCallToActionMutators","AdsUEditorWebsiteUtils","AdsUnifiedCreativeAPIFields","ApiAdObjectTypes","FBLogger","immutable"],(function(a,b,c,d,e,f){"use strict";var g=(c=b("AdsAdgroupPostTypeMutators")).convertLinkOrTemplatePostToVideoPost,h=c.convertPhotoPostToVideoPost,i=c.convertTemplatePostToLinkPost,j=c.convertVideoPostToLinkOrTemplatePost,k=c.convertVideoPostToPhotoPost;function a(a,c,d,e,f){if(!b("AdsAssetFeedUtils").isDofMessagingDestinationAdgroupFromSpec(c)&&(b("AdsAssetFeedUtils").isAdgroupUsingNonTextOnlyDofAssetFeedSpec(c)||f!=null&&b("AdsUEditorAdgroupCachedUtils").hasCachedAssetFeed(f,c,a)))return l(a,c,d,e,f);b("AdsOverlaysUtils").hasCustomOverlaySpec(c)&&(c=b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data.custom_overlay_spec["delete"](c));if(e===b("AdsAPIObjectives").PAGE_LIKES)return o(a,c,d);c=b("AdsAdgroupRecordAccessors").creative.platform_customizations["delete"](c);switch(a){case"IMAGE":return m(e,c);case"VIDEO":return n(e,c,d);default:b("FBLogger")("ads").mustfix("Invalid media format: %s",a);return c}}function l(a,c,d,e,f){f=f!=null?f.get(c.id):null;switch(a){case"IMAGE":if(f!=null&&f.imageAssetFeedSpec!=null)return b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.set(f.imageAssetFeedSpec,c);if(b("AdsAssetFeedUtils").isPACAdgroupFromRecord(c))return m(e,b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec(b("ApiAdObjectTypes").VIDEO,c,e));b("AdsAssetFeedUtils").isLocalizedPlacementsAdgroupFromRecord(c)&&(c=b("AdsLocalizedPlacementsMutators").removeAllMediaInLocalizedPlacementsAdgroup(c),c=b("AdsUEditorAdgroupAssetFeedMutators").convertLocalizedPlacementsAdgroupToDLOAdgroup(c,b("AdsAPIAdAssetFeedFields").VIDEOS));c=b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.videos["delete"](c);c=b("AdsDLOAssetFeedMutators").removeMediaFromAdgroup(c,b("AdsAPIAdAssetFeedFields").VIDEOS);return b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.ad_formats.set(b("immutable").List.of("SINGLE_IMAGE"),c);case"VIDEO":if(f!=null&&f.videoAssetFeedSpec!=null)return b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.set(f.videoAssetFeedSpec,c);if(b("AdsAssetFeedUtils").isPACAdgroupFromRecord(c)){f=(f=c.creative)==null?void 0:f.object_type;return n(e,b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec(f,c,e),d)}b("AdsAssetFeedUtils").isLocalizedPlacementsAdgroupFromRecord(c)&&(c=b("AdsLocalizedPlacementsMutators").removeAllMediaInLocalizedPlacementsAdgroup(c),c=b("AdsUEditorAdgroupAssetFeedMutators").convertLocalizedPlacementsAdgroupToDLOAdgroup(c,b("AdsAPIAdAssetFeedFields").IMAGES));c=b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.images["delete"](c);c=b("AdsDLOAssetFeedMutators").removeMediaFromAdgroup(c,b("AdsAPIAdAssetFeedFields").IMAGES);return b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.ad_formats.set(b("immutable").List.of("SINGLE_VIDEO"),c);default:b("FBLogger")("ads").mustfix("Invalid media format: %s",a);return c}}function m(a,c){var d,e;d=(d=c.creative)==null?void 0:d.object_type;switch(d){case b("ApiAdObjectTypes").PHOTO:return c;case b("ApiAdObjectTypes").SHARE:e=(e=c.creative)==null?void 0:(e=e.object_story_spec)==null?void 0:(e=e.video_data)==null?void 0:e.offer_id;if(e)return j(a,c);return b("AdsObjectTypeUtils").isTemplateCreative(c)&&a!==b("AdsAPIObjectives").STORE_VISITS&&!b("AdsCanvasAdUtils").isCanvasAd(c.creative)?b("AdsAdgroupRecordAccessors").creative.product_set_id["delete"](i(c)):c;case b("ApiAdObjectTypes").VIDEO:e=a===b("AdsAPIObjectives").POST_ENGAGEMENT&&!b("AdsCanvasAdUtils").isCanvasDestinationEnabled(c)||b("AdsBrandAwarenessUtils").isBrandObjective(a)&&!b("AdsBrandAwarenessUtils").isWebsiteLinkEnabled(c);return e?k(a,c):j(a,c);default:b("FBLogger")("ads").mustfix("Invalid object type: %s",d);return c}}function n(a,c,d){d=(d=c.creative)==null?void 0:d.object_type;switch(d){case b("ApiAdObjectTypes").PHOTO:c=h(a,c);break;case b("ApiAdObjectTypes").SHARE:(b("AdsBrandAwarenessUtils").isBrandObjective(a)||a===b("AdsAPIObjectives").POST_ENGAGEMENT)&&(c=b("AdsAdgroupCallToActionMutatorsAdapter").setCallToAction(b("AdsCallToActionTypesCond").TYPES.LEARN_MORE.name,c));c=g(a,c);b("AdsCanvasAdUtils").isCanvasAd(c.creative)||(c=b("AdsAdgroupRecordAccessors").creative.product_set_id["delete"](c));break;case b("ApiAdObjectTypes").VIDEO:break;default:b("FBLogger")("ads").mustfix("Invalid object type: %s",d);return c}c=b("AdsUEditorCallToActionMutators").setCallToActionLinkFormat(c,b("AdsUEditorWebsiteUtils").getVideoLPPFormat(c,a));return c}function o(a,c,d){var e;b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsAdgroupEditorStore").getDispatchToken()]);d=b("AdsUnifiedCreativeAPIFields").pageID.getValue(c,d);if(a==="VIDEO"&&((e=c.creative)==null?void 0:e.object_type)!==b("ApiAdObjectTypes").SHARE){var f;c=b("AdsMutators").chain((e=b("AdsAdgroupRecordAccessors")).creative.object_story_spec.page_id.set(d),e.creative.object_type.set(b("ApiAdObjectTypes").VIDEO),e.creative.object_story_spec.video_data.call_to_action.value.page.set(d),e.creative.object_story_spec.video_data.call_to_action.type.set(b("AdsCallToActionTypesCond").TYPES.LIKE_PAGE.name))(c);f=(f=c.creative)==null?void 0:f.body;f&&(c=b("AdsAdgroupRecordAccessors").creative.object_story_spec.video_data.message.set(f,c));f=b("AdsAdgroupEditorStore").getCachedVideoID(c.id);f&&(c=b("AdsAdgroupRecordAccessors").creative.object_story_spec.video_data.video_id.set(f,c));f=b("AdsAdgroupEditorStore").getCachedVideoThumbnailURL(c.id);f&&(c=b("AdsAdgroupRecordAccessors").creative.object_story_spec.video_data.image_url.set(f,c));f=b("AdsAdgroupEditorStore").getCachedVideoThumbnailHash(c.id);f&&(c=b("AdsAdgroupRecordAccessors").creative.object_story_spec.video_data.image_hash.set(f,c));return b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.image_hash["delete"],b("AdsAdgroupRecordAccessors").creative.body["delete"],b("AdsAdgroupRecordAccessors").creative.title["delete"],b("AdsAdgroupRecordAccessors").creative.object_id["delete"])(c)}else if(a==="VIDEO"&&((f=c.creative)==null?void 0:f.object_type)===b("ApiAdObjectTypes").SHARE){c=b("AdsMutators").chain((e=b("AdsAdgroupRecordAccessors")).creative.link_og_id.set(d),e.creative.object_type.set(b("ApiAdObjectTypes").VIDEO),e.creative.object_story_spec.page_id.set(d),e.creative.object_story_spec.video_data.call_to_action.value.page.set(d),e.creative.object_story_spec.video_data.call_to_action.type.set(b("AdsCallToActionTypesCond").TYPES.LIKE_PAGE.name))(c);f=(f=c.creative)==null?void 0:(f=f.object_story_spec)==null?void 0:(f=f.link_data)==null?void 0:f.message;var g=b("AdsAdgroupEditorStore").getCachedVideoID(c.id),h=b("AdsAdgroupEditorStore").getCachedVideoThumbnailURL(c.id);return b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.image_hash["delete"],b("AdsAdgroupRecordAccessors").creative.body["delete"],b("AdsAdgroupRecordAccessors").creative.title["delete"],b("AdsAdgroupRecordAccessors").creative.object_id["delete"],b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data["delete"],b("AdsAdgroupRecordAccessors").creative.object_story_id["delete"],b("AdsAdgroupRecordAccessors").creative.object_story_spec.video_data.message.set(f),b("AdsAdgroupRecordAccessors").creative.object_story_spec.video_data.video_id.set(g),b("AdsAdgroupRecordAccessors").creative.object_story_spec.video_data.image_url.set(h))(c)}else if(a==="IMAGE"){c=b("AdsMutators").chain((e=b("AdsAdgroupRecordAccessors")).creative.object_id.set(d),e.creative.object_type.set(b("ApiAdObjectTypes").SHARE),e.creative.object_story_spec.link_data.call_to_action.value.page.set(d),e.creative.object_story_spec.link_data.call_to_action.type.set(b("AdsCallToActionTypesCond").TYPES.LIKE_PAGE.name))(c);f=b("AdsAdgroupEditorStore").getCachedImageCrops(c.id);g=b("AdsAdgroupEditorStore").getCachedImageHash(c.id);h=b("AdsAdgroupEditorStore").getCachedTitle(c.id);e=(e=c.creative)==null?void 0:(e=e.object_story_spec)==null?void 0:(e=e.video_data)==null?void 0:e.message;var i=b("AdsAdgroupEditorStore").getCachedLink(c.id);if(d!=null&&i==null){d=b("AdsPageStore").get(d);i=d.link}return b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.link_og_id["delete"],b("AdsAdgroupRecordAccessors").creative.object_id["delete"],b("AdsAdgroupRecordAccessors").creative.link_url["delete"],b("AdsAdgroupRecordAccessors").creative.video_id["delete"],b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data.message.set(e),b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data.name.set(h),b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data.image_hash.set(g),b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data.image_crops.set(f),b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data.link.set(i),b("AdsAdgroupRecordAccessors").creative.object_story_spec.video_data["delete"])(c)}else{b("FBLogger")("ads").mustfix("Invalid media format: %s",a);return c}}d={setMediaFormat:a};e.exports=d}),null);
__d("AdsDCOUtils",["AdsAdgroupRecordAccessors","AdsAdgroupTypeUtils","AdsAPIAdgroupRecordUtils","AdsAPICampaignPaths","AdsAPIObjectives","AdsAssetFeedUtils","AdsBuyingTypes","AdsCampaignRecordAccessors","AdsChildAttachmentsUtils","AdsDCOConversionUtils","AdsDCODegreesOfFreedomUtils","AdsDynamicCreationOptimizationPluginResolver","AdsMediaFormatMutators","AdsMutators","AdsPlacementAPISpecWriterUtils","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupBodyMutators","AdsUEditorAdgroupHeadlineMutators","AdsUEditorAdgroupOfferMutators","AdsUEditorHostIDs","AdsUnifiedCreativeAPIFields","ApiDynamicCreativeOptimizationTypes","adsAccountGK","getByPath","AdsPlacementReducerUtils","compose","immutable","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsDCOConversionUtils").filterDCOUnsupportedCTATypes,h=b("AdsDCOConversionUtils").filterDCOUnsupportedImageTypes,i=b("AdsPlacementAPISpecWriterUtils").setCampaignPlacement,j=[(a=b("AdsAPIObjectives")).LEAD_GENERATION,a.VIDEO_VIEWS,a.BRAND_AWARENESS,a.REACH,a.POST_ENGAGEMENT],k=new Set([a.CONVERSIONS,a.APP_INSTALLS,a.LINK_CLICKS]),l=new Set([a.CONVERSIONS,a.APP_INSTALLS,a.LINK_CLICKS,a.PAGE_LIKES,a.BRAND_AWARENESS,a.REACH,a.LEAD_GENERATION,a.POST_ENGAGEMENT,a.MESSAGES,a.VIDEO_VIEWS,a.EVENT_RESPONSES]),m=new Set([b("AdsBuyingTypes").AUCTION]);function n(a,c,d){d===void 0&&(d={});c=o.isDCOMixedFormatsEnabledForAccount(d.hostID)&&c!==b("AdsAPIObjectives").VIDEO_VIEWS;if(d.hostID!==b("AdsUEditorHostIDs").CREATION&&b("AdsChildAttachmentsUtils").isCarouselAd(a))return"CAROUSEL_IMAGE";else if(c)return"AUTOMATIC_FORMAT";else if(b("AdsAdgroupTypeUtils").isVideoAd(a))return"SINGLE_VIDEO";else return"SINGLE_IMAGE"}var o={isCreativeEditDisabled:function(a,b){return b.some(function(b){return o.isCreativeEditDisabledForAdgroup(a,b)})},isDCOMixedFormatsEnabledForAccount:function(a){return a===b("AdsUEditorHostIDs").EDITING},isCreativeEditDisabledForAdgroup:function(a,c){var d=b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(c),e=b("AdsAssetFeedUtils").isDCAssetCustomizationAdgroupFromSpec(c);if(e)return b("adsAccountGK")._(a,"10VqwgQqy")?!1:!0;if(!d)return!1;e=b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(c)&&(b("AdsAssetFeedUtils").hasTargetRules(c)||b("AdsAssetFeedUtils").hasGroupRules(c)||b("AdsAssetFeedUtils").hasAssetCustomizationRules(c));return e?!0:!1},getDCOAssetProperties:function(a,b){a=o.getDCOOrDOFAssetProperties(a,b,!1,null,null);return{assetValue:a.assetValue,renderUsingDCO:a.renderUsingDCO}},getDCOOrDOFAssetProperties:function(a,c,d,e,f,g){var h=b("immutable").List(),i=!1,j=!1;if(a.length===1){a=a[0];i=b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(a);g=b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a)&&!b("AdsAssetFeedUtils").hasCarouselFormat(a)&&f===!0&&g===!0;j=d&&b("AdsAssetFeedUtils").isDofAdgroupFromSpec(a)&&f===!0;d=c[0];(i||j)&&d!=null&&(h=d);if(g){if(b("getByPath")(e,["name"])==="message"){f=b("AdsUEditorAdgroupBodyMutators").getDefaultPlacementBodyAssets(a);h=(c=f)!=null?c:d}if(b("getByPath")(e,["name"])==="headline"){f=b("AdsUEditorAdgroupHeadlineMutators").getDefaultPlacementHeadlineAssets(a);h=(c=f)!=null?c:d}}j=j||g}if(!(h instanceof b("immutable").List)){b("recoverableViolation")("assetValue should be an Immutable.List","ads_dynamic_creative_optimization");return{assetValue:b("immutable").List(),renderUsingDCO:i,renderUsingDOF:j}}return{assetValue:h,renderUsingDCO:i,renderUsingDOF:j}},getErrorsAndWarningsWhenRenderingUsingDCO:function(a,b){return{errors:o.getDCOAssetErrorsAndWarnings(a,b.getValueForIndex(0),!0),renderUsingDCO:!0,warnings:o.getDCOAssetErrorsAndWarnings(a,b.getValueForIndex(0),!1)}},getDCOAssetErrorsAndWarnings:function(a,b,c){var d={};a.length===1&&b&&(d[a[0].id]=c?b.errors:b.warnings);return d},getDCOAssetErrors:function(a,b){var c={};a.length===1&&b.getValueForIndex(0)&&(c[a[0].id]=b.getValueForIndex(0));return c},getAdgroupsToRetain:function(a){return a.valueSeq().flatMap(function(a){return a.slice(0,1)}).toArray()},getAllAdgroupIDs:function(a){return a.valueSeq().flatMap(function(a){return a.map(function(a){return a.id})}).toArray()},clearAssetFeedSpec:function(a){var c;return b("AdsMutators").chain((c=b("AdsAdgroupRecordAccessors")).creative.asset_feed_spec.images.set(void 0),c.creative.asset_feed_spec.videos.set(void 0),c.creative.asset_feed_spec.titles.set(void 0),c.creative.asset_feed_spec.descriptions.set(void 0),c.creative.asset_feed_spec.bodies.set(void 0),c.creative.asset_feed_spec.link_urls.set(void 0),c.creative.asset_feed_spec.call_to_actions.set(void 0),c.creative.asset_feed_spec.call_to_action_types.set(b("immutable").List.of("LEARN_MORE")))(a)},convertStorySpecAdToDCOAd:function(a,c,d,e){d===void 0&&(d={});if(b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(a))return a;if(b("AdsAssetFeedUtils").isAdgroupUsingNonDofAssetFeedSpec(a)){var f=a;(b("AdsAssetFeedUtils").isDLOAdgroupFromRecord(a)||b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a)||b("AdsAssetFeedUtils").isLocalizedPlacementsAdgroupFromRecord(a))&&(f=b("AdsUEditorAdgroupAssetFeedMutators").removeAdlabelsFromAssetFeedSpec(f),f=b("AdsUEditorAdgroupAssetFeedMutators").dedupAssetsFromAssetFeedSpec(f));if(b("AdsAssetFeedUtils").hasPACCarouselFormat(f)){var i;f=b("AdsMutators").chain((i=b("AdsAdgroupRecordAccessors")).creative.asset_feed_spec.carousels["delete"],i.creative.asset_feed_spec.videos["delete"],i.creative.asset_feed_spec.link_urls["delete"],i.creative.asset_feed_spec.descriptions["delete"],i.creative.asset_feed_spec.titles["delete"],i.creative.asset_feed_spec.ad_formats.set(b("immutable").List.of("CAROUSEL_IMAGE")))(f)}return b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.optimization_type.set(b("ApiDynamicCreativeOptimizationTypes").REGULAR),b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.groups["delete"],b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules["delete"],b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.target_rules["delete"])(h(f))}i=b("AdsUEditorAdgroupAssetFeedMutators").convertToAssetFeedSpec(b("AdsAPIAdgroupRecordUtils").getObjectType(a),a,c);i=e===!0?b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.ad_formats.set(b("immutable").List.of("AUTOMATIC_FORMAT")),b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.additional_data.is_smart_app_promotion.set(!0))(i):b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.ad_formats.set(b("immutable").List.of(n(a,c,d)),i);i=b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.optimization_type.set(b("ApiDynamicCreativeOptimizationTypes").REGULAR,i);f=b("AdsDCODegreesOfFreedomUtils").isEligibleForDegreesOfFreedom(i);f?i=b("AdsAdgroupRecordAccessors").creative.degrees_of_freedom_spec.degrees_of_freedom_type.set("USER_ENROLLED",i):i=b("AdsAdgroupRecordAccessors").creative.degrees_of_freedom_spec.degrees_of_freedom_type.set("DISABLED",i);return b("compose")(g,h)(i)},convertStorySpecAdgroupToCarteAdgroup:function(a,c,d,e){if(b("AdsAssetFeedUtils").isDCAssetCustomizationAdgroupFromSpec(a))return a;a=b("AdsMediaFormatMutators").setMediaFormat("VIDEO",a,e,c);a=o.convertStorySpecAdToDCOAd(a,c,{hostID:d});b("AdsUnifiedCreativeAPIFields").offerID.isSupported(a,e)&&(a=b("AdsUEditorAdgroupOfferMutators").removeOfferIDState(a,e,c));a=b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data["delete"],b("AdsAdgroupRecordAccessors").creative.product_set_id["delete"])(a);c=(d=a.creative)==null?void 0:(e=d.asset_feed_spec)==null?void 0:e.ad_formats;return b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.asset_feed_spec["delete"],b("AdsAdgroupRecordAccessors").creative.degrees_of_freedom_spec["delete"],b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.optimization_type.set(b("ApiDynamicCreativeOptimizationTypes").ASSET_CUSTOMIZATION),b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.ad_formats.set(c))(a)},convertToDCOCampaign:function(a,c){a=b("AdsPlacementReducerUtils").updatePlacementSpec(i(a,c));return b("AdsMutators").chain((c=b("AdsCampaignRecordAccessors")).is_dynamic_creative_optimization.set(!0),function(a){return a.setIn(b("AdsAPICampaignPaths").IS_DYNAMIC_CREATIVE,!0)},c.is_dynamic_creative_asset_customization.set(!1),c.promoted_object.offer_id["delete"],function(a){return a.deleteIn(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_PRODUCT_AUDIENCE_SPECS)},function(a){return a.deleteIn(b("AdsAPICampaignPaths").TARGETING.PRODUCT_AUDIENCE_SPECS)},c.promoted_object.product_set_id["delete"],c.promoted_object.product_catalog_id["delete"])(a)},convertToCarteCampaign:function(a,c){a=o.convertToDCOCampaign(a,c);return b("AdsMutators").chain(b("AdsCampaignRecordAccessors").is_dynamic_creative_optimization.set(!1),function(a){return a.setIn(b("AdsAPICampaignPaths").IS_DYNAMIC_CREATIVE,!1)},b("AdsCampaignRecordAccessors").is_dynamic_creative_asset_customization.set(!0))(a)},convertDynamicCreativeToStorySpecCampaign:function(a,c){a=b("AdsPlacementReducerUtils").updatePlacementSpec(i(a,c));return b("AdsMutators").chain(b("AdsCampaignRecordAccessors").is_dynamic_creative_optimization.set(!1),function(a){return a.setIn(b("AdsAPICampaignPaths").IS_DYNAMIC_CREATIVE,!1)},b("AdsCampaignRecordAccessors").is_dynamic_creative_asset_customization.set(!1))(a)},convertToStorySpecCampaign:function(a,c){var d="placement"in a?a.placement:c;return b("AdsMutators").chain(function(a){return a.setIn(b("AdsAPICampaignPaths").PLACEMENT,d)},b("AdsCampaignRecordAccessors").is_dynamic_creative_optimization.set(!1),function(a){return a.setIn(b("AdsAPICampaignPaths").IS_DYNAMIC_CREATIVE,!1)},b("AdsCampaignRecordAccessors").is_dynamic_creative_asset_customization.set(!1))(a)},isSupportedObjectiveForRegularDCO:function(a,c){return b("AdsDynamicCreationOptimizationPluginResolver").resolve({buyingType:a,objective:c}).isDynamicCreativeOptimizationSupported()},isSupportedObjectiveForTextDOF:function(a,b,c){a=a?l:k;return a.has(c)&&m.has(b)},isSupportedLinkDescriptionObjectiveForDCO:function(a){return j.includes(a)}};e.exports=o}),null);
__d("adsAuthorizationCategoryIsAnyPageAuthorized",["immutable"],(function(a,b,c,d,e,f){"use strict";function a(a,c){if(a.length===0)return!1;if(!c.isDone()||c.hasError()||!c.hasValue())return!1;c=c.getValueEnforcing();if(!c||c.length===0)return!1;var d=b("immutable").Set(c.map(function(a){a=a.key;return a}));return a.some(function(a){return d.has(a)})}e.exports=a}),null);
__d("adsAuthorizationCategoryMutate",["AdsAdgroupRecordAccessors","AdsAPIAdgroupPaths","AdsMutators","AdsSponsoredMessageUtils","adsAuthorizationCategoryIsAnyPageAuthorized"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){c=b("adsAuthorizationCategoryIsAnyPageAuthorized")([c],d);d=b("AdsSponsoredMessageUtils").isSponsoredMessageFromSpec(a);return c&&!d?b("AdsAdgroupRecordAccessors").creative.degrees_of_freedom_spec["delete"](b("AdsMutators").setIfEmpty(b("AdsAPIAdgroupPaths").CREATIVE.AUTHORIZATION_CATEGORY,"POLITICAL",a)):b("AdsAdgroupRecordAccessors").creative.authorization_category["delete"](a)}e.exports=a}),null);
__d("AdsUEditorPageLoadedObjectError",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({LOADING_FAILURE:null,HAS_EMPTY_AFC_PAGE_INTERSECTION:null,HAS_EMPTY_PROMOTABLE_MERCHANT_PAGE:null});e.exports=a}),null);
__d("adsPromotablePagesForAccountSelector",["AdsAccountStore","AdsAccountUtils","AdsLoadStateUtils_LEGACY","AdsPageStore","AdsPageUtils","AdsPromotablePageDataProvider","AdsUEditorPageLoadedObjectError","AFCPromotableObjectStore","LoadObject","adsCreateSelector","adsCreateStoreSelector","immutable","naturalComparator"],(function(a,b,c,d,e,f){"use strict";var g=new Error(b("AdsUEditorPageLoadedObjectError").HAS_EMPTY_AFC_PAGE_INTERSECTION);a=b("adsCreateSelector")([b("AdsPromotablePageDataProvider").toFluxSelector(),b("AdsAccountStore").getSelectedAccountIDX],function(a,b){return a.get(b)},{name:e.id+".pagesSelector"});c=b("adsCreateStoreSelector")([b("AFCPromotableObjectStore"),b("AdsAccountStore"),b("AdsPageStore")],function(){var a=b("AdsAccountUtils").hasCapability(b("AdsAccountStore").getSelectedAccount().getValue(),"CAN_USE_AAC_ENFORCE_PO_SELECTOR");if(!a)return null;a=b("AFCPromotableObjectStore").get(b("AdsAccountStore").getSelectedAccountIDX()).getValue();a=a==null?void 0:a.promotable_page_ids;return a!=null?b("AdsPageStore").getAll(a):null},{name:e.id+".afcPagesMapSelector"});d=b("adsCreateSelector")([a,c],function(a,c){if(a.isLoading())return b("LoadObject").loading();a=a.getValue();if(a==null)return b("LoadObject").loading();if(c!=null){if(b("AdsLoadStateUtils_LEGACY").anyLoading(c))return b("LoadObject").loading();a=a.filter(function(a){return c.has(a.id)});if(b("AdsLoadStateUtils_LEGACY").allLoaded(c)&&a.length===0)return b("LoadObject").withError(g)}return b("LoadObject").withValue(b("immutable").List(a.sort(function(a,c){return b("naturalComparator")(b("AdsPageUtils").getPageUIName(a),b("AdsPageUtils").getPageUIName(c))})))},{name:e.id+".adsPromotablePagesForAccountSelector"});e.exports=d}),null);
__d("AdsUEditorAdgroupMutators",["AdsAdgroupPostTypeMutators","AdsAdgroupRecordAccessors","AdsAdgroupSpecUtils","AdsAdgroupTypeUtils","AdsAPIAdAssetFeedFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAPIChildAttachmentPaths","AdsAPIObjectives","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsCanvasAdUtils","AdsChildAttachmentsUtils","AdsDLOLanguageUtils","AdsLocalUtils","AdsMultiProductConstants","AdsMutators","AdsPageLikeUtils","AdsPageStore","AdsPageUtils","AdsPlacementsWhatsAppPlatformPlugin","AdsPromotedObjectTypes","AdsUEditorAdgroupArAdsMutator","AdsUEditorAdgroupCanvasMutator","AdsUEditorAdgroupChildAttachmentsMutators","AdsUEditorAdgroupImageMutators","AdsUEditorCallToActionMutators","AdsUEditorMessengerMutators","AdsUEditorSetPostEditModeMutators","AdsUEditorWhatsAppMutators","AdsUnifiedCreativeAPIFields","AdsWhatsAppUtils","ApiAdObjectTypes","adsAuthorizationCategoryMutate","adsCallToActionGetDefaultCallToActionType","adsPlacementAssetMutationUpdateCustomizationVideo","adsPromotablePagesForAccountSelector","isFalsey","isTruthy"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=a.adgroup,d=a.specPathPlugin,e=a.videoID;a=a.preferredThumbnailURL;if(b("AdsAssetFeedUtils").isAdgroupUsingNonDofAssetFeedSpec(c)&&!b("AdsAssetFeedUtils").isDofMessagingDestinationAdgroupFromSpec(c))return h(c,d,e,a);var f=b("AdsUnifiedCreativeAPIFields").imageHash.getPath(c,d),g=b("AdsUnifiedCreativeAPIFields").videoThumbnailURL.getPath(c,d),i=b("AdsUnifiedCreativeAPIFields").videoThumbnailSource.getPath(c,d),j=b("AdsUnifiedCreativeAPIFields").videoID.getPath(c,d);f=f?c.deleteIn(f):c;if(b("isFalsey")(e)){f=j?f.deleteIn(j):f;f=g?f.deleteIn(g):f;f=i?f.deleteIn(i):f;return b("AdsAdgroupRecordAccessors").creative.thumbnail_url["delete"](f)}f=j?f.setIn(j,e):f;c=a;f=g?f.setIn(g,c):f;f=i?f.setIn(i,"generated_default"):f;f=b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.thumbnail_url.set(c),b("AdsAdgroupRecordAccessors").creative.video_id["delete"],b("AdsAdgroupRecordAccessors").creative.image_hash["delete"],b("AdsAdgroupRecordAccessors").creative.image_url["delete"],b("AdsAdgroupRecordAccessors").creative.object_story_spec.video_data.image_hash["delete"])(f);b("AdsUnifiedCreativeAPIFields").captionIDs.isSupported(f,d)&&(f=f.setIn(b("AdsUnifiedCreativeAPIFields").captionIDs.getPathOrThrow(f,d),null));return f}function h(a,c,d,e){if(b("isTruthy")(d)){d=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").videoID,0,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID,d);e=e;d=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(d,c,b("AdsUnifiedCreativeAPIFields").videoThumbnailURL,0,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL,e);if(b("AdsAssetFeedUtils").isDLOAdgroupFromRecord(d)){e=b("AdsDLOLanguageUtils").getPrimaryLanguageFromAdgroup(d);d=b("AdsDLOLanguageUtils").setLanguageLabelForUnlabeledMediaAsset(d,e)}return d}else return b("AdsAssetFeedMutationUtils").removeAssetAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").videoID,0)}function a(a,c,d){return b("AdsAssetFeedUtils").isAdgroupUsingNonDofAssetFeedSpec(a)&&!b("AdsAssetFeedUtils").isDofMessagingDestinationAdgroupFromSpec(a)?i(d,a):a.setIn(b("AdsUnifiedCreativeAPIFields").captionIDs.getPathOrThrow(a,c),d)}function i(a,c){var d=b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(c,b("AdsAPIAdAssetFeedFields").VIDEOS);return b("AdsAssetFeedMutationUtils").setVideoCaptionAtIndex(c,d,a)}function j(a,c,d,e){if(b("AdsAssetFeedUtils").isAdgroupUsingNonDofAssetFeedSpec(a)&&!b("AdsAssetFeedUtils").isDofMessagingDestinationAdgroupFromSpec(a))return k(a,c,d);c=b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.object_story_spec.video_data.image_url.set(d),b("AdsAdgroupRecordAccessors").creative.object_story_spec.video_data.video_thumbnail_source.set(e),b("AdsAdgroupRecordAccessors").creative.object_story_spec.video_data.image_hash["delete"])(a);return l(c,d)}function k(a,c,d,e){e=b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(a,b("AdsAPIAdAssetFeedFields").VIDEOS);if(b("isTruthy")(d))return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").videoThumbnailURL,e,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL,d);else return b("AdsAssetFeedMutationUtils").removeAssetFieldAtIndex(a,c,b("AdsUnifiedCreativeAPIFields").videoThumbnailURL,e,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL)}function l(a,c){return b("AdsAdgroupRecordAccessors").creative.thumbnail_url.set(c,a)}function c(a,c){return!b("AdsUnifiedCreativeAPIFields").instagramActorID.isSupported(a,c)?a:b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.object_story_spec.instagram_actor_id["delete"],b("AdsAdgroupRecordAccessors").creative.instagram_actor_id["delete"])(a)}function m(a,c,d,e,f){a=a;b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&(a=b("AdsUEditorAdgroupCanvasMutator").clearCanvasLink(a,d),a=b("AdsUEditorAdgroupCanvasMutator").clearCollectionsFields(a,d,f));a=b("AdsUEditorAdgroupArAdsMutator").clearArAdsLink(a,d);var g=b("AdsUnifiedCreativeAPIFields").brandedContentSponsorPageID.getPath(a,d);g&&(a=a.deleteIn(g));b("AdsChildAttachmentsUtils").getPlaceDataIndex(a,d)!==-1&&(a=b("AdsUEditorAdgroupChildAttachmentsMutators").removePlaceData(a,e,d));if(f===b("AdsPromotedObjectTypes").MESSENGER){g=a;a=b("AdsUEditorMessengerMutators").resetPageWelcomeMessage({adgroup:g,specPlugin:d,pageID:c})}return a}function d(a,c,d,e,f,g,h,i){i===void 0&&(i=null);var j=c;b("AdsAPIAdgroupRecordUtils").isExistingPostAd(j)?(b("AdsAssetFeedUtils").isPACAdgroupFromRecord(c)&&(j=b("AdsAdgroupRecordAccessors").creative.asset_feed_spec["delete"](c)),j=n(j,a),i!=null&&(j=b("AdsUEditorSetPostEditModeMutators").setToUsingExistingPost({adgroup:j,cachedCreative:null,cachedPageID:null,defaultPagePost:i,specPathPlugin:h}))):(d||(j=j.setIn(b("AdsUnifiedCreativeAPIFields").pageID.getPathOrThrow(j,h),a)),j=m(j,a,h,g,f));j=b("adsAuthorizationCategoryMutate")(j,a,e);c=b("AdsUnifiedCreativeAPIFields").callToActionType.getPath(j,h);i=c?j.getIn(c):null;b("AdsWhatsAppUtils").isWhatsAppCTAType(i)&&(j=b("AdsUEditorWhatsAppMutators").setWhatsAppNumberToAdgroupCallToAction(j,h));if(g===b("AdsAPIObjectives").PAGE_LIKES&&!b("AdsPageLikeUtils").isPageLikeVideo(j,g)){d=b("adsPromotablePagesForAccountSelector")!=null?b("adsPromotablePagesForAccountSelector")().getValue():null;f=d!=null?d.find(function(b){return b.id===a}):null;c=(e=f)!=null?e:b("AdsPageStore").get(a);if(!c)return j;i=b("AdsUnifiedCreativeAPIFields").callToActionValue.getPath(j,h);i&&(j=j.setIn(i.concat("page"),a));d=b("AdsUnifiedCreativeAPIFields").linkURL.getPath(j,h);d&&(j=j.setIn(d,c.link))}else b("AdsPageLikeUtils").isPageLikeVideo(j,g)&&(j=b("AdsAdgroupRecordAccessors").creative.object_story_spec.video_data.call_to_action.value.page.set(a,j));return j}function n(a,c){return b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.object_id.set(c),b("AdsAdgroupRecordAccessors").creative.object_story_id["delete"],b("AdsAdgroupRecordAccessors").creative.branded_content_sponsor_page_id["delete"])(a)}function f(a,c,d,e){if(!b("AdsAssetFeedUtils").hasPlacementCustomizationFromRecord(c)&&!b("AdsAssetFeedUtils").hasLanguageCustomizationFromRecord(c)&&!b("AdsAssetFeedUtils").isDofWithImageAdgroupFromRecord(c)){var f;b("AdsAdgroupTypeUtils").isVideoAd(c)?(f=g({adgroup:c,specPathPlugin:d,videoID:null,preferredThumbnailURL:null}),f=b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.object_story_spec.video_data.custom_overlay_spec["delete"],b("AdsAdgroupRecordAccessors").creative.object_story_spec.video_data.image_hash["delete"],b("AdsAdgroupRecordAccessors").creative.interactive_components_spec["delete"])(f)):f=b("AdsUEditorAdgroupImageMutators").setImage(a,null,null,null,null,null,null,c,d,e);return b("AdsAdgroupRecordAccessors").creative.platform_customizations["delete"](f)}return b("AdsAdgroupTypeUtils").isVideoAd(c)?l(c,null):b("AdsUEditorAdgroupImageMutators").setImageThumbnail(null,null,null,c)}function o(a,c,d,e,f,g,h){var i,j,k;d=b("AdsAdgroupRecordAccessors").creative.object_id["delete"](d);i=(i=d)==null?void 0:(i=i.creative)==null?void 0:i.object_story_id;j=(j=d)==null?void 0:(j=j.creative)==null?void 0:j.object_story_spec;k=(k=d)==null?void 0:(k=k.creative)==null?void 0:k.object_type;k=k===b("ApiAdObjectTypes").PAGE||f||b("AdsAPIAdgroupRecordUtils").isExistingPostAd(d);k&&(d=b("AdsAdgroupRecordAccessors").creative.object_id.set(a,d));j&&(d=b("AdsAdgroupRecordAccessors").creative.object_story_spec.page_id.set(a,d));b("isTruthy")(i)&&(d=b("AdsAdgroupRecordAccessors").creative.object_story_id["delete"](d));b("AdsPageLikeUtils").isPageLikeVideo(d,h)&&(d=b("AdsAdgroupRecordAccessors").creative.object_story_spec.video_data.call_to_action.value.page.set(a,d));b("AdsLocalUtils").isLocalObjective(h)&&(d=p(d,g,c));if(b("AdsPlacementsWhatsAppPlatformPlugin").isEnabled(e.capabilities)&&c){f=b("AdsPageUtils").getWhatsAppBusinessProfileID(c);b("isTruthy")(f)&&(d=b("AdsAdgroupRecordAccessors").creative.whatsapp_business_profile_id.set(f,d))}return d}function p(a,c,d){if(!d)return a;a=a;if(!b("AdsAdgroupTypeUtils").isVideoAd(a)){c=b("isTruthy")(c);d=d.link;a=c?b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.link.set(d,a):b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data.link.set(d,a);d=b("AdsAdgroupSpecUtils").getLinkDescription(a);if(b("isFalsey")(d)){d=" ";a=c?b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.description.set(d,a):b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data.description.set(d,a)}}return a}function q(a){if(b("AdsAPIAdgroupRecordUtils").isTemplateCreative(a))return b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.format_option.set("collection_video"),b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.force_single_link["delete"])(a);var c;b("AdsAdgroupTypeUtils").isVideoAd(a)?c=b("AdsAdgroupPostTypeMutators").convertVideoPostToTemplateVideoPost(a):c=b("AdsAdgroupPostTypeMutators").convertLinkPostToTemplateVideoPost(a);return b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.format_option.set("collection_video"),b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.picture["delete"],b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.image_hash["delete"])(c)}function r(a,c){var d;if(!b("AdsAPIAdgroupRecordUtils").isTemplateCreative(a))return a;d=(d=a.creative)==null?void 0:d.dynamic_ad_voice;return d!=null?b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.format_option["delete"],b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.force_single_link.set(!0))(a):b("AdsAdgroupPostTypeMutators").convertTemplatePostToLinkPost(a,c)}function s(a,c){return!b("AdsAPIAdgroupRecordUtils").isTemplateCreative(a)?a:b("AdsAdgroupPostTypeMutators").convertTemplateVideoPostToVideoPost(a,c)}function t(a,c,d,e){var f;a=a;var g=b("AdsUnifiedCreativeAPIFields").linkURL.getValue(a,e);a=b("AdsMutators").chain((f=b("AdsAdgroupRecordAccessors")).creative.categorization_criteria["delete"],f.creative.category_media_source["delete"],f.creative.object_story_spec.template_data["delete"],f.creative.product_set_id["delete"],f.creative.object_story_spec.link_data.link.set((f=a.creative)==null?void 0:(f=f.object_story_spec)==null?void 0:(f=f.template_data)==null?void 0:f.link),b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data.call_to_action.type.set(b("adsCallToActionGetDefaultCallToActionType")(c,d)),b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data.call_to_action.value.link.set(g),function(a){return a.setIn(b("AdsAPIAdgroupPaths").METADATA.CAROUSEL_STYLE,"static_carousel")})(a);var h=b("AdsUnifiedCreativeAPIFields").callToActionType.getValue(a,e);f=b("AdsAPIAdgroupPaths").METADATA.CAROUSEL_STYLE;a=a.setIn(f,"static_carousel");c=b("AdsChildAttachmentsUtils").getDefaultChildAttachments();c=c.map(function(a){a=a;var c=a.getIn(b("AdsAPIChildAttachmentPaths").LINK)||g;c?a=a.setIn(b("AdsAPIChildAttachmentPaths").LINK,c):a=a.deleteIn(b("AdsAPIChildAttachmentPaths").LINK);if(h==null){a=a.deleteIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.path);return a}a=a.setIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.TYPE,h);return a});f=b("AdsUnifiedCreativeAPIFields").childAttachments.getPath(a,e);f&&(a=a.setIn(f,c));f=b("AdsAPIAdgroupRecordUtils").getCallToActionLink(a,e);a=b("AdsUEditorCallToActionMutators").setCallToActionLink({adgroup:a,link:f,promotedObjectType:d,specPlugin:e});c=b("AdsUnifiedCreativeAPIFields").multiShareOptimized.getValue(a,e);c!==!1&&(a=a.setIn(b("AdsUnifiedCreativeAPIFields").multiShareOptimized.getPathOrThrow(a,e),!0));f=b("AdsUnifiedCreativeAPIFields").multiShareEndCard.getValue(a,e);f!==!1&&(a=a.setIn(b("AdsUnifiedCreativeAPIFields").multiShareEndCard.getPathOrThrow(a,e),!0));return a}function u(a,c){var d;d=b("AdsMutators").chain((d=b("AdsAdgroupRecordAccessors")).creative.categorization_criteria["delete"],d.creative.category_media_source["delete"],d.creative.product_set_id["delete"],d.creative.recommender_settings.product_sales_channel["delete"],function(a){return b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.name["delete"](a)},function(a){return b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.description["delete"](a)},function(a){return b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.message.set(c.getDefaultMessage(),a)},function(a){return a.setIn(b("AdsAPIAdgroupPaths").METADATA.CAROUSEL_STYLE,"static_carousel")})(a);var e=b("AdsUnifiedCreativeAPIFields").callToActionType.getValue(d,c);a=b("AdsChildAttachmentsUtils").getDefaultChildAttachments(b("AdsMultiProductConstants").MIN_PRODUCTS);a=a.map(function(a){return e==null?a.deleteIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.path):a.setIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.TYPE,e)});var f=b("AdsUnifiedCreativeAPIFields").childAttachments.getPath(d,c);f&&(d=d.setIn(f,a));return d}function v(a){var c=a.adgroup,d=a.videoID,e=a.specPathPlugin,f=a.actionThumbnailURL,h=a.preferredThumbnailURL,i=a.thumbnailSource,k=a.isBaseAsset;a=a.label;if(!b("AdsAssetFeedUtils").hasPlacementCustomizationFromRecord(c)&&!b("AdsAssetFeedUtils").hasLanguageCustomizationFromRecord(c)){if(d!=null)return g({adgroup:c,specPathPlugin:e,videoID:d,preferredThumbnailURL:h});if(f!=null)return j(c,e,f,i)}f=f!=null?f:h;h=k!=null?k:!1;return b("adsPlacementAssetMutationUpdateCustomizationVideo")(c,h,a,e,f,i,d)}function w(a,c,d,e,f,g){var h;a;c?h=b("AdsAdgroupRecordAccessors").creative.instant_checkout_setting.set(d?"on":"off",a):h=b("AdsAdgroupRecordAccessors").creative.instant_checkout_setting["delete"](a);c&&d?h=h.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.CALL_TO_ACTION.path):e?f!==""?h=h.setIn(b("AdsAPIAdgroupPaths").CREATIVE.CALL_TO_ACTION.TYPE,f):h=h.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.CALL_TO_ACTION.path):g!==null&&(h=h.setIn(b("AdsAPIAdgroupPaths").CREATIVE.CALL_TO_ACTION.VALUE.LINK,g));return h}e.exports={setCheckoutAndCTA:w,setVideoCaptionIDs:a,setVideoID:g,setVideoImageURL:j,setThumbnailURL:l,setAssetFeedVideoID:h,removeInstagramActorID:c,clearDependentFieldsForPageChange:m,adgroupProcessing:d,setPageForExistingPostAd:n,setPageID:o,setPageInfoForLocalAwarenessAd:p,removeImagesAndVideos:f,templateVideoMediaTypeSelected:q,transformTemplateVideoMediaToImageMedia:r,transformTemplateVideoMediaToVideoMedia:s,transformAdgroupFromTemplateToLinkData:t,transformAdgroupTemplateDataFromDynamicToStatic:u,setCustomizationVideo:v}}),null);
__d("AdsAdgroupCreativePluginType",[],(function(a,b,c,d,e,f){"use strict";e.exports={order:["accountType","objective","promotedObjectType","offerStateType","catalogVertical"]}}),null);
__d("AdsAdgroupCreativePluginResolver",["AdsAdgroupCreativePluginType","adsPluginResolverFactory","AdsAdgroupCreativePlugins"],(function(a,b,c,d,e,f){"use strict";a=b("AdsAdgroupCreativePluginType").order;c=b("adsPluginResolverFactory")(function(){return b("AdsAdgroupCreativePlugins").getArray()},a);e.exports=c}),null);
__d("AdsAdgroupWebsiteMutatorsAdapter",["AdsAdgroupSpecPathPluginResolver","AdsAudienceDirectConfig","AdsCampaignGroupPromotedPageIDSelector","AdsDataAtom","AdsUEditorWebsiteMutators","AdsUEditorWebsiteUtils","adsObjectiveSelector","adsPromotedObjectTypeSelector_LEGACY"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=b("adsObjectiveSelector")({adgroup:a});return b("AdsUEditorWebsiteUtils").getVideoLPPFormat(a,c)};c=function(a,c){var d=b("AdsAudienceDirectConfig").accountType,e=c.adset_id,f=c.campaign_id;f=b("AdsCampaignGroupPromotedPageIDSelector")(f);var g=b("adsObjectiveSelector")({adgroup:c});b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor(b("adsPromotedObjectTypeSelector_LEGACY").getStores().map(function(a){return a.getDispatchToken()}));e=b("adsPromotedObjectTypeSelector_LEGACY")(e);d=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:d,objective:g,promotedObjectType:e});return b("AdsUEditorWebsiteMutators").setWebsiteURL({adgroup:c,campaignGroupPromotedPageID:f,objective:g,promotedObjectType:e,specPlugin:d,websiteURL:a})};e.exports={setWebsiteURL:c,getVideoLPPFormat:a}}),null);
__d("AdsPECampaignSelectors",["adsCreateStoreThunkSelector","adsPESelectAdObjectsStore"],(function(a,b,c,d,e,f){"use strict";a=b("adsPESelectAdObjectsStore")("ad_set");d=(c=b("adsCreateStoreThunkSelector"))(a,a.getCached.bind(a));f=c(a,a.getCachedRecord.bind(a));b=c(a,a.get.bind(a));var g=c(a,a.getRecord.bind(a)),h=c(a,a.getAll.bind(a));c=c(a,a.getAllRecords.bind(a));e.exports={getSelector:b,getCachedSelector:d,getCachedRecordSelector:f,getRecordSelector:g,getAllSelector:h,getAllRecordsSelector:c}}),null);
__d("AdsPortraitCustomizationsUtils",["AdsArLinkUtils","AdsAssetFeedUtils","AdsBuyingTypes","AdsChildAttachmentsUtils","AdsObjectTypeUtils","AdsOfferState","AdsPlacementAPISpecReaderUtils","adsAccountGK","adsCampaignGetOfferStateType"],(function(a,b,c,d,e,f){"use strict";var g={isPortraitCustomizationsSpecificationsEnabled:function(a,c){return!b("AdsAssetFeedUtils").isPACAdgroupFromRecord(c)&&b("AdsPlacementAPISpecReaderUtils").isActiveStoryPosition(b("AdsPlacementAPISpecReaderUtils").convertCampaignRecordToPlacementSpec(a))&&!b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(c)&&!b("AdsArLinkUtils").isArAdCreative(c.creative)},shouldMutateCarouselDeliveryMode:function(a,c,d){if(!b("adsAccountGK")._(d,"2mb5HjDZS"))return!1;if(!b("AdsChildAttachmentsUtils").isCarouselAd(c))return!1;if(!b("AdsPlacementAPISpecReaderUtils").isOnlyActiveInstagramStoryPlacement(b("AdsPlacementAPISpecReaderUtils").convertCampaignRecordToPlacementSpec(a)))return!1;if(b("AdsAssetFeedUtils").hasAssetCustomizationRules(c))return!1;if(b("AdsAssetFeedUtils").isDynamicCreativeAdgroup(c))return!1;if(b("adsCampaignGetOfferStateType")(a)===b("AdsOfferState").HAS_OFFER)return!1;return b("AdsArLinkUtils").isArAdCreative(c.creative)?!1:!0},isRFStoriesCarouselFormatSelected:function(a){if(a&&a.buying_type===b("AdsBuyingTypes").RESERVED&&a.ad_formats instanceof Array)for(var a=a.ad_formats,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(e.type==="stories_carousel")return!0}return!1},hasPortraitCustomizationsSpecifications:function(a){return!!((a=a.creative)==null?void 0:(a=a.portrait_customizations)==null?void 0:a.specifications)},shouldShowCarouselDeliveryModeCheckbox:function(a,c,d){if(b("AdsObjectTypeUtils").isDynamicProductAd(c))return!1;return!g.shouldMutateCarouselDeliveryMode(a,c,d)?!1:!0}};e.exports=g}),null);
__d("AdsUEditorAdgroupDynamicMutators",["AdsAdgroupRecordAccessors","AdsAPIAdgroupPaths","AdsAPIObjectives","AdsMutators","AdsTemplateDataDefaultsStoreUtils","AdsUEditorAdgroupChildAttachmentsMutators","AdsUnifiedCreativeAPIFieldMappings","ApiAdObjectTypes"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsUnifiedCreativeAPIFieldMappings").LINK_MAPPING,h=b("AdsUnifiedCreativeAPIFieldMappings").TEMPLATE_MAPPING,i=b("AdsUnifiedCreativeAPIFieldMappings").VIDEO_MAPPING;function j(a,c,d,e){return b("AdsMutators").chain(function(a){return a.setIn(h.linkURL,a.getIn(g.linkURL))},b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data["delete"],l,m,function(a){return n(a,c,d,e,!0)})(a)}function a(a,c,d,e){return b("AdsMutators").chain(function(a){return a.setIn(h.linkURL,a.getIn(g.linkURL))},b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data["delete"],b("AdsAdgroupRecordAccessors").creative.asset_feed_spec["delete"],l,function(a){return o(a,c,d,e,!0)})(a)}function c(a,c){a=b("AdsMutators").chain(function(a){return a.setIn(g.linkURL,a.getIn(h.linkURL))},b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data["delete"],function(a){return a.setIn(g.callToActionType,q(c))})(a);a=s(a);return a}function d(a,c,d,e){return b("AdsMutators").chain(function(a){return a.setIn(h.linkURL,a.getIn(i.linkURL))},b("AdsAdgroupRecordAccessors").creative.object_type.set(b("ApiAdObjectTypes").SHARE),b("AdsAdgroupRecordAccessors").creative.object_story_spec.video_data["delete"],b("AdsAdgroupRecordAccessors").creative.asset_feed_spec["delete"],l,function(a){return o(a,c,d,e,!0)})(a)}function k(a,c,d,e,f){var g=a.getIn(h.callToActionType)!=null;return b("AdsMutators").chain(function(a){return a.deleteIn(h.childAttachments)},b("AdsAdgroupRecordAccessors").creative.recommender_settings.product_sales_channel.set(f),l,function(a){return n(a,c,d,e,g)})(a)}function l(a){return b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.thumbnail_url["delete"],b("AdsAdgroupRecordAccessors").creative.thumbnail_height["delete"],b("AdsAdgroupRecordAccessors").creative.thumbnail_width["delete"])(a)}function m(a){return b("AdsAdgroupRecordAccessors").creative.portrait_customizations.carousel_delivery_mode["delete"](a)}function n(a,c,d,e,f){return p(a,c,d,e,f).setIn(h.multiShareEndCard,!1).setIn(b("AdsAPIAdgroupPaths").METADATA.CAROUSEL_STYLE,"others")}function o(a,c,d,e,f){return b("AdsMutators").chain(function(a){return a.setIn(h.multiShareEndCard,!1)},b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.force_single_link.set(!0),function(a){return a.deleteIn(h.catalogAssetFormatOption)})(p(a,c,d,e,f))}function p(a,c,d,e,f){d=b("AdsAdgroupRecordAccessors").creative.product_set_id.set(d,a).setIn(h.headline,b("AdsTemplateDataDefaultsStoreUtils").getDefault("name",e)).setIn(h.linkDescription,b("AdsTemplateDataDefaultsStoreUtils").getDefault("description",e));f&&(d=d.setIn(h.callToActionType,q(c)));return d}function q(a){switch(a){case b("AdsAPIObjectives").LEAD_GENERATION:return"SIGN_UP";default:return"SHOP_NOW"}}function f(a,c,d,e){return b("AdsUEditorAdgroupChildAttachmentsMutators").addLeadingStaticCard(j(a,c,d,e),!1)}function r(a,c,d,e,f){return b("AdsUEditorAdgroupChildAttachmentsMutators").addLeadingStaticCard(k(a,c,d,e,f),!1)}function s(a){var c;return b("AdsMutators").chain((c=b("AdsAdgroupRecordAccessors")).creative.product_set_id["delete"],c.creative.categorization_criteria["delete"],c.creative.category_media_source["delete"],c.creative.template_url_spec["delete"],c.creative.applink_treatment["delete"])(a)}a={addDefaultCarouselTemplateDataFields:n,addDefaultCommonTemplateDataFields:p,removeDynamicAdSpecificCreativeFields:s,removeThumbnail:l,transformAdgroupFromLinkToCarouselTemplateData:j,transformAdgroupFromLinkToSingleMediaTemplateData:a,transformAdgroupFromLinkToCarouselTemplateDataWithStaticCard:f,transformAdgroupFromTemplateToSingleMediaLinkData:c,transformAdgroupFromVideoToSingleMediaTemplateData:d,transformAdgroupTemplateDataFromStaticToDynamic:k,transformAdgroupTemplateDataFromStaticToDynamicWithLeadingStaticCard:r};e.exports=a}),null);
__d("adsPageIDSelector",["AdsAdgroupEditorStore","AdsPageUtils","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([b("AdsAdgroupEditorStore")],function(a){a=a.adgroup;return b("AdsPageUtils").getPageID(a)||b("AdsAdgroupEditorStore").getCachedPageID(a.id)},{name:e.id+".adsPageIDSelector"});e.exports=a}),null);
__d("AdsProductSetAssetEligibilityDataManager",["AdsGraphAPI","AdsProductSetAssetEligibilityLoadedAction","AdsProductSetAssetEligibilityLoadErrorAction","promiseDone"],(function(a,b,c,d,e,f){"use strict";a={loadProductSetAssetEligibilityData:function(a){b("promiseDone")(b("AdsGraphAPI").get(e.id).object("product_set",a).edge("da_checks").batched().get(),function(c){return b("AdsProductSetAssetEligibilityLoadedAction").dispatch({productSetID:a,data:c.data},{line:"27",module:"AdsProductSetAssetEligibilityDataManager.js"})},function(c){return b("AdsProductSetAssetEligibilityLoadErrorAction").dispatch({productSetID:a,error:c},{line:"32",module:"AdsProductSetAssetEligibilityDataManager.js"})})}};e.exports=a}),null);
__d("AdsProductSetAssetEligibilityStore",["AdsDataAtom","AdsProductSetAssetEligibilityDataManager","AdsProductSetAssetEligibilityLoadedActionFlux","AdsProductSetAssetEligibilityLoadErrorActionFlux","FluxLoadObjectStore","immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return[this.getActionTypeStartLoad(),b("AdsProductSetAssetEligibilityLoadErrorActionFlux").actionType,b("AdsProductSetAssetEligibilityLoadedActionFlux").actionType]};d.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsProductSetAssetEligibilityLoadedActionFlux").actionType:var d=this.$AdsProductSetAssetEligibilityStore1(c.data);return this.__handleOne(a,c.productSetID,d);case b("AdsProductSetAssetEligibilityLoadErrorActionFlux").actionType:return this.__handleOne(a,c.productSetID,c.error);default:return a}};d.$AdsProductSetAssetEligibilityStore1=function(a){return b("immutable").Map(a.map(function(a){return[a.key,a]}))};d.__load=function(a){b("AdsProductSetAssetEligibilityDataManager").loadProductSetAssetEligibilityData(a)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("adsShouldDefaultToSingleVideoSelector",["AdsAccountStore","AdsDynamicAdsUtils","AdsProductSetAssetEligibilityStore","adsAccountGK","adsCreateSelector","adsCreateStoreSelector","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([b("AdsProductSetAssetEligibilityStore")],function(a){return b("AdsProductSetAssetEligibilityStore").get(a||"")},{name:e.id+".productSetAssetEligibilityCheckResultStoreSelector"});c=b("adsCreateSelector")([b("AdsAccountStore").getSelectedAccount,a],function(a,c){return b("adsAccountGK")._(a.getValue(),"98SOztlN1")&&!b("AdsDynamicAdsUtils").isDogCheckFailed(c,"product_set_has_low_quality_with_video")},{name:e.id+".adsShouldDefaultToSingleVideoSelector"});e.exports=c}),null);
__d("AdsAdgroupLinkPostFormatMutators",["AdsAccountStore","AdsAccountUtils","AdsAdgroupCallToActionMutatorsAdapter","AdsAdgroupCreativePluginResolver","AdsAdgroupEditorStore","AdsAdgroupPostTypeMutators","AdsAdgroupRecordAccessors","AdsAdgroupSetLinkPostFormatDataActionFlux","AdsAdgroupSpecPathPluginResolver","AdsAdgroupSpecUtils","AdsAdgroupWebsiteMutatorsAdapter","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAPIAdgroupTemplateDataRecord","AdsAPIChildAttachmentPaths","AdsAPIObjectives","AdsArLinkUtils","AdsAssetFeedUtils","AdsAudienceDirectConfig","AdsBulkValueUtils","AdsCachedLoadState_LEGACY","AdsCallToActionTypesCond","AdsCampaignCombinedStore","AdsCampaignGroupPromotedPageIDSelector","AdsCampaignRecordAccessors","AdsCanvasCollectionsConstants","AdsCanvasCollectionsUtils","AdsCanvasConstants","AdsChildAttachmentsUtils","AdsCollectionsAdUtils","AdsCollectionsConstants","AdsDataAtom","AdsDCODegreesOfFreedomUtils","AdsEditingAdgroupEditorContext","AdsLinkPostFormat","AdsLocalAwarenessUtils","AdsLocalUtils","AdsMessengerConstants","AdsMobileAppObjectivesUtils","AdsMutators","AdsOfferState","AdsPageStore","AdsPECampaignGroupSelectors","AdsPECampaignSelectors","AdsPortraitCustomizationsUtils","AdsPromotedObjectTypes","AdsSelectorUtils","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupChildAttachmentsMutators","AdsUEditorAdgroupCreativeFormat","AdsUEditorAdgroupDynamicMutators","AdsUEditorAdgroupMultiProductMutators","AdsUEditorCallToActionMutators","AdsUEditorCampaignInstagramSelectors","AdsUEditorSelectors","AdsUnifiedCreativeAPIFields","AdsWebsiteAdUtils","ApiAdObjectTypes","CatalogVertical","FBLogger","adsCallToActionGetDefaultCallToActionType","adsObjectiveSelector","adsPageIDSelector","adsPromotedObjectTypeSelector_LEGACY","adsShouldDefaultToSingleVideoSelector","adsUEditorAccountSelector","immutable","isAdsCanvasLink","isTruthy","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsAdgroupCallToActionMutatorsAdapter").setCallToActionLink,h=(c=b("AdsAdgroupPostTypeMutators")).convertLinkOrTemplatePostToVideoPost,i=c.convertLinkPostToTemplatePost,j=c.convertPhotoPostToLinkPost,k=c.convertTemplatePostToLinkPost,l=c.convertVideoPostToLinkOrTemplatePost,m=b("AdsAdgroupWebsiteMutatorsAdapter").setWebsiteURL,n=b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec;function a(a,c){var d=c.action;switch(d.type){case b("AdsAdgroupSetLinkPostFormatDataActionFlux").actionType:return b("AdsMutators").mutateEach(a,d.ids,function(a){return p(d.linkPostFormat,a,d.vertical)});default:return a}}function o(a,c,d,e){var f=e.objective,g=e.campaignGroupPromotedPageID;e=e.promotedObjectType;var h=b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(c),i=b("AdsAssetFeedUtils").isDofMessagingDestinationAdgroupFromSpec(c);if(h&&!i){h=b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(c);h||(c=n(b("AdsAPIAdgroupRecordUtils").getObjectType(c),c,f));a===b("AdsLinkPostFormat").MULTIPLE&&(c=b("AdsAdgroupRecordAccessors").creative.degrees_of_freedom_spec.degrees_of_freedom_type.set("DISABLED",c))}i=a===b("AdsLinkPostFormat").MULTIPLE||a===b("AdsLinkPostFormat").SINGLE;i||(c=b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data.custom_overlay_spec["delete"](c));h=b("AdsPortraitCustomizationsUtils").hasPortraitCustomizationsSpecifications(c)&&a!==b("AdsLinkPostFormat").SINGLE;h&&(c=b("AdsAdgroupRecordAccessors").creative.portrait_customizations["delete"](c));i=((i=c.creative)==null?void 0:(h=i.interactive_components_spec)==null?void 0:h.components)!=null&&a!==b("AdsLinkPostFormat").SINGLE;i&&(c=b("AdsAdgroupRecordAccessors").creative.interactive_components_spec["delete"](c));switch(a){case b("AdsLinkPostFormat").MULTIPLE:return q(f,c,!0,g,e);case b("AdsLinkPostFormat").SINGLE:return s(f,c,e);case b("AdsLinkPostFormat").COLLECTIONS:return t(f,c,d,e);default:b("FBLogger")("ads").mustfix("Invalid link post fromat: %s",a);return c}}function p(a,c,d){b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsAccountStore").getDispatchToken(),b("AdsAdgroupEditorStore").getDispatchToken()].concat(b("AdsSelectorUtils").getStoreDispatchTokens([b("adsShouldDefaultToSingleVideoSelector"),b("adsPromotedObjectTypeSelector_LEGACY")]),b("AdsSelectorUtils").getStoreDispatchTokens([b("adsUEditorAccountSelector")],b("AdsEditingAdgroupEditorContext")),[b("AdsCampaignCombinedStore").getDispatchToken()]));var e=b("adsObjectiveSelector")({adgroup:c}),f=c.campaign_id;f=b("AdsCampaignGroupPromotedPageIDSelector")(f);var g=b("adsPromotedObjectTypeSelector_LEGACY")(c.adset_id);return o(a,c,d,{objective:e,campaignGroupPromotedPageID:f,promotedObjectType:g})}function q(a,c,d,e,f){var h,k,m;if(b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(c)){c=b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.ad_formats.set(b("immutable").List.of("CAROUSEL_IMAGE")),b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.videos["delete"])(c);return c}h=(h=c.creative)==null?void 0:h.object_type;switch(h){case b("ApiAdObjectTypes").PHOTO:c=j(a,c);break;case b("ApiAdObjectTypes").VIDEO:c=l(a,c);break}h=(h=c.creative)==null?void 0:(h=h.object_story_spec)==null?void 0:(h=h.video_data)==null?void 0:h.offer_id;h&&(c=l(a,c));h=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:b("AdsAudienceDirectConfig").accountType,objective:a,promotedObjectType:f});var n=h.getUnifiedCreativeAPIFieldMapping(c),o=!!b("AdsAdgroupSpecUtils").getEventID(c);o&&(c=b("AdsMutators").chain(function(a){return a.deleteIn(b("nullthrows")(n.eventID))},b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data.call_to_action.value.event_id["delete"],function(a){return a.deleteIn(b("nullthrows")(n.linkURL))},b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data.call_to_action.value.link["delete"],function(a){return a.setIn(b("nullthrows")(n.callToActionType),b("AdsCallToActionTypesCond").TYPES.LEARN_MORE.name)})(c));var p=b("AdsAdgroupSpecUtils").getCallToActionType(c),q=c.getIn(b("nullthrows")(n.linkURL));o=b("AdsAdgroupSpecUtils").isTemplateDataEligible(a,e,c)?b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.LINK:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.LINK;(b("isAdsCanvasLink")(q)&&a!==b("AdsAPIObjectives").LEAD_GENERATION||b("AdsArLinkUtils").isArAdsLink(q))&&(c=c.setIn(o,D(c,a,f)));var s=b("AdsAdgroupSpecUtils").getAppDestination(c),t=b("AdsAdgroupSpecUtils").getWhatsAppNumber(c),u=b("AdsAdgroupSpecUtils").getHeadline(c),v=b("AdsAdgroupSpecUtils").getInstagramAppLink(c);k=(k=b("AdsUnifiedCreativeAPIFields").callToActionValue.getValue(c,h))==null?void 0:k.app_destination_page_id;var x=(m=c.creative)==null?void 0:(m=m.object_story_spec)==null?void 0:(m=m.link_data)==null?void 0:(m=m.call_to_action)==null?void 0:(m=m.value)==null?void 0:m.lead_gen_form_id;if(!x){x=(m=c.creative)==null?void 0:(m=m.object_story_spec)==null?void 0:(m=m.video_data)==null?void 0:(m=m.call_to_action)==null?void 0:(m=m.value)==null?void 0:m.lead_gen_form_id}x&&a===b("AdsAPIObjectives").LEAD_GENERATION&&(c=c.setIn(o,q));c=r(c,a,f);m=c.id;o=d?b("AdsAdgroupEditorStore").getCachedChildAttachments(m):null;d=b("AdsAdgroupEditorStore").getCachedCarouselStyle(m)||"static_carousel";var B=b("AdsAPIAdgroupPaths").METADATA.CAROUSEL_STYLE;c=c.setIn(B,d);B=b("immutable").fromJS(o);d=b("AdsChildAttachmentsUtils").isStaticAndDynamicCarouselChildAttachments(B==null?void 0:B.toJS());B&&B.size>0?o=B:o=b("AdsChildAttachmentsUtils").getDefaultChildAttachments();o=o.map(function(d){var e=d.getIn(b("AdsAPIChildAttachmentPaths").LINK)||q;(b("isAdsCanvasLink")(e)&&a!==b("AdsAPIObjectives").LEAD_GENERATION||b("AdsArLinkUtils").isArAdsLink(e))&&(e=D(c,a,f));e?d=d.setIn(b("AdsAPIChildAttachmentPaths").LINK,e):d=d.deleteIn(b("AdsAPIChildAttachmentPaths").LINK);e=d.getIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.APP_LINK);s==="MESSENGER"&&(d=d.setIn(b("AdsAPIChildAttachmentPaths").NAME,u||b("AdsMessengerConstants").DEFAULT_HEADLINE.toString()));!p?d=d.deleteIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.path):(d=d.setIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.TYPE,p),e&&(d=d.setIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.APP_LINK,e)),x&&(d=d.setIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.LEAD_GEN_FORM_ID,x),a===b("AdsAPIObjectives").LEAD_GENERATION&&(d=d.setIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.LINK,q,d).setIn(b("AdsAPIChildAttachmentPaths").LINK,q))),s?d=d.setIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.APP_DESTINATION,s):d=d.deleteIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.APP_DESTINATION),t?d=d.setIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.WHATSAPP_NUMBER,t):d=d.deleteIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.WHATSAPP_NUMBER),v&&a===b("AdsAPIObjectives").MESSAGES&&f===b("AdsPromotedObjectTypes").INSTAGRAM&&(d=d.setIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.APP_LINK,v)));return d});((B=c.creative)==null?void 0:(B=B.object_story_spec)==null?void 0:B.template_data)&&(c=b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.caption.set(b("AdsAdgroupEditorStore").getCachedDisplayURL(c.id),c));c=C(c);if(b("AdsAdgroupSpecUtils").isTemplateDataEligible(a,e,c)&&!b("AdsLocalUtils").isLocalObjective(a))c=b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.force_single_link["delete"],b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.format_option.set("carousel_images_multi_items"))(c);else{B=b("AdsChildAttachmentsUtils").getChildAttachmentsPath(c);b("AdsAdgroupSpecUtils").isTemplateDataEligible(a,e,c)&&(c=b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.force_single_link["delete"](c));B&&(c=c.setIn(B,o))}B=b("AdsAdgroupSpecUtils").getCallToActionValue(c);B&&(c=g(B,c));if(d){o=b("AdsAdgroupEditorStore").getCachedProductSetID(m);c=b("AdsAdgroupRecordAccessors").creative.product_set_id.set(o,i(c))}c=w(c,a,f);c=z(c,h,a,e);c=y(c,h,a);c=b("AdsAdgroupRecordAccessors").creative.platform_customizations["delete"](c);c=A(c);a===b("AdsAPIObjectives").MESSAGES&&k!=null&&(c=b("AdsUEditorCallToActionMutators").deleteCallToActionValueAppDestinationPageID(c,h));return c}function r(a,c,d){var e=a.creative&&b("AdsCollectionsAdUtils").isCollectionsAd(a.creative.toJS());if(!e)return a;e=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:b("AdsAudienceDirectConfig").accountType,objective:c,promotedObjectType:d});var f=e.getUnifiedCreativeAPIFieldMapping(a);a=a.deleteIn(b("nullthrows")(f.collectionThumbnails)).deleteIn(b("nullthrows")(f.retailerItemIDs)).deleteIn(b("nullthrows")(f.postClickItemDescription)).deleteIn(b("nullthrows")(f.postClickItemHeadline));var g=a.getIn(b("nullthrows")(f.linkURL));(b("isAdsCanvasLink")(g)||b("AdsArLinkUtils").isArAdsLink(g))&&(a=a.setIn(b("nullthrows")(f.linkURL),D(a,c,d)));if(d===b("AdsPromotedObjectTypes").PRODUCT_SET){g=b("AdsAPIAdgroupRecordUtils").getObjectType(a);g===b("ApiAdObjectTypes").VIDEO&&(a=e.convertVideoToImageSpec(a,new(b("AdsAPIAdgroupTemplateDataRecord"))()));a=i(a)}else a=b("AdsAdgroupRecordAccessors").creative.product_set_id["delete"](a);return a}function s(a,c,d){c=B(c);c=x(c);b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(c)&&(c=b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.ad_formats.set(b("immutable").List.of("AUTOMATIC_FORMAT"),c));var e=b("AdsAPIAdgroupPaths").METADATA.CAROUSEL_STYLE;b("AdsChildAttachmentsUtils").isStaticAndDynamicCarouselAd(c)&&(c=b("AdsUEditorAdgroupChildAttachmentsMutators").removeAllStaticCards(c));c=r(c,a,d);c=C(c);a===b("AdsAPIObjectives").STORE_VISITS&&(c=b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.product_set_id["delete"],b("AdsAdgroupRecordAccessors").creative.recommender_settings.product_sales_channel["delete"])(c));if(b("AdsChildAttachmentsUtils").isCarouselAd(c)){c=c.setIn(e,"not_carousel");return u(a,c,d)}e=b("AdsDCODegreesOfFreedomUtils").isEligibleForDegreesOfFreedom(c);e&&(c=b("AdsAdgroupRecordAccessors").creative.degrees_of_freedom_spec.degrees_of_freedom_type.set("USER_ENROLLED",c));return c}function t(a,c,d,e){var f;c=B(c);c=x(c);var g=b("AdsCollectionsConstants").EMPTY_COLLECTIONS_RETAIL_ID,h=b("AdsCanvasConstants").EMPTY_CANVAS_LINK,i=b("AdsCanvasCollectionsConstants").EMPTY_COLLECTION_THUMBNAILS,l=b("AdsAPIAdgroupPaths").METADATA.CAROUSEL_STYLE,m=b("AdsAccountUtils").hasCapability(b("AdsAccountStore").getSelectedAccount().getValue(),"HAS_RETAIL_OR_COMMERCE_CATALOG");b("AdsChildAttachmentsUtils").isStaticAndDynamicCarouselAd(c)&&(c=b("AdsUEditorAdgroupChildAttachmentsMutators").removeAllStaticCards(c));var n=b("AdsAudienceDirectConfig").accountType,o=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:n,objective:a,promotedObjectType:e});f=(f=c.creative)==null?void 0:f.object_type;f===b("ApiAdObjectTypes").PHOTO&&(c=j(a,c));c=b("AdsUEditorCallToActionMutators").deleteCallToActionValueAppDestination(c,o);f=b("AdsUnifiedCreativeAPIFields").callToActionType.getValue(c,o);f!==b("AdsCallToActionTypesCond").TYPES.LEARN_MORE.name&&(c=b("AdsUEditorCallToActionMutators").setCallToActionType(c,b("AdsCallToActionTypesCond").TYPES.LEARN_MORE.name,o));b("AdsChildAttachmentsUtils").isCarouselAd(c)&&(c=c.setIn(l,"not_carousel"),c=u(a,c,e));if(b("AdsAPIAdgroupRecordUtils").isTemplateCreative(c)&&a!==b("AdsAPIObjectives").STORE_VISITS){f=o.getUnifiedCreativeAPIFieldMapping(c);c=k(c.deleteIn(b("nullthrows")(f.headline)).deleteIn(b("nullthrows")(f.linkDescription)).deleteIn(b("nullthrows")(f.message)))}if(m&&!b("AdsCanvasCollectionsUtils").isCanvasCollectionOnlyObjective(a)){c=c.setIn(b("AdsUnifiedCreativeAPIFields").retailerItemIDs.getPathOrThrow(c,o),g).setIn(b("AdsUnifiedCreativeAPIFields").postClickItemDescription.getPathOrThrow(c,o),b("AdsCollectionsAdUtils").getPostClickItemDefaultDescriptionTemplate(d)).setIn(b("AdsUnifiedCreativeAPIFields").postClickItemHeadline.getPathOrThrow(c,o),b("AdsCollectionsAdUtils").getPostClickItemDefaultHeadlineTemplate(d));l=!!b("AdsAPIAdgroupRecordUtils").getOfferID(c,o);f=b("AdsAdgroupCreativePluginResolver").resolve({accountType:n,objective:a,promotedObjectType:e,offerStateType:l?b("AdsOfferState").HAS_OFFER:b("AdsOfferState").NO_OFFER,catalogVertical:b("CatalogVertical").NONE});m=c.adset_id;g=b("AdsCampaignCombinedStore").getRecord(m).getValueEnforcing();d=f.getSupportedCanvasCheckboxMediaFormats({adgroup:c,account:b("adsUEditorAccountSelector")(b("AdsEditingAdgroupEditorContext")),campaign:g},!1).has(b("AdsUEditorAdgroupCreativeFormat").COLLECTIONS);n=d?h:D(c,a,e);c=c.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(c,o),n)}else c=c.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(c,o),h).setIn(b("AdsUnifiedCreativeAPIFields").collectionThumbnails.getPathOrThrow(c,o),i);return c}function u(a,c,d){if(d!==b("AdsPromotedObjectTypes").PRODUCT_SET&&b("AdsWebsiteAdUtils").isWebsiteObjective(a)&&b("AdsAPIAdgroupRecordUtils").isTemplateCreative(c)){var e;c=b("AdsUEditorAdgroupDynamicMutators").removeDynamicAdSpecificCreativeFields(c);return b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data["delete"],b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data.link.set((e=c.creative)==null?void 0:(e=e.object_story_spec)==null?void 0:(e=e.template_data)==null?void 0:e.link),b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data.call_to_action.type.set(a?b("adsCallToActionGetDefaultCallToActionType")(a):null),b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data.call_to_action.value.link.set((e=c.creative)==null?void 0:e.link_url))(c)}c=E([b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.MULTI_SHARE_OPTIMIZED,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.MULTI_SHARE_OPTIMIZED],c);c=b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.caption["delete"](c);e=b("AdsAdgroupEditorStore").getCachedPlatformCustomizations(c.id);e&&e.toSeq().forEach(function(a,d){a.toSeq().forEach(function(a,e){c=c.setIn([].concat(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,[d,e]),a)})});c=E([b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.CHILD_ATTACHMENTS],c);if((e=c.creative)==null?void 0:(e=e.object_story_spec)==null?void 0:e.template_data){e=(e=c.creative)==null?void 0:e.product_set_id;e=b("adsShouldDefaultToSingleVideoSelector")(e);e?c=b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.format_option.set("single_video",c):c=b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.force_single_link.set(!0),b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.format_option["delete"])(c);c=v(c)}e=(e=c.creative)==null?void 0:(e=e.object_story_spec)==null?void 0:(e=e.link_data)==null?void 0:e.link;(b("isAdsCanvasLink")(e)&&a!==b("AdsAPIObjectives").LEAD_GENERATION||b("AdsArLinkUtils").isArAdsLink(e))&&(c=b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data.link.set(D(c,a,d),c));d=(e=c.creative)==null?void 0:e.object_type;d!=null&&b("AdsAdgroupSpecUtils").isVideoObjectType(a,d)&&(c=h(a,c));return c}function v(a){var c;((c=a.creative)==null?void 0:c.categorization_criteria)!=null&&((c=a.creative)==null?void 0:(c=c.object_story_spec)==null?void 0:(c=c.template_data)==null?void 0:c.name)!=null&&(a=b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.name.set("",a));return b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.categorization_criteria["delete"],b("AdsAdgroupRecordAccessors").creative.category_media_source["delete"])(a)}function w(a,c,d){var e=b("adsPageIDSelector")({adgroup:a});e=b("isTruthy")(e)?b("AdsPageStore").getCached(e):b("AdsCachedLoadState_LEGACY").NOT_LOADED;e=e.website;if(!e)return a;if(!b("AdsAdgroupSpecUtils").isLinkDataEligible(c,d))return a;c=b("AdsChildAttachmentsUtils").getInChild(0,b("AdsAPIChildAttachmentPaths").LINK,a);b("AdsChildAttachmentsUtils").isStaticCarouselAd(a)&&!c&&(a=b("AdsUEditorAdgroupMultiProductMutators").setInChild(0,b("AdsAPIChildAttachmentPaths").LINK,e,a));d=b("AdsAdgroupSpecUtils").getLink(a);d||(a=m(e,a));return a}function x(a){a=b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.multi_share_end_card["delete"](a);return b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data.multi_share_end_card["delete"](a)}function y(a,c,d){var e=b("AdsAdgroupSpecUtils").getAppDestination(a),f=b("AdsUnifiedCreativeAPIFields").multiShareEndCard.getPath(a,c),g=b("AdsUEditorCampaignInstagramSelectors").allHaveInstagramStoryPlacementOnly(b("AdsEditingAdgroupEditorContext"));if(d===b("AdsAPIObjectives").LEAD_GENERATION||e==="MESSENGER"||d===b("AdsAPIObjectives").VIDEO_VIEWS&&g||d===b("AdsAPIObjectives").STORE_VISITS)return f!=null?a.setIn(f,!1):a;if(!b("AdsAdgroupSpecUtils").isLinkDataEligible(d))return a;e=b("AdsUnifiedCreativeAPIFields").multiShareEndCard.getValue(a,c);if(e==null){c=!b("AdsLocalUtils").isLocalObjective(d)&&!g;g&&(a=b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data.link["delete"](a));a=f!=null?a.setIn(f,c):a}return a}function z(a,c,d,e){if(!b("AdsAdgroupSpecUtils").isLinkDataEligible(d)&&!b("AdsAdgroupSpecUtils").isAppLinkDataEligible(d))return a;if(b("AdsAdgroupSpecUtils").isTemplateDataEligible(d,e,a))return a;if(b("AdsLocalAwarenessUtils").isDynamicLocalAwareness(d,e))return a;d=b("AdsUnifiedCreativeAPIFields").multiShareOptimized.getPath(a,c);e=b("AdsUnifiedCreativeAPIFields").multiShareOptimized.getValue(a,c);if(e==null){c=!b("AdsUEditorCampaignInstagramSelectors").allHaveInstagramStoryPlacementOnly(b("AdsEditingAdgroupEditorContext"));return d!=null?a.setIn(d,c):a}return a}function A(a){var c=b("AdsPECampaignSelectors").getRecordSelector()(a.adset_id).getValue();if(!c)return a;var d=b("adsUEditorAccountSelector")(b("AdsEditingAdgroupEditorContext"));b("AdsPortraitCustomizationsUtils").shouldMutateCarouselDeliveryMode(c,a,d)&&(a=b("AdsAdgroupRecordAccessors").creative.portrait_customizations.carousel_delivery_mode.set("optimal_num_cards",a));return a}function B(a){return b("AdsAdgroupRecordAccessors").creative.portrait_customizations.carousel_delivery_mode["delete"](a)}function C(a){var c;((c=a.creative)==null?void 0:(c=c.object_story_spec)==null?void 0:c.template_data)&&(a=b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.customization_rules_spec.set(b("AdsAdgroupEditorStore").getCachedCustomizationRulesSpec(a.id),a));return a}function D(a,c,d){a=b("AdsMobileAppObjectivesUtils").isMobileAppObjective(c,d);if(!a)return"";c=b("AdsUEditorSelectors").campaign.bulkByAccessor(b("AdsCampaignRecordAccessors").promoted_object.object_store_url.get)(b("AdsEditingAdgroupEditorContext"));return b("AdsBulkValueUtils").getUniformValueOrDefault(c,"")}function E(a,b){for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=b.getIn(e);if(f!==void 0)return b.removeIn(e)}return b}d={reduce:a,setLinkPostFormatWithExtraData_UNPURE:o,setLinkPostFormat_UNPURE:p};e.exports=d}),null);
__d("AdsUEditorAdgroupCreativePluginAdObjectsUtils",["AdsAdgroupCreativePluginResolver","AdsUEditorCampaignAdObjectsUtils","CatalogVertical"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsUEditorCampaignAdObjectsUtils").getCommonPivots,h=b("AdsUEditorCampaignAdObjectsUtils").getOfferStateType;function a(a,c){return b("AdsAdgroupCreativePluginResolver").resolve(i(a,c))}function i(a,c){return babelHelpers["extends"]({},g(a),{offerStateType:h(a),catalogVertical:c?c:b("CatalogVertical").NONE})}e.exports={getAdgroupCreativePlugin:a,getAdgroupCreativePluginPivots:i}}),null);
__d("AdsAdgroupPrefillerUtils",["invariant","AdsUEditorAdgroupCreativePluginAdObjectsUtils","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","flattenArray","immutable"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c,d){var e=b("immutable").Set(c.map(function(a){return a.key}));e.size===c.length||g(0,4093);var f=b("flattenArray")(c.map(function(b){d.has(b.key)||g(0,4094,b.key);return b.genPaths(a,d.get(b.key))}));e=a.current.adgroup;var h=a.original.adgroup;return e.withMutations(function(a){f.forEach(function(b){a.setIn(b.current,h.getIn(b.original))})})}function c(a,c,d){d===void 0&&(d=[]);var e=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin(a.current),f=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin(a.original);e=c.getPath(a.current.adgroup,e);c=c.getPath(a.original.adgroup,f);a=e?[].concat(e,d):null;f=c?[].concat(c,d):null;return{current:a,original:f}}function d(a){return{current:b("AdsUEditorAdgroupCreativePluginAdObjectsUtils").getAdgroupCreativePlugin(a.current),original:b("AdsUEditorAdgroupCreativePluginAdObjectsUtils").getAdgroupCreativePlugin(a.original)}}function f(a,c){var d=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin(a.original);return c.getValue(a.original.adgroup,d)}e.exports={genAdgroupCreativePlugins:d,genOriginalUnifiedFieldValueFromContextData:f,genPathsForUnifiedField:c,prefillUsingPrefillers:a}}),null);
__d("adsCallToActionFilterTypesByAdgroupMediaFormat",["AdsAdgroupTypeUtils","AdsAPIObjectives","AdsCallToActionTypesCond"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){c===b("AdsAPIObjectives").REACH&&b("AdsAdgroupTypeUtils").isVideoAd(d)&&(a=a.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.SAVE.name}));c===b("AdsAPIObjectives").STORE_VISITS&&b("AdsAdgroupTypeUtils").isVideoAd(d)&&(a=a.filter(function(a){return![b("AdsCallToActionTypesCond").TYPES.SHOP_NOW.name,b("AdsCallToActionTypesCond").TYPES.ORDER_NOW.name].includes(a.name)}));return a}e.exports=a}),null);
__d("adsCallToActionFilterTypesByDynamicAdVoice",["AdsAPIObjectives","AdsCallToActionTypesCond"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e=new Set([b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE]);c.forEach(function(c,f){c===b("AdsAPIObjectives").STORE_VISITS&&d[f]==="DYNAMIC"&&(a=a.filter(function(a){return!e.has(a)}))});return a}e.exports=a}),null);
__d("adsCallToActionFilterTypesByOfferSupport",["AdsAPIObjectives","AdsCallToActionTypesCond"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){c.forEach(function(c,e){!d[e]?(a=a.filter(function(a){return a!==b("AdsCallToActionTypesCond").TYPES.GET_OFFER_VIEW}),c===b("AdsAPIObjectives").STORE_VISITS&&(a=a.filter(function(a){return a!==b("AdsCallToActionTypesCond").TYPES.GET_OFFER}))):a=a.filter(function(a){return a!==b("AdsCallToActionTypesCond").TYPES.GET_OFFER})});return a}e.exports=a}),null);
__d("DynamicAdsContentTypes$FbtEnum",[],(function(a,b,c,d,e,f){"use strict";a={automotive_model:"automotive model",destination:"destination",flight:"flight",home_listing:"home listing",hotel:"hotel",media_title:"media title",vehicle_offer:"vehicle offer",vehicle:"vehicle"};e.exports=a}),null);
__d("DynamicAdsContentTypesCapitalized$FbtEnum",[],(function(a,b,c,d,e,f){"use strict";a={automotive_model:"Automotive Model",destination:"Destination",flight:"Flight",home_listing:"Home Listing",hotel:"Hotel",media_title:"Media Title",vehicle_offer:"Vehicle Offer",vehicle:"Vehicle"};e.exports=a}),null);
__d("adsDynamicCampaignHasUpsellDynamicAudience",["CatalogVertical"],(function(a,b,c,d,e,f){"use strict";function a(a){return a===b("CatalogVertical").FLIGHTS}e.exports=a}),null);
__d("AdsDynamicAudienceUtils",["fbt","AdsAPIObjectives","AdsDynamicAudienceDraft","AdsDynamicAudienceDraftBookingWindow","AdsDynamicAudienceDraftEvent","AdsDynamicAudienceDraftSaveState","AdsDynamicAudienceDraftUpsell","AdsDynamicAudienceEventRestriction","AdsDynamicTargetingCategories","AdsPixelConversionStandardEvents","AdsUEditorHostIDs","CatalogVertical","DateConsts","DynamicAdsContentTypes$FbtEnum","DynamicAdsContentTypesCapitalized$FbtEnum","DynamicAdsVerticalToContentType","DynamicContentTypeToCatalogVertical","ExternalEventSourceTypes","SupportedEventsForContentType","adsDynamicCampaignHasUpsellDynamicAudience","immutable","intlList","isEmpty","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=180*b("DateConsts").SEC_PER_DAY,j=30,k=j*b("DateConsts").SEC_PER_DAY,l={getDefaultRetentionDays:function(){return j},getNewBookingWindow:function(){return new(b("AdsDynamicAudienceDraftBookingWindow"))({enabled:!1,min_seconds:0,max_seconds:k})},_getNewDraftBase:function(a,c,d,e,f){var g=l.getNewBookingWindow();return new(b("AdsDynamicAudienceDraft"))({booking_window:g,event_source_group_creation_in_progress:!1,event_source_group_id:null,event_sources:a,exclusions:c,inclusions:d,is_excluded_dynamic_audience:e,restrict_to_set_id:null,state:b("AdsDynamicAudienceDraftSaveState").UNPUBLISHED,preconfigured_options:{preset_type:f,upsell:l.getDefaultUpsell()}})},getBaseEvent:function(a){return new(b("AdsDynamicAudienceDraftEvent"))({content_type:l.getDefaultContentTypeForVertical(a),event_type:"Purchase",min_event_count:1,restriction_type:b("AdsDynamicAudienceEventRestriction").IN_THE_PAST,max_seconds:k,min_seconds:0})},getNewDraft:function(a,c){var d=l.getBaseEvent(a),e=l.getDefaultExclusions(a,d);d=l.getDefaultInclusions(a,d);return l._getNewDraftBase(c,e,d,!1,l.getDefaultPreset(a,b("AdsDynamicTargetingCategories").RETARGETING))},isTravelVertical:function(a){return a===b("CatalogVertical").FLIGHTS||a===b("CatalogVertical").HOTELS||a===b("CatalogVertical").DESTINATIONS},isAutoVertical:function(a){return a===b("CatalogVertical").VEHICLE_OFFERS||a===b("CatalogVertical").VEHICLES||a===b("CatalogVertical").AUTOMOTIVE_MODELS},getDefaultPreset:function(a,c,d,e){if(c===b("AdsDynamicTargetingCategories").PROSPECTING){if(d!==b("AdsAPIObjectives").PRODUCT_CATALOG_SALES||e!==b("AdsUEditorHostIDs").CREATION)return"EMPTY_AUDIENCE";if(l.isTravelVertical(a))return"PURCHASED_AUDIENCE";if(l.isAutoVertical(a))return"CUSTOM_AUDIENCE"}return"CUSTOM_AUDIENCE"},getNewExclusionDraft:function(a,c,d,e){var f=l.getBaseEvent(a);f=l.getDefaultExclusions(a,f);return l._getNewDraftBase(c,b("immutable").List(),f,!0,l.getDefaultPreset(a,b("AdsDynamicTargetingCategories").PROSPECTING,d,e))},getNewEmptyDraft:function(a){return l._getNewDraftBase(a,b("immutable").List(),b("immutable").List(),!0,"EMPTY_AUDIENCE")},getDefaultInclusions:function(a,c){switch(a){case b("CatalogVertical").VEHICLES:return b("immutable").List([c.set("event_type","Search"),c.set("event_type","ViewContent"),c.set("event_type","AddToWishlist")]);case b("CatalogVertical").DESTINATIONS:case b("CatalogVertical").FLIGHTS:case b("CatalogVertical").HOTELS:return b("immutable").List([c.set("event_type","Search"),c.set("event_type","ViewContent")]);default:return b("immutable").List()}},getRetargetingExclusions:function(a,c){switch(a){case b("CatalogVertical").MEDIA_TITLES:return b("immutable").List();case b("CatalogVertical").VEHICLES:case b("CatalogVertical").VEHICLE_OFFERS:return b("immutable").List([c.set("event_type","Lead")]);case b("CatalogVertical").DESTINATIONS:case b("CatalogVertical").FLIGHTS:case b("CatalogVertical").HOTELS:return b("immutable").List([c.set("event_type","Purchase"),c.set("event_type","ViewContent"),c.set("event_type","Search"),c.set("event_type","InitiateCheckout")]);default:return b("immutable").List()}},getDefaultExclusions:function(a,c){switch(a){case b("CatalogVertical").MEDIA_TITLES:return b("immutable").List();case b("CatalogVertical").VEHICLES:case b("CatalogVertical").VEHICLE_OFFERS:return b("immutable").List([c.set("event_type","Lead")]);case b("CatalogVertical").DESTINATIONS:case b("CatalogVertical").FLIGHTS:case b("CatalogVertical").HOTELS:return b("immutable").List([c.set("event_type","Purchase")]);default:return b("immutable").List()}},getDefaultUpsell:function(){return new(b("AdsDynamicAudienceDraftUpsell"))({enabled:!1,max_seconds:k})},getContentType:function(a){return b("DynamicAdsVerticalToContentType")[a]},getContentTypes:function(a){switch(a){case b("CatalogVertical").AUTOMOTIVE_MODELS:return["automotive_model"];case b("CatalogVertical").DESTINATIONS:case b("CatalogVertical").FLIGHTS:case b("CatalogVertical").HOTELS:return["hotel","flight","destination"];case b("CatalogVertical").HOME_LISTINGS:return["home_listing"];case b("CatalogVertical").VEHICLES:return["vehicle"];case b("CatalogVertical").VEHICLE_OFFERS:return["vehicle_offer"];case b("CatalogVertical").MEDIA_TITLES:return["media_title"];default:return[]}},getEventTypes:function(a){return b("SupportedEventsForContentType")[a]},getNextEventType:function(a,b){var c=l.getEventTypes(b),d=a.inclusions.concat(a.exclusions).filter(function(a){return a.content_type===b}).map(function(a){return a.event_type});a=c.filter(function(a){return!d.contains(a)});return a.length===0?c[0]:a[0]},getDefaultContentTypeForVertical:function(a){if(!Object.prototype.hasOwnProperty.call(b("DynamicAdsVerticalToContentType"),a))throw b("unrecoverableViolation")("vertical %s does not have an associated content type","dpa");return b("DynamicAdsVerticalToContentType")[a]},getVerticalForDynamicAdsContentType:function(a){return b("DynamicContentTypeToCatalogVertical")[a]},getNextEvent:function(a,c){a=l._getUnusedEventTuples(a,c);return a.length===0?null:new(b("AdsDynamicAudienceDraftEvent"))({content_type:a[0].contentType,event_type:a[0].eventType,min_event_count:1,restriction_type:b("AdsDynamicAudienceEventRestriction").IN_THE_PAST,max_seconds:k,min_seconds:0})},canAddEvent:function(a,b){return l._getUnusedEventTuples(a,b).length>0},_getUnusedEventTuples:function(a,b){var c=[];b=l.getContentTypes(b);var d=function(){if(f){if(g>=e.length)return"break";h=e[g++]}else{g=e.next();if(g.done)return"break";h=g.value}var b=h,d=a.filter(function(a){return a.content_type===b}).map(function(a){return a.event_type});l.getEventTypes(b).filter(function(a){return!d.includes(a)}).forEach(function(a){return c.push({contentType:b,eventType:a})})};for(var e=b,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;b=d();if(b==="break")break}return c},generateName:function(a,c){a=g._({"automotive_model":"Automotive Model events from event source {event source ids}","destination":"Destination events from event source {event source ids}","flight":"Flight events from event source {event source ids}","home_listing":"Home Listing events from event source {event source ids}","hotel":"Hotel events from event source {event source ids}","media_title":"Media Title events from event source {event source ids}","vehicle_offer":"Vehicle Offer events from event source {event source ids}","vehicle":"Vehicle events from event source {event source ids}"},[g._enum(a,b("DynamicAdsContentTypesCapitalized$FbtEnum")),g._param("event source ids",c)]);return a.toString()},generateDescription:function(a,c,d,e,f){e=b("intlList")(e.map(function(a){return b("AdsPixelConversionStandardEvents")[a.event_type].name}));f=b("intlList")(f.map(function(a){return b("AdsPixelConversionStandardEvents")[a.event_type].name}));var h=Math.round(a.min_seconds/b("DateConsts").SEC_PER_DAY),i=Math.round(a.max_seconds/b("DateConsts").SEC_PER_DAY),j;!f&&!a.enabled?j=g._({"automotive_model":"People with automotive model events from event source {event source ids} including {list of inclusion events}","destination":"People with destination events from event source {event source ids} including {list of inclusion events}","flight":"People with flight events from event source {event source ids} including {list of inclusion events}","home_listing":"People with home listing events from event source {event source ids} including {list of inclusion events}","hotel":"People with hotel events from event source {event source ids} including {list of inclusion events}","media_title":"People with media title events from event source {event source ids} including {list of inclusion events}","vehicle_offer":"People with vehicle offer events from event source {event source ids} including {list of inclusion events}","vehicle":"People with vehicle events from event source {event source ids} including {list of inclusion events}"},[g._enum(c,b("DynamicAdsContentTypes$FbtEnum")),g._param("event source ids",d),g._param("list of inclusion events",e)]):f&&!a.enabled?j=g._({"automotive_model":"People with automotive model events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}","destination":"People with destination events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}","flight":"People with flight events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}","home_listing":"People with home listing events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}","hotel":"People with hotel events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}","media_title":"People with media title events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}","vehicle_offer":"People with vehicle offer events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}","vehicle":"People with vehicle events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}"},[g._enum(c,b("DynamicAdsContentTypes$FbtEnum")),g._param("event source ids",d),g._param("list of inclusion events",e),g._param("list of exclusion events",f)]):!f&&a.enabled?j=g._({"automotive_model":"People with automotive model events from event source {event source ids} including {list of inclusion events}, in a booking window of {start day} to {end day} days","destination":"People with destination events from event source {event source ids} including {list of inclusion events}, in a booking window of {start day} to {end day} days","flight":"People with flight events from event source {event source ids} including {list of inclusion events}, in a booking window of {start day} to {end day} days","home_listing":"People with home listing events from event source {event source ids} including {list of inclusion events}, in a booking window of {start day} to {end day} days","hotel":"People with hotel events from event source {event source ids} including {list of inclusion events}, in a booking window of {start day} to {end day} days","media_title":"People with media title events from event source {event source ids} including {list of inclusion events}, in a booking window of {start day} to {end day} days","vehicle_offer":"People with vehicle offer events from event source {event source ids} including {list of inclusion events}, in a booking window of {start day} to {end day} days","vehicle":"People with vehicle events from event source {event source ids} including {list of inclusion events}, in a booking window of {start day} to {end day} days"},[g._enum(c,b("DynamicAdsContentTypes$FbtEnum")),g._param("event source ids",d),g._param("list of inclusion events",e),g._param("start day",h),g._param("end day",i)]):f&&a.enabled&&(j=g._({"automotive_model":"People with automotive model events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}, in a booking window of {start day} to {end day} days","destination":"People with destination events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}, in a booking window of {start day} to {end day} days","flight":"People with flight events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}, in a booking window of {start day} to {end day} days","home_listing":"People with home listing events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}, in a booking window of {start day} to {end day} days","hotel":"People with hotel events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}, in a booking window of {start day} to {end day} days","media_title":"People with media title events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}, in a booking window of {start day} to {end day} days","vehicle_offer":"People with vehicle offer events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}, in a booking window of {start day} to {end day} days","vehicle":"People with vehicle events from event source {event source ids} including {list of inclusion events}, excluding {list of exclusion events}, in a booking window of {start day} to {end day} days"},[g._enum(c,b("DynamicAdsContentTypes$FbtEnum")),g._param("event source ids",d),g._param("list of inclusion events",e),g._param("list of exclusion events",f),g._param("start day",h),g._param("end day",i)]));if(!j)throw b("unrecoverableViolation")("intl_string should never be empy at this point","dpa");return j.toString()},clipRetention:function(a){return Math.min(i,Math.max(0,a))},isValidDraft:function(a){if(!a.event_source_group_id&&(!a.event_sources||a.event_sources.isEmpty()))return!1;var b=function(a){return!l.getEventTypes(a.content_type).includes(a.event_type)};return a.inclusions.isEmpty()||a.inclusions.some(b)||a.exclusions.some(b)?!1:!0},requiresSetRestriction:function(a){return a===b("CatalogVertical").FLIGHTS},maybeTranformUpsellToPurchaseInclusion:function(a,c){if(!b("adsDynamicCampaignHasUpsellDynamicAudience")(c))return a;if(!a.preconfigured_options.upsell.enabled)return a;var d=a.preconfigured_options.upsell;return a.merge({exclusions:b("immutable").List(),inclusions:b("immutable").List([new(b("AdsDynamicAudienceDraftEvent"))({content_type:l.getDefaultContentTypeForVertical(c),event_type:"Purchase",min_event_count:1,restriction_type:b("AdsDynamicAudienceEventRestriction").IN_THE_PAST,max_seconds:d.max_seconds,min_seconds:0})])})},maybeTranformPurchaseInclusionToUpsell:function(a,c,d){return!d&&c.count()===0&&a.count()===1&&a.first().event_type==="Purchase"?new(b("AdsDynamicAudienceDraftUpsell"))({enabled:!0,max_seconds:a.first().max_seconds}):l.getDefaultUpsell()},creationParamsEligibleForPurchaseUpsell:function(a){if(!a)return!1;a=JSON.parse(a);var b=a.inclusions;a=a.content_type;if(!b||a!=="flight")return!1;typeof b==="string"&&(b=JSON.parse(b));if(!Array.isArray(b))return!1;return!b.every(function(a){return a.event==="Purchase"})?!1:!0},mutateEach:function(a,b,c){return a.withMutations(function(a){return b.forEach(function(b){return a.update(b,c)})})},mutateEachInList:function(a,b,c,d,e){var f=d;return f==null?l.mutateEach(a,b,function(a){return!a?null:a.update(c?"inclusions":"exclusions",function(b){return b.map(function(b){return e(b,a)})})}):l.mutateEach(a,b,function(a){return!a?null:a.update(c?"inclusions":"exclusions",function(b){return b.update(f,function(b){return e(b,a)})})})},unpublishIfChanged:function(a,c,d){return c===a?c:c.withMutations(function(d){for(var e=a.keys(),f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;if(b("immutable").is(c.get(h),a.get(h)))continue;d.update(h,function(a){return!a?null:a.set("state",b("AdsDynamicAudienceDraftSaveState").UNPUBLISHED)})}})},setEventSourcesOnDynamicAudienceDraft:function(a,c){var d=c.ids,e=c.eventSources;c=c.setNameOnly;if(e!=null)if(c===!0)return l.mutateEach(a,d,function(a){if(!a)return null;var c=a.get("event_sources");if(c==null)return a.set("event_sources",e);var d=[];c.forEach(function(a){var c=a;(h||(h=b("isEmpty")))(a.name)&&(c=e.find(function(b){return b.id===a.id},null,a));d.push(c)});return a.set("event_sources",b("immutable").List(d))});else{c=l.mutateEach(a,d,function(a){return!a?null:a.set("event_sources",e)});return l.unpublishIfChanged(a,c,d)}return a},updatePageEventSourcesOnDynamicAudienceDraft:function(a,c){var d=c.ids,e=c.eventSources;c=c.setNameOnly;if(e!=null&&!c){c=l.mutateEach(a,d,function(a){var c;if(!a||!e)return null;c=(c=a.get("event_sources"))==null?void 0:c.filterNot(function(a){return a.source_type===b("ExternalEventSourceTypes").PAGE});return c?a.set("event_sources",e.concat(c)):a.set("event_sources",e)});return l.unpublishIfChanged(a,c,d)}return a}};e.exports=l}),null);
__d("adsCallToActionFilterTypesForCatalogVertical",["AdsCallToActionTypesCond","AdsDynamicAudienceUtils"],(function(a,b,c,d,e,f){"use strict";function a(a,c){b("AdsDynamicAudienceUtils").isAutoVertical(c)||(a=a.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.BOOK_TEST_DRIVE.name&&a.name!==b("AdsCallToActionTypesCond").TYPES.CHECK_AVAILABILITY.name}));return a}e.exports=a}),null);
__d("adsCallToActionFilterTypesForConversionsObjective",["AdsCallToActionTypesCond"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return a.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.GET_DIRECTIONS.name})}e.exports=a}),null);
__d("adsCallToActionFilterTypesForInstantCheckout",["AdsAccountStore","AdsCallToActionTypesCond","adsAccountGK"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("adsAccountGK")._(b("AdsAccountStore").getSelectedAccount().getValue(),"2iQy7Bo2E")?a.filter(function(a){return a.name===b("AdsCallToActionTypesCond").TYPES.SHOP_NOW.name||a.name===b("AdsCallToActionTypesCond").TYPES.SUBSCRIBE.name}):a.filter(function(a){return a.name===b("AdsCallToActionTypesCond").TYPES.SHOP_NOW.name})}e.exports=a}),null);
__d("adsCallToActionFilterTypesForLeadFormAds",["AdsAPIObjectives","AdsCallToActionTypesUtils"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("AdsCallToActionTypesUtils").typesForObjective(b("AdsAPIObjectives").LEAD_GENERATION,null).map(function(a){return a.name});return a.filter(function(a){return c.includes(a.name)})}e.exports=a}),null);
__d("adsCallToActionFilterTypesForMessagesObjective",["AdsAccountUtils","AdsCallToActionTypesCond","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){a=a;if(d===b("AdsPromotedObjectTypes").WHATSAPP)return a.filter(function(a){return a.name===b("AdsCallToActionTypesCond").TYPES.WHATSAPP_MESSAGE.name});if(d===b("AdsPromotedObjectTypes").INSTAGRAM)return a.filter(function(a){return a.name===b("AdsCallToActionTypesCond").TYPES.INSTAGRAM_MESSAGE.name});a=a.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.INSTAGRAM_MESSAGE.name});!b("AdsAccountUtils").hasCapabilityFromList(c,"CTM_ADS_PARTIAL_AUTOMATED_CREATION_BETA")&&!b("AdsAccountUtils").hasCapabilityFromList(c,"CTM_ADS_CALL_TO_ACTION_GET_OFFER")&&(a=a.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.GET_OFFER.name}));a=a.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.PRE_REGISTER.name});return a.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.WHATSAPP_MESSAGE.name})}e.exports=a}),null);
__d("adsCallToActionFilterTypesForMessengerDestinationAds",["AdsCallToActionTypesCond"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e=[(c=b("AdsCallToActionTypesCond")).TYPES.DOWNLOAD.name,c.TYPES.GET_SHOWTIMES.name,c.TYPES.LISTEN_NOW.name,c.TYPES.REQUEST_TIME.name,c.TYPES.SEE_MENU.name,c.TYPES.WATCH_MORE.name];return a.filter(function(a){return!e.includes(a.name)||a.name===d})}e.exports=a}),null);
__d("adsCallToActionFilterTypesForStoreVisitsObjective",["AdsCallToActionTypesCond","AdsUnifiedCreativeAPIFields","gkx"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){a=a;if(d.isDynamicProductCarouselAd(c)){var f=[b("AdsCallToActionTypesCond").TYPES.CALL_NOW.name,b("AdsCallToActionTypesCond").TYPES.GET_DIRECTIONS.name];a=a.filter(function(a){return!f.includes(a.name)});b("gkx")("1446158")||(a=a.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name}))}c=b("AdsUnifiedCreativeAPIFields").callToActionType.getValue(c,d);(!b("gkx")("1385250")||e)&&(c!==b("AdsCallToActionTypesCond").TYPES.CALL_NOW.name&&(a=a.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.CALL_NOW.name})));(!b("gkx")("1385253")||e)&&(c!==b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name&&(a=a.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name})));return a}e.exports=a}),null);
__d("adsCallToActionFilterTypesForVideoViewObjective",["AdsAccountUtils","AdsCallToActionTypesCond"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=b("AdsAccountUtils").hasCapabilityFromList(c,"CAN_USE_FB_MOVIE_INTERESTED_CTA_IN_ADS"),e=b("AdsAccountUtils").hasCapabilityFromList(c,"CTW_ADS_FOR_NON_MESSAGES_OBJECTIVE");return a.filter(function(a){return(a.name!==b("AdsCallToActionTypesCond").TYPES.INTERESTED.name||d)&&(a.name!==b("AdsCallToActionTypesCond").TYPES.WHATSAPP_MESSAGE.name||e)})}e.exports=a}),null);
__d("adsCallToActionFilterTypesIfAssetFeedAd",["AdsAssetFeedUtils","AdsDynamicAdsUtils","NonURLLinkCTATypes"],(function(a,b,c,d,e,f){"use strict";function a(a,c){if(b("AdsAssetFeedUtils").isAdgroupUsingNonDofAssetFeedSpec(a)){var d=Object.keys(b("NonURLLinkCTATypes"));(b("AdsAssetFeedUtils").hasPlacementCustomizationFromRecord(a)||b("AdsDynamicAdsUtils").isDynamicAd(a))&&(d=d.filter(function(a){return a!=="MESSAGE_PAGE"}));c=c.filter(function(a){return a&&a.name&&!d.includes(a.name)})}return c}e.exports=a}),null);
__d("adsCallToActionGetAdgroupLinkURL",["AdsAPIAdAssetFeedLinkURLsFields","AdsAssetFeedFieldUtils","AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("AdsAssetFeedFieldUtils").firstAsset_TALK_WITH_ACE_BEFORE_USE(b("AdsUnifiedCreativeAPIFields").linkURL.getValue(a,c),b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL)}e.exports=a}),null);
__d("adsCallToActionGetTypesForAdgroup",["AdsAccountStore","AdsAccountUtils","AdsAPIAdgroupRecordUtils","AdsAPIObjectives","AdsBuyingTypes","AdsCallToActionTypesCond","AdsCallToActionTypesUtils","AdsInstantCheckoutUtils","AdsLeadGenAdGroupUtils","AdsOfferState","AdsPromotedObjectTypes","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUEditorCampaignAdObjectsUtils","AdsUEditorCampaignGroupAdObjectsUtils","AdsWebsiteAdUtils","adsAccountGK","adsCallToActionFilterTypesByAdgroupMediaFormat","adsCallToActionFilterTypesByDynamicAdVoice","adsCallToActionFilterTypesByOfferSupport","adsCallToActionFilterTypesForCatalogVertical","adsCallToActionFilterTypesForConversionsObjective","adsCallToActionFilterTypesForInstantCheckout","adsCallToActionFilterTypesForLeadFormAds","adsCallToActionFilterTypesForMessagesObjective","adsCallToActionFilterTypesForMessengerDestinationAds","adsCallToActionFilterTypesForStoreVisitsObjective","adsCallToActionFilterTypesForVideoViewObjective","adsCallToActionFilterTypesIfAssetFeedAd","adsCallToActionGetAdgroupLinkURL","adsCampaignGetOfferStateType","gkx"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){f===void 0&&(f=!1);g===void 0&&(g=!1);var h=a.adgroup,i=a.campaign,j=a.campaignGroup,k=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin(a),l=b("AdsUEditorCampaignGroupAdObjectsUtils").getObjective(a);a=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType(a);var m=b("adsCallToActionGetAdgroupLinkURL")(h,k);m=b("AdsCallToActionTypesUtils").typesForObjective(l,a,m);m=m.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.BOOK_TEST_DRIVE.name&&a.name!==b("AdsCallToActionTypesCond").TYPES.CHECK_AVAILABILITY.name});m=b("adsCallToActionFilterTypesForCatalogVertical")(m,d);m=b("adsCallToActionFilterTypesByAdgroupMediaFormat")(m,l,h);l===b("AdsAPIObjectives").CONVERSIONS&&(m=b("adsCallToActionFilterTypesForConversionsObjective")(m,a));l===b("AdsAPIObjectives").MESSAGES&&(m=b("adsCallToActionFilterTypesForMessagesObjective")(m,c,a));l===b("AdsAPIObjectives").STORE_VISITS&&(m=b("adsCallToActionFilterTypesForStoreVisitsObjective")(m,h,k,g));l===b("AdsAPIObjectives").VIDEO_VIEWS&&(m=b("adsCallToActionFilterTypesForVideoViewObjective")(m,c));if(a===b("AdsPromotedObjectTypes").MESSENGER){d=b("AdsAPIAdgroupRecordUtils").getCallToActionType(h,k);m=b("adsCallToActionFilterTypesForMessengerDestinationAds")(m,c,d)}if(b("AdsWebsiteAdUtils").isWebsiteObjective(l,a)){g=b("AdsAPIAdgroupRecordUtils").getCallToActionType(h,k);g!==b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name&&(m=m.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name}))}(!b("AdsWebsiteAdUtils").isWebsiteConversionsObjective(l,a)||!b("AdsAccountUtils").hasCapabilityFromList(c,"CAN_CREATE_DONATE_CTA"))&&(m=m.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.DONATE.name}));l!==b("AdsAPIObjectives").LEAD_GENERATION&&b("AdsLeadGenAdGroupUtils").isLeadGenFormEnabled(h,k)&&(m=b("adsCallToActionFilterTypesForLeadFormAds")(m));f||(m=b("adsCallToActionFilterTypesIfAssetFeedAd")(h,m));b("AdsInstantCheckoutUtils").isInstantCheckoutEnabled(j,i)&&(m=b("adsCallToActionFilterTypesForInstantCheckout")(m));g=(d=h.creative)==null?void 0:d.dynamic_ad_voice;m=b("adsCallToActionFilterTypesByDynamicAdVoice")(m,[l],[g]);k=b("adsCampaignGetOfferStateType")(i)===b("AdsOfferState").HAS_OFFER;m=b("adsCallToActionFilterTypesByOfferSupport")(m,[l],[k]);if(b("AdsAccountUtils").hasCapabilityFromList(c,"CAN_USE_MOVIE_ADS")&&((f=h.creative)==null?void 0:(j=f.object_story_spec)==null?void 0:(d=j.video_data)==null?void 0:(g=d.call_to_action)==null?void 0:(i=g.value)==null?void 0:i.movie_id)!=null)switch(l){case b("AdsAPIObjectives").CONVERSIONS:case b("AdsAPIObjectives").LINK_CLICKS:m=m.filter(function(a){return a.name===b("AdsCallToActionTypesCond").TYPES.GET_SHOWTIMES.name});break;case b("AdsAPIObjectives").VIDEO_VIEWS:m=m.filter(function(a){return a.name===b("AdsCallToActionTypesCond").TYPES.GET_SHOWTIMES.name||a.name===b("AdsCallToActionTypesCond").TYPES.INTERESTED.name});break;default:break}var n=b("AdsAccountUtils").hasCapabilityFromList(c,"CAN_USE_DIAL_CODE_CTA"),o=b("AdsAccountUtils").hasCapabilityFromList(c,"CTW_ADS_FOR_NON_MESSAGES_OBJECTIVE");switch(l){case b("AdsAPIObjectives").POST_ENGAGEMENT:case b("AdsAPIObjectives").BRAND_AWARENESS:m=m.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.WHATSAPP_MESSAGE.name||o});break;case b("AdsAPIObjectives").REACH:m=m.filter(function(a){return(a.name!==b("AdsCallToActionTypesCond").TYPES.DIAL_CODE.name||n)&&(a.name!==b("AdsCallToActionTypesCond").TYPES.WHATSAPP_MESSAGE.name||o)});break;default:break}e===b("AdsBuyingTypes").RESERVED&&(m=m.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name&&a.name!==b("AdsCallToActionTypesCond").TYPES.WHATSAPP_MESSAGE.name}));a===b("AdsPromotedObjectTypes").PRODUCT_SET&&(!b("gkx")("910918")&&!b("adsAccountGK")._(b("AdsAccountStore").getSelectedAccount().getValue(),"4bkjBjLNd")&&(m=m.filter(function(a){return a.name!==b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name})));return m}e.exports=a}),null);
__d("AdsAdgroupCallToActionTypePrefiller",["AdsAccountStore","AdsAdgroupPrefillerUtils","AdsUnifiedCreativeAPIFields","adsCallToActionGetTypesForAdgroup","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("AdsAccountStore").getSelectedAccount],function(a){return{accountCapabilities:(a=a.getValue())==null?void 0:a.capabilities}},{name:e.id+".selector"});c={key:"cta_type",genExtraDataSelector:a,genPaths:function(a,c){var d=b("AdsAdgroupPrefillerUtils").genPathsForUnifiedField(a,b("AdsUnifiedCreativeAPIFields").callToActionType),e=d.current;d=d.original;if(!e||!d)return[];c=c&&c.accountCapabilities!=null?c.accountCapabilities:[];c=b("adsCallToActionGetTypesForAdgroup")(a.current,c);var f=a.original.adgroup.getIn(d);return c.find(function(a){return a.name===f})?[{current:e,original:d}]:[]}};e.exports=c}),null);
__d("AdsAdgroupCallToActionValuePrefiller",["AdsAdgroupPrefillerUtils","AdsUnifiedCreativeAPIFields","CallToActionValueFields","compactArray","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").Set(["app_destination"]),h=Object.keys(b("CallToActionValueFields")).map(function(a){return b("CallToActionValueFields")[a]}).filter(function(a){return!g.has(a)});a={key:"CTA_value",genPaths:function(a){return b("compactArray")(h.map(function(b){return i(a,b)}))}};function i(a,c){var d=b("AdsAdgroupPrefillerUtils").genPathsForUnifiedField(a,b("AdsUnifiedCreativeAPIFields").callToActionValue,[c]),e=d.current;d=d.original;if(!e||!d)return null;var f=b("AdsAdgroupPrefillerUtils").genAdgroupCreativePlugins(a);f=f.current.getSupportedCallToActiveValueFields();return a.original.adgroup.getIn(d)&&f.has(c)?{current:e,original:d}:null}e.exports=a}),null);
__d("AdsAdgroupChildAttachmentsPrefiller",["AdsAdgroupChildAttachmentsFields","AdsAdgroupPrefillerUtils","AdsAPIAdgroupRecordUtils","AdsAPIObjectives","AdsDestinationUtils","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","compactArray","flattenArray","immutable"],(function(a,b,c,d,e,f){"use strict";var g=Object.keys(a=b("AdsAdgroupChildAttachmentsFields")).map(function(a){return b("AdsAdgroupChildAttachmentsFields")[a]}),h=b("immutable").Set([a.callToActionValue,a.linkURL]),i=b("immutable").Set([a.callToActionValue,a.linkURL]);c={key:"childAttachments",genPaths:function(a){var c=b("AdsAdgroupPrefillerUtils").genPathsForUnifiedField(a,b("AdsUnifiedCreativeAPIFields").childAttachments),d=c.current;c=c.original;if(!d||!c)return[];c=a.original.adgroup.getIn(c);d=a.current.adgroup.getIn(d);if(!c||!c.size||!d||!d.size)return[];c=Math.min(c.size,d.size);return b("compactArray")(b("flattenArray")(Array(c).fill().map(function(b,c){return j(a,c)})))}};function j(a,b){var c=g.filter(function(b){return k(b,a)}).filter(function(b){return l(b,a)});return c.map(function(c){c=m(a,c,b);var d=c.current;c=c.original;return d&&c&&a.original.adgroup.getIn(d)?{current:d,original:c}:null})}function k(a,c){if(b("AdsAPIAdgroupRecordUtils").isMessengerDestinationAd(c.original.adgroup)){if(!b("AdsDestinationUtils").isMessengerDestinationCapable(c.current.campaignGroup.objective,c.current.campaign))return!h.has(a)}else if(c.current.campaignGroup.objective===b("AdsAPIObjectives").MESSAGES)return!h.has(a);return!0}function l(a,c){return c.original.campaignGroup.objective===b("AdsAPIObjectives").LEAD_GENERATION&&c.current.campaignGroup.objective!==b("AdsAPIObjectives").LEAD_GENERATION?!i.has(a):!0}function m(a,c,d){var e=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin(a.current),f=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin(a.original);e=c.get(a.current.adgroup,e,d);c=c.get(a.original.adgroup,f,d);return{current:e.supported?e.path:null,original:c.supported?c.path:null}}e.exports=c}),null);
__d("AdsAdgroupDestinationPrefiller",["AdCampaignDestination","AdsAdgroupPrefillerUtils","AdsAPIObjectives","AdsDestinationUtils","AdsUnifiedCreativeAPIFields","compactArray"],(function(a,b,c,d,e,f){"use strict";a={key:"destination",genPaths:function(a){var c=b("AdsAdgroupPrefillerUtils").genPathsForUnifiedField(a,b("AdsUnifiedCreativeAPIFields").linkURL);if(g(a))return[];var d=b("AdsAdgroupPrefillerUtils").genPathsForUnifiedField(a,b("AdsUnifiedCreativeAPIFields").callToActionValue,["app_destination"]),e=b("AdsAdgroupPrefillerUtils").genPathsForUnifiedField(a,b("AdsUnifiedCreativeAPIFields").pageWelcomeMessage);if(i(a,d)||h(a))return i(a,d)&&b("AdsDestinationUtils").isMessengerDestinationCapable(a.current.campaignGroup.objective,a.current.campaign)?j([c,d,e]):[];else if(a.current.campaignGroup.objective===b("AdsAPIObjectives").MESSAGES)return[];return j([c])}};function g(a){a=b("AdsAdgroupPrefillerUtils").genAdgroupCreativePlugins(a);a=a.current;return a.supportsLandingView()}function h(a){return((a=a.original.campaign)==null?void 0:a.destination_type)===b("AdCampaignDestination").MESSENGER}function i(a,b){var c=b.current;b=b.original;return!!c&&!!b&&a.original.adgroup.getIn(b)==="MESSENGER"}function j(a){return b("compactArray")(a.map(function(a){var b=a.current;a=a.original;return b&&a?{current:b,original:a}:null}))}e.exports=a}),null);
__d("AdsImageSpecsForAdgroupUtils",["AdImageSpecsUtils","AdImageSpecsUtilsV2","AdsBrandAwarenessUtils","AdsPlacementAPISpecReaderUtils","adsGetCreativeTypeByCreativeFields"],(function(a,b,c,d,e,f){"use strict";a={getImageSpecsForAdgroup:function(a,c){var d;d=b("adsGetCreativeTypeByCreativeFields")((d=a.creative)==null?void 0:d.object_type);c=b("AdsPlacementAPISpecReaderUtils").convertCampaignRecordToPlacementSpec(c);c=b("AdImageSpecsUtilsV2").getCropImageSpecsForAdTypeV2(d,[c]);d=b("AdImageSpecsUtils").getDisabledCropImageSpecsForAdType(c,d,b("AdsBrandAwarenessUtils").isWebsiteLinkEnabled(a.toJS()));return{imageSpecs:c,disabledSpecs:d}}};e.exports=a}),null);
__d("AdsAdgroupImageCropsPrefiller",["AdsAdgroupPrefillerUtils","AdsImageSpecsForAdgroupUtils","AdsUnifiedCreativeAPIFields","immutable"],(function(a,b,c,d,e,f){"use strict";a={key:"imageCrops",genPaths:function(a){var c=b("AdsAdgroupPrefillerUtils").genPathsForUnifiedField(a,b("AdsUnifiedCreativeAPIFields").imageCrops),d=c.current;c=c.original;if(!d||!c)return[];var e=a.original.adgroup.getIn(c);a=b("AdsImageSpecsForAdgroupUtils").getImageSpecsForAdgroup(a.current.adgroup,a.current.campaign);var f=a.imageSpecs;a=a.disabledSpecs;var g=b("immutable").Set(f.map(function(a){return a.cropKey})),h=b("immutable").Set(a.map(function(a){return a.cropKey}));return e&&Array.from(e.keys()).every(function(a){return g.has(a)&&!h.has(a)})?[{current:d,original:c}]:[]}};e.exports=a}),null);
__d("AdsAdgroupOfferIDPrefiller",["AdsAdgroupPrefillerUtils","AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){"use strict";a={key:"offerID",genPaths:function(a){var c=b("AdsAdgroupPrefillerUtils").genPathsForUnifiedField(a,b("AdsUnifiedCreativeAPIFields").offerID),d=c.current;c=c.original;if(!d||!c)return[];var e=a.original.adgroup.getIn(c);a=(a=a.current.campaign.promoted_object)==null?void 0:a.offer_id;return e&&e===a?[{current:d,original:c}]:[]}};e.exports=a}),null);
__d("AdsAdgroupPageActorOverridePrefiller",["AdsAPIAdgroupPaths","AdsAPICampaignRecordUtils","AdsAppUtils"],(function(a,b,c,d,e,f){"use strict";a={key:"page_actor_override",genPaths:function(a){var c;if(!((c=a.original.adgroup.creative)==null?void 0:c.use_page_actor_override))return[];c=a.current.campaignGroup.objective;a=b("AdsAPICampaignRecordUtils").getPromotedObjectType(c,a.current.campaign);return b("AdsAppUtils").isAppObjective(c,a)?[{current:b("AdsAPIAdgroupPaths").CREATIVE.USE_PAGE_ACTOR_OVERRIDE,original:b("AdsAPIAdgroupPaths").CREATIVE.USE_PAGE_ACTOR_OVERRIDE}]:[]}};e.exports=a}),null);
__d("AdsAdgroupInstagramActorIDPrefillUtils",["AdsAdgroupPrefillerUtils","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAPIInstagramPosition","AdsPlacementAPISpecReaderUtils","AdsUnifiedCreativeAPIFields","objectValues"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("AdsAdgroupPrefillerUtils").genPathsForUnifiedField(a,b("AdsUnifiedCreativeAPIFields").instagramActorID),d=c.current;c=c.original;var e=b("AdsPlacementAPISpecReaderUtils").convertCampaignRecordToPlacementSpec(a.current.campaign),f=b("objectValues")(b("AdsAPIInstagramPosition"));return!d||!c||!f.some(function(a){return b("AdsPlacementAPISpecReaderUtils").isActiveInstagramPosition(e,a)})?[]:b("AdsAPIAdgroupRecordUtils").isExistingPostAd(a.original.adgroup)?[{current:b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_ACTOR_ID,original:b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_ACTOR_ID}]:[{current:d,original:c}]}e.exports={genPaths:a}}),null);
__d("AdsAdgroupPageIDAndInstagramActorIDPrefiller",["AdsAdgroupInstagramActorIDPrefillUtils","AdsAdgroupPrefillerUtils","AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){"use strict";a={key:"pageID_instagramActorID",genPaths:function(a){var c=b("AdsAdgroupPrefillerUtils").genPathsForUnifiedField(a,b("AdsUnifiedCreativeAPIFields").pageID),d=c.current;c=c.original;var e=d&&c?[{current:d,original:c}]:[];d=d&&c?a.original.adgroup.getIn(c):null;return d?[].concat(e,b("AdsAdgroupInstagramActorIDPrefillUtils").genPaths(a)):[].concat(e)}};e.exports=a}),null);
__d("AdsAdgroupPlatformCustomizationsPrefiller",["AdsAPIAdgroupPaths","AdsImageSpecsForAdgroupUtils","ApiAdPageTypeToPlatformMap","immutable"],(function(a,b,c,d,e,f){"use strict";a={key:"platform",genPaths:function(a){var c=b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,d=a.original.adgroup.getIn(c);a=b("AdsImageSpecsForAdgroupUtils").getImageSpecsForAdgroup(a.current.adgroup,a.current.campaign);a=a.imageSpecs;a=b("immutable").Set(a.map(function(a){return a.placement}));var e=a.filter(Boolean).map(function(a){return b("ApiAdPageTypeToPlatformMap")[a]});return d&&Array.from(d.keys()).every(function(a){return e.has(a)})?[{current:c,original:c}]:[]}};e.exports=a}),null);
__d("AdsAdgroupProductSetFieldsPrefiller",["AdsAPIAdgroupPaths","isTruthy"],(function(a,b,c,d,e,f){"use strict";var g=[(a=b("AdsAPIAdgroupPaths")).CREATIVE.APPLINK_TREATMENT,a.CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.FORCE_SINGLE_LINK,a.CREATIVE.PRODUCT_SET_ID,a.CREATIVE.TEMPLATE_URL_SPEC.path].map(function(a){return{current:a,original:a}});c={key:"productSetID",genPaths:function(a){a=(a=a.current.campaign.promoted_object)==null?void 0:a.product_set_id;return b("isTruthy")(a)?g:[]}};e.exports=c}),null);
__d("AdsAdgroupTrackingSpecsUtils",["AdsAppUtils"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return!b("AdsAppUtils").isMobileAppObjective(a,c)}function c(a){var b;return[(b={},b["action.type"]=["offsite_conversion"],b.fb_pixel=[a],b)]}e.exports={getTrackingSpecFromPixelID:c,supportsMobileAppTracking:a}}),null);
__d("AdsAdgroupTrackingSpecsPrefiller",["AdsActionSpecUtils","AdsAdgroupTrackingSpecsUtils","AdsAPIAdgroupPaths","AdsAPICampaignRecordUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsAPIAdgroupPaths").TRACKING_SPECS;a={key:"tracking_specs",genPaths:function(a){var b=a.original.adgroup.getIn(g);return!b?[]:[].concat(h(b),i(b,a.current.campaignGroup,a.current.campaign)).map(function(a){return{current:j(a),original:j(a)}})}};function h(a){return b("AdsActionSpecUtils").getPixelTrackingSpecIndices(a.toJS())}function i(a,c,d){c=c.objective;d=b("AdsAPICampaignRecordUtils").getPromotedObjectType(c,d);return!b("AdsAdgroupTrackingSpecsUtils").supportsMobileAppTracking(c,d)?[]:b("AdsActionSpecUtils").getMobileAppTrackingSpecIndices(a.toJS())}function j(a){return[].concat(g,[""+a])}e.exports=a}),null);
__d("AdsOfflineAdUtils",["AdsAPIObjectives","AdsPromotedObjectTypes"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return a===b("AdsAPIObjectives").CONVERSIONS&&c===b("AdsPromotedObjectTypes").OFFLINE_EVENT_SET}e.exports={isOfflineObjective:a}}),null);
__d("AdsAdgroupURLTagsUtils",["AdsAPIObjectives","AdsAppUtils","AdsOfflineAdUtils","AdsPromotedObjectTypes","AdsWebsiteAdUtils"],(function(a,b,c,d,e,f){"use strict";var g=new Set([(c=b("AdsAPIObjectives")).BRAND_AWARENESS,c.CANVAS_APP_ENGAGEMENT,c.CANVAS_APP_INSTALLS,c.LEAD_GENERATION,c.MESSAGES,c.POST_ENGAGEMENT,c.REACH,c.EVENT_RESPONSES,c.PRODUCT_CATALOG_SALES,c.VIDEO_VIEWS,c.STORE_VISITS]);function a(a,c){return g.has(a)||b("AdsWebsiteAdUtils").isWebsiteConversionsObjective(a,c)||b("AdsWebsiteAdUtils").isWebsiteClickObjective(a,c)||b("AdsWebsiteAdUtils").isWebsiteMessengerObjective(a,c)||b("AdsAppUtils").isCanvasAppInstall(a,c)||b("AdsAppUtils").isCanvasAppEngagement(a,c)||b("AdsOfflineAdUtils").isOfflineObjective(a,c)||c===b("AdsPromotedObjectTypes").PRODUCT_SET}e.exports={supportsURLTags:a}}),null);
__d("AdsAdgroupURLTagsPrefiller",["AdsAdgroupURLTagsUtils","AdsAPIAdgroupPaths","AdsAPICampaignRecordUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsAPIAdgroupPaths").CREATIVE.URL_TAGS;a={key:"trackings",genPaths:function(a){var c=a.current.campaignGroup.objective;a=b("AdsAPICampaignRecordUtils").getPromotedObjectType(c,a.current.campaign);return b("AdsAdgroupURLTagsUtils").supportsURLTags(c,a)?[{current:g,original:g}]:[]}};e.exports=a}),null);
__d("AdsAdgroupUsingExistingPostPrefiller",["AdsAdgroupInstagramActorIDPrefillUtils","AdsAPIAdgroupPaths","AdsLoadStateUtils_LEGACY","AdsPagePostProvider","AdsPagePostUtils","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsPagePostProvider").toFluxStore(),h=(a=b("AdsAPIAdgroupPaths")).CREATIVE.OBJECT_ID,i=a.CREATIVE.OBJECT_STORY_ID,j=a.CREATIVE.OBJECT_STORY_SPEC.path,k=a.CREATIVE.OBJECT_TYPE,l=a.CREATIVE.OBJECT_URL;c=b("adsCreateStoreSelector")([g],function(a){a=a.adgroup;a=(a=a.creative)==null?void 0:a.object_story_id;a=a!=null?b("AdsLoadStateUtils_LEGACY").fromLoadObjectTreatEmptyAsLoading(g.getState().get(a)):null;a=a!=null?b("AdsLoadStateUtils_LEGACY").toLoadObject(a):null;return{originalPagePostLoadObject:a}},{name:e.id+".selector"});d={key:"usingExistingPost",genExtraDataSelector:c,genPaths:function(a,c){var d=a.current.campaign.optimization_goal,e=a.current.campaignGroup.objective,f=a.current.campaign.destination_type;c=c&&c.originalPagePostLoadObject;c=c&&c.isDone()?c.getValueEnforcing():null;c=!!c&&b("AdsPagePostUtils").isVisible(c,e,d,null,null,null,f);return c?[{current:h,original:h},{current:i,original:i},{current:j,original:j},{current:k,original:k},{current:l,original:l}].concat(b("AdsAdgroupInstagramActorIDPrefillUtils").genPaths(a)):[]},isExtraDataReady:function(a){a=a&&a.originalPagePostLoadObject;return!a||a.isDone()}};e.exports=d}),null);
__d("AdsVideoImageHashObjectives",["AdsAPIObjectives","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Set([b("AdsAPIObjectives").LINK_CLICKS,b("AdsAPIObjectives").CONVERSIONS,b("AdsAPIObjectives").BRAND_AWARENESS]);e.exports=a}),null);
__d("AdsAdgroupVideoImageHashPrefiller",["AdsAPIAdgroupPaths","AdsVideoImageHashObjectives"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_HASH,h=[{current:g,original:g}],i=[];a={key:"videoImageHash",genPaths:function(a){var c=a.original.adgroup.getIn(g);a=a.current.campaignGroup.objective;a=b("AdsVideoImageHashObjectives").has(a);return c!=null&&a?h:i}};e.exports=a}),null);
__d("AdsViewTagsObjectives",["AdsAPIObjectives","immutable"],(function(a,b,c,d,e,f){"use strict";c=b("immutable").Set([(a=b("AdsAPIObjectives")).BRAND_AWARENESS,a.REACH,a.LEAD_GENERATION,a.PAGE_LIKES,a.POST_ENGAGEMENT,a.VIDEO_VIEWS,a.LINK_CLICKS,a.CONVERSIONS,a.STORE_VISITS]);e.exports=c}),null);
__d("AdsAdgroupViewTagsPrefiller",["AdsAPIAdgroupPaths","AdsViewTagsObjectives"],(function(a,b,c,d,e,f){"use strict";a={key:"viewTag",genPaths:function(a){var c=a.original.adgroup.view_tags;a=a.current.campaignGroup.objective;a=b("AdsViewTagsObjectives").has(a);return c&&a?[{current:b("AdsAPIAdgroupPaths").VIEW_TAGS,original:b("AdsAPIAdgroupPaths").VIEW_TAGS}]:[]}};e.exports=a}),null);
__d("AdsAdgroupPrefillers",["AdsAdgroupCallToActionTypePrefiller","AdsAdgroupCallToActionValuePrefiller","AdsAdgroupChildAttachmentsPrefiller","AdsAdgroupDestinationPrefiller","AdsAdgroupImageCropsPrefiller","AdsAdgroupOfferIDPrefiller","AdsAdgroupPageActorOverridePrefiller","AdsAdgroupPageIDAndInstagramActorIDPrefiller","AdsAdgroupPlatformCustomizationsPrefiller","AdsAdgroupProductSetFieldsPrefiller","AdsAdgroupTrackingSpecsPrefiller","AdsAdgroupURLTagsPrefiller","AdsAdgroupUsingExistingPostPrefiller","AdsAdgroupVideoImageHashPrefiller","AdsAdgroupViewTagsPrefiller"],(function(a,b,c,d,e,f){"use strict";a=[b("AdsAdgroupCallToActionTypePrefiller")];c=[b("AdsAdgroupChildAttachmentsPrefiller"),b("AdsAdgroupCallToActionValuePrefiller"),b("AdsAdgroupDestinationPrefiller"),b("AdsAdgroupImageCropsPrefiller"),b("AdsAdgroupOfferIDPrefiller"),b("AdsAdgroupPageActorOverridePrefiller"),b("AdsAdgroupPageIDAndInstagramActorIDPrefiller"),b("AdsAdgroupPlatformCustomizationsPrefiller"),b("AdsAdgroupProductSetFieldsPrefiller"),b("AdsAdgroupTrackingSpecsPrefiller"),b("AdsAdgroupURLTagsPrefiller"),b("AdsAdgroupUsingExistingPostPrefiller"),b("AdsAdgroupViewTagsPrefiller"),b("AdsAdgroupVideoImageHashPrefiller")];e.exports={orderedPrefillers:a,unorderedPrefillers:c}}),null);
__d("AdsPrefillAdgroupMutators",["AdsAdgroupMediaMutators","AdsAPIAdAssetFeedImagesFields","AdsAPIAdgroupRecordUtils","AdsAssetFeedFieldUtils","AdsUnifiedCreativeAPIFields","nullthrows"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){var h=a,i=b("AdsAPIAdgroupRecordUtils").getSingleMediaType(a);i==="IMAGE"?a=b("AdsAdgroupMediaMutators").removeImage(a):i==="CAROUSEL"&&f.some(function(a){return a.name===b("AdsUnifiedCreativeAPIFields").childAttachments.name})&&(h=j(h,c,d,e));f.forEach(function(a,b){h=g(h,c,d,e,a)});i==="IMAGE"&&(h=k(h,c));return h}function g(a,b,c,d,e){b=e.getPath(a,b);e=e.getValue(c,d);return b&&e?a.setIn(b,e):a}function h(a,b,c){return b.get(c)?a.set(c,b.get(c)):a}function i(a,b){if(a&&b){var c=Math.min(a.size,b.size);for(var d=0;d<c;d+=1){var e=a.get(d),f=b.get(d);!f.get("video_id")?(e=e["delete"]("picture")["delete"]("image_hash")["delete"]("video_id"),e=h(e,f,"image_crops"),e=h(e,f,"image_hash")):(e=e["delete"]("image_crops")["delete"]("image_hash")["delete"]("picture"),e=h(e,f,"video_id"));e=h(e,f,"picture");a=a.set(d,e)}}return a}function j(a,c,d,e){var f=b("AdsUnifiedCreativeAPIFields").childAttachments.getValue(a,c);d=b("AdsUnifiedCreativeAPIFields").childAttachments.getValue(d,e);f=i(f,d);return a.setIn(b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(a,c),f)}function k(a,c){var d=b("AdsUnifiedCreativeAPIFields").imageHash.getValue(a,c);d=b("AdsAssetFeedFieldUtils").firstAsset_TALK_WITH_ACE_BEFORE_USE(d,b("AdsAPIAdAssetFeedImagesFields").HASH);var e=b("AdsUnifiedCreativeAPIFields").imageURL.getValue(a,c);e=b("AdsAssetFeedFieldUtils").firstAsset_TALK_WITH_ACE_BEFORE_USE(e,b("AdsAPIAdAssetFeedImagesFields").URL);d&&e&&(a=a.deleteIn(b("AdsUnifiedCreativeAPIFields").imageURL.getPathOrThrow(a,c)));return a}function c(a,c){var d=c.getUnifiedCreativeAPIFieldMapping(a);c=Object.keys(d.toJS()).filter(function(a){return!!d.get(a)});return c.map(function(a){return b("nullthrows")(b("AdsUnifiedCreativeAPIFields")[a])})}e.exports={getDefaultPrefillFields:c,mutateAdgroupByField:g,mutateAdgroupToPrefill:a}}),null);
__d("AdsUEditorAdgroupObjectiveMutators",["AdsAccountStore","AdsAdgroupCreation","AdsAdgroupCreativePluginResolver","AdsAdgroupLinkPostFormatMutators","AdsAdgroupPrefillers","AdsAdgroupPrefillerUtils","AdsAdgroupRecordAccessors","AdsAdgroupSpecPathPluginResolver","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAPIAdgroupRecord","AdsAPIAdgroupRecordUtils","AdsAPICampaignPaths","AdsAPICampaignRecordUtils","AdsAPIObjectives","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsAudienceDirectConfig","AdsChildAttachmentsUtils","AdsDCOUtils","AdsMediaFormatMutators","AdsMixedFormatsConstants","AdsMutators","AdsPlacementAssetEligibilityUtils","AdsPlacementEligibilityInfoUtils","AdsPrefillAdgroupMutators","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorSetPostEditModeMutators","AdsUIMediaFormat","AdsUIMediaFormatUtils","AdsUnifiedCreativeAPIFields","ApiDynamicCreativeOptimizationTypes","CatalogVertical","adsAccountGK","adsCallToActionGetDefaultCallToActionType","adsCampaignGetOfferStateType","adsRemoveIncompatiblePACCustomizations","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsAdgroupLinkPostFormatMutators").setLinkPostFormatWithExtraData_UNPURE,h=b("AdsMediaFormatMutators").setMediaFormat;function a(a,c,d,e){var f=a.adset_id,g=a.campaign_id;c=b("nullthrows")(c.get(g));g=b("nullthrows")(d.get(f));d=i(a,g,c);f=b("AdsAPIAdgroupRecordUtils").getPageID(a,d.adgroupSpecPathPlugin);g=f?e.get(f):null;return babelHelpers["extends"]({},d,{page:g})}function i(a,c,d){a=d.objective;var e=d.buying_type,f=b("AdsAPICampaignRecordUtils").getPromotedObjectType(a,c),g=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:b("AdsAudienceDirectConfig").accountType,objective:a,promotedObjectType:f}),h=b("AdsAdgroupCreativePluginResolver").resolve({accountType:b("AdsAudienceDirectConfig").accountType,objective:a,offerStateType:b("adsCampaignGetOfferStateType")(c),promotedObjectType:f,catalogVertical:b("CatalogVertical").NONE});return{adgroupCreativePlugin:h,adgroupSpecPathPlugin:g,campaign:c,campaignGroup:d,objective:a,buyingType:e,promotedObjectType:f}}function c(a,c,d){if(b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(a)){var e=d.newAdgroupExtraData,f=d.oldAdgroupExtraData;f=b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec(b("AdsAPIAdgroupRecordUtils").getObjectType(a),a,f.objective);f=k(f,c,d);if(b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(a))if(b("AdsDCOUtils").isSupportedObjectiveForRegularDCO(e.buyingType,e.objective))return b("AdsDCOUtils").convertStorySpecAdToDCOAd(f,e.objective,{hostID:d.hostID});else return f;else if(t(a,f)&&b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a)&&j(d)){var g,h=b("AdsUEditorAdgroupAssetFeedMutators").convertToAssetFeedSpec(b("AdsAPIAdgroupRecordUtils").getObjectType(f),f,e.objective,b("ApiDynamicCreativeOptimizationTypes").PLACEMENT);h=b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.set((g=a.creative)==null?void 0:g.asset_feed_spec,h);h=b("adsRemoveIncompatiblePACCustomizations")(h,d.newAdgroupExtraData.campaign,d.newAdgroupExtraData.adgroupSpecPathPlugin);if(!b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(h))return k(h,c,d);if(!b("AdsMixedFormatsConstants").ALLOWED_OBJECTIVES.includes(e.objective)&&b("AdsAssetFeedUtils").hasPACAutomaticFormat(a))if(!b("AdsAssetFeedUtils").doesAdgroupHaveImages(a))h=b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.ad_formats.set(b("immutable").List.of("SINGLE_VIDEO"),h);else if(!b("AdsAssetFeedUtils").doesAdgroupHaveVideos(a))h=b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.ad_formats.set(b("immutable").List.of("SINGLE_IMAGE"),h);else return f;g=b("adsAccountGK")._(b("AdsAccountStore").getSelectedAccount().getValue(),"ZiYmLD4F");if(!b("AdsDCOUtils").isSupportedObjectiveForTextDOF(g,e.buyingType,e.objective)){h=b("AdsAssetFeedMutationUtils").removeDofOptionAssetsFromPACAssetFeed(h,b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.BODIES);return b("AdsAssetFeedMutationUtils").removeDofOptionAssetsFromPACAssetFeed(h,b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TITLES)}return h}else return f}else return k(a,c,d)}function j(a){var c,d=a.account,e=a.accountBlockList;a=a.newAdgroupExtraData;c=(c=a.campaign.promoted_object)==null?void 0:c.object_store_url;d=b("AdsPlacementEligibilityInfoUtils").buildEligibilityInformationFromCampaignSpec(a.campaign,a.buyingType,d.capabilities,a.objective,e,c);return b("AdsPlacementAssetEligibilityUtils").isCampaignEligibleForPlacementAssetCustomizationPhase2(a.campaign,d)}function k(a,c,d){var e=d.account,f=d.newAdgroupExtraData,g=d.oldAdgroupExtraData,h=d.prefillersExtraData;d=b("AdsAdgroupRecordAccessors").name.set(a.name,m(e,a,c,f,g));if(b("AdsAPIAdgroupRecordUtils").isExistingPostAd(a))return v(d,a,f,g,h);return!o(e,a,d,f,g)?d:b("AdsMutators").chain(function(b){return r(b,a,f,g)},function(b){return s(b,a,f)},function(b){return u(b,a,f,g)},function(b){return x(b,a,f,g,h)},function(b){return w(b,a,f,g)})(d)}function l(a,b,c,d){return{current:{adgroup:a,campaign:c.campaign,campaignGroup:c.campaignGroup},original:{adgroup:b,campaign:d.campaign,campaignGroup:d.campaignGroup}}}function m(a,c,d,e,f){d=e.campaignGroup.toJS();var g=e.campaign.toJS();g=new(b("AdsAPIAdgroupRecord"))(b("AdsAdgroupCreation").getDefaults(g,d,a,null,null,null,f.page,e.promotedObjectType,null));return n(g,c)}function n(a,c){c=c.tracking_specs;return!c||!c.size?b("AdsAdgroupRecordAccessors").tracking_specs["delete"](a):b("AdsAdgroupRecordAccessors").tracking_specs.set(b("immutable").fromJS(Array(c.size).fill({})),a)}function o(a,b,c,d,e){b=q(b,e.adgroupSpecPathPlugin);e=p(a,c,d.campaign,d.campaignGroup,d.adgroupCreativePlugin);return e.has(b)}function p(a,c,d,e,f){f=f.getSupportedMediaFormats({account:a,adgroup:c,campaign:d});return b("AdsUIMediaFormatUtils").getSupportedUIMediaFormats(f,e,f.has("CAROUSEL"),!0,!1,!1)}function q(a,c){return b("AdsUIMediaFormatUtils").getUIFormat(a,c,!1)}function r(a,c,d,e){var f=b("AdsAPIAdgroupRecordUtils").getLinkPostFormat(a,d.adgroupSpecPathPlugin);c=b("AdsAPIAdgroupRecordUtils").getLinkPostFormat(c,e.adgroupSpecPathPlugin);if(f===c)return a;e=d.campaignGroup.objective;f=(f=d.campaignGroup.promoted_object)==null?void 0:f.page_id;return g(c,a,null,{objective:e,campaignGroupPromotedPageID:f,promotedObjectType:d.promotedObjectType})}function s(a,c,d){if(t(a,c))return a;c=b("AdsAPIAdgroupRecordUtils").getSingleMediaType(c);return h(c,a,d.adgroupSpecPathPlugin,d.objective)}function t(a,c){a=b("AdsAPIAdgroupRecordUtils").getSingleMediaType(a);c=b("AdsAPIAdgroupRecordUtils").getSingleMediaType(c);return a===c}function u(a,c,d,e){if(!b("AdsChildAttachmentsUtils").isCarouselAd(a))return a;if(d.campaignGroup.objective===b("AdsAPIObjectives").MESSAGES||e.campaignGroup.objective===b("AdsAPIObjectives").MESSAGES)return a;var f=b("AdsUnifiedCreativeAPIFields").childAttachments;d=f.getPath(a,d.adgroupSpecPathPlugin);f=f.getPath(c,e.adgroupSpecPathPlugin);if(!d||!f)return a;e=c.getIn(f);return!e||!e.size?a.deleteIn(d):a.setIn(d,b("AdsChildAttachmentsUtils").getDefaultChildAttachments(e.size))}function v(a,c,d,e,f){if(!d.adgroupCreativePlugin.allowUsingExistingPost())return a;a=b("AdsUEditorSetPostEditModeMutators").setToUsingExistingPost({adgroup:a,cachedCreative:null,cachedPageID:null,defaultPagePost:null,specPathPlugin:d.adgroupSpecPathPlugin});return x(a,c,d,e,f)}function w(a,c,d,e){if(d.objective===b("AdsAPIObjectives").EVENT_RESPONSES){var f=d.adgroupSpecPathPlugin.getUnifiedCreativeAPIFieldMapping(a).callToActionType,g=b("adsCallToActionGetDefaultCallToActionType")(d.objective,d.promotedObjectType);return a.setIn(b("nullthrows")(f),g)}f=(f=a.creative)==null?void 0:(g=f.object_story_spec)==null?void 0:g.video_data;if(f&&e.objective===b("AdsAPIObjectives").EVENT_RESPONSES)return b("AdsAdgroupRecordAccessors").creative.object_story_spec.video_data.call_to_action.value.event_id["delete"](a);g=q(c,e.adgroupSpecPathPlugin);if(d.objective===b("AdsAPIObjectives").PAGE_LIKES&&g===b("AdsUIMediaFormat").SINGLE_VIDEO){c=(f=e.page)==null?void 0:f.id;g=d.adgroupSpecPathPlugin.getUnifiedCreativeAPIFieldMapping(a).callToActionValue;if(g!=null&&c!=null)return a.setIn(g.concat("page"),c)}return a}function x(a,c,d,e,f){return b("AdsMutators").chain(function(a){return b("AdsAdgroupPrefillerUtils").prefillUsingPrefillers(l(a,c,d,e),b("AdsAdgroupPrefillers").orderedPrefillers,f)},function(a){return y(a,c,d,e)},function(a){return b("AdsAdgroupPrefillerUtils").prefillUsingPrefillers(l(a,c,d,e),b("AdsAdgroupPrefillers").unorderedPrefillers,f)})(a)}function y(a,c,d,e){var f,g=b("immutable").Set([(f=b("AdsUnifiedCreativeAPIFields")).callToAction,f.callToActionType,f.callToActionValue,f.childAttachments,f.imageCrops,f.instagramActorID,f.linkURL,f.offerID,f.pageID,f.pageWelcomeMessage,f.productSetID].map(function(a){return a.name}));f=b("AdsPrefillAdgroupMutators").getDefaultPrefillFields(a,d.adgroupSpecPathPlugin).filter(function(a){return!g.has(a.name)});return b("AdsPrefillAdgroupMutators").mutateAdgroupToPrefill(a,d.adgroupSpecPathPlugin,c,e.adgroupSpecPathPlugin,f)}function d(a){var c=a.tracking_specs;if(!c)return a;c=c.filter(function(a){return!a.isEmpty()});return c.isEmpty()?b("AdsAdgroupRecordAccessors").tracking_specs["delete"](a):b("AdsAdgroupRecordAccessors").tracking_specs.set(c,a)}f={getOldAdgroupExtraData:a,getAdgroupExtraData:i,removeEmptyTrackingSpec:d,convertAdgroup:c};e.exports=f}),null);
__d("AdsDofMutationUtils",["AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsDCODegreesOfFreedomUtils","AdsUEditorAdgroupAssetFeedMutators","immutable"],(function(a,b,c,d,e,f){"use strict";a={setAssetFieldOrValueInAdgroup:function(a,c,d,e,f,g){g===void 0&&(g=[]);if(!b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(a))return a.setIn(d.getPathOrThrow(a,c),f);var h=a;for(var g=g,i=Array.isArray(g),j=0,g=i?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=g.length)break;k=g[j++]}else{j=g.next();if(j.done)break;k=j.value}k=k;h=h.deleteIn(k.getPathOrThrow(h,c))}if(b("AdsDCODegreesOfFreedomUtils").isDOFAdgroupWithUniqueDOFAssets(h)){k=b("AdsAssetFeedUtils").isDofWithImageAdgroupFromRecord(a);h=b("AdsUEditorAdgroupAssetFeedMutators").convertFromDOFAssetFeedSpec(h,k)}if(b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(h))return b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(h,c,d,0,e,f);else return h.setIn(d.getPathOrThrow(h,c),f)}};e.exports=a}),null);
__d("AdsUEditorAdgroupOfferMutators",["AdsAdgroupRecordAccessors","AdsAPIAdAssetFeedTitlesFields","AdsAPIChildAttachmentPaths","AdsAPIObjectives","AdsAssetFeedUtils","AdsCallToActionTypesCond","AdsDofMutationUtils","AdsMutators","AdsPromotedObjectTypes","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupCreativePluginAdObjectsUtils","AdsUEditorAdgroupMutators","AdsUEditorCallToActionMutators","AdsUEditorCampaignAdObjectsUtils","AdsUnifiedCreativeAPIFields","immutable","isTruthy","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsUEditorAdgroupMutators").transformAdgroupTemplateDataFromDynamicToStatic;function h(a,c,d){return b("AdsMutators").chain(function(a){var d=b("AdsUnifiedCreativeAPIFields").offerID.getPath(a,c);return d?a.deleteIn(d):a},function(a){var e=b("AdsUnifiedCreativeAPIFields").callToActionType.getPath(a,c);return e?b("AdsUEditorCallToActionMutators").setCallToAction({callToActionType:c.getDefaultCallToActionType(a),pages:null,cachedCallToActionLink:null,adgroup:a,campaignGroupPromotedPageID:null,objective:d,specPlugin:c}):a},function(a){var d=b("AdsUnifiedCreativeAPIFields").message.getPath(a,c);return d?a.setIn(d,k(a,c)):a},function(a){return i(a,c,!1)})(a)}function i(a,c,d,e,f){var g=b("AdsUnifiedCreativeAPIFields").childAttachments.getPath(a,c);if(!g)return a;g=a.getIn(g);if(!g)return a;d&&b("isTruthy")(e)&&b("isTruthy")(f)?g=g.map(function(a){return a.setIn(b("AdsAPIChildAttachmentPaths").LINK,e).setIn(b("AdsAPIChildAttachmentPaths").NAME,f).setIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.TYPE,b("AdsCallToActionTypesCond").TYPES.GET_OFFER_VIEW.name)}):g=g.map(function(d){return d.setIn(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.TYPE,c.getDefaultCallToActionType(a))});return a.setIn(b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(a,c),g)}function j(a,c,d,e,f){var g;d=a.setIn(b("AdsUnifiedCreativeAPIFields").offerID.getPathOrThrow(a,c),d);var h=b("AdsUnifiedCreativeAPIFields").headline.getValue(a,c);a=b("AdsUnifiedCreativeAPIFields").linkDescription.getValue(a,c);var i=b("immutable").fromJS([(g={},g.link=f||"",g.static_card=!0,g.name=e||"",g.call_to_action=(e={},e.type=b("AdsCallToActionTypesCond").TYPES.GET_OFFER_VIEW.name,e),g),(e={},e.description=a,e.name=h,e.link=f||"",e.call_to_action=(g={},g.type=b("AdsCallToActionTypesCond").TYPES.SHOP_NOW.name,g),e)]);return b("AdsMutators").chain(function(a){return a.deleteIn(b("AdsUnifiedCreativeAPIFields").headline.getPathOrThrow(a,c))},function(a){return a.deleteIn(b("AdsUnifiedCreativeAPIFields").linkDescription.getPathOrThrow(a,c))},b("AdsAdgroupRecordAccessors").creative.object_story_spec.template_data.force_single_link["delete"],function(a){return a.setIn(b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(a,c),i)})(d)}function k(a,c){a=a.getIn(b("AdsUnifiedCreativeAPIFields").message.getPathOrThrow(a,c));return a||c.getDefaultMessage()}function l(a,c,d,e,f){var g=null;b("AdsAssetFeedUtils").isDofAdgroupFromSpec(a)?g=b("AdsDofMutationUtils").setAssetFieldOrValueInAdgroup(a,c,b("AdsUnifiedCreativeAPIFields").headline,b("AdsAPIAdAssetFeedTitlesFields").TEXT,e,[b("AdsUnifiedCreativeAPIFields").headline,b("AdsUnifiedCreativeAPIFields").linkDescription]):g=a.setIn(b("AdsUnifiedCreativeAPIFields").headline.getPathOrThrow(a,c),e);return g.setIn(b("AdsUnifiedCreativeAPIFields").offerID.getPathOrThrow(g,c),d).setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(g,c),f).setIn(b("AdsUnifiedCreativeAPIFields").callToActionType.getPathOrThrow(g,c),b("AdsCallToActionTypesCond").TYPES.GET_OFFER_VIEW.name).setIn(b("AdsUnifiedCreativeAPIFields").message.getPathOrThrow(g,c),k(g,c))}function a(a,c,d,e,f,h){var k=b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType(a);if(k===b("AdsPromotedObjectTypes").PRODUCT_SET)return j(c,d,e,f,h);k=b("AdsUEditorAdgroupCreativePluginAdObjectsUtils").getAdgroupCreativePlugin(a);a=c;k.usesTemplateDataForStaticCarousel()&&(a=g(a,d));a=l(a,d,e,f,h);return i(a,d,!0,h,f)}function c(a,c,d,e,f){return b("AdsMutators").chain(function(a){return h(a,d,e)},function(c){return b("AdsUEditorAdgroupMutators").removeImagesAndVideos(a,c,d,f)},function(a){return b("AdsUEditorAdgroupAssetFeedMutators").removeAllMediaAssets(a,b("nullthrows")(d.pivots.objective),d)},function(a){var c=b("AdsUnifiedCreativeAPIFields").linkURL.getPath(a,d);return c?a.deleteIn(c):a},function(a){var c=b("AdsUnifiedCreativeAPIFields").headline.getPath(a,d);return c?a.deleteIn(c):a},function(a){var c=b("AdsUnifiedCreativeAPIFields").imageHash.getPath(a,d);return c?a.deleteIn(c):a},function(a){var c=b("AdsUnifiedCreativeAPIFields").childAttachments.getPath(a,d);if(!c)return a;var f=a.getIn(c);f=f&&f.map(function(a){return a.deleteIn(b("AdsAPIChildAttachmentPaths").LINK).deleteIn(b("AdsAPIChildAttachmentPaths").NAME)});return e===b("AdsAPIObjectives").PRODUCT_CATALOG_SALES?a.deleteIn(c):a.setIn(c,f)})(c)}d={getMessage:k,removeOfferIDState:h,setDynamicAdsDefaultState:j,updateChildAttachments:i,setAdgroupCreativeFields:l,setOfferInfo:a,removeOfferInfo:c};e.exports=d}),null);
__d("AdsUEditorMockupMutationUtils",["AdsAdgroupRecordAccessors","AdsAPIObjectives","AdsAssetFeedUtils","FBLogger","immutable"],(function(a,b,c,d,e,f){"use strict";function a(a,c){c=c.objective;var d=a.adgroup;if(c!==b("AdsAPIObjectives").VIDEO_VIEWS||!b("AdsAssetFeedUtils").hasPACAutomaticFormat(d))return a;if(b("AdsAssetFeedUtils").doesAdgroupHaveImages(d)){b("FBLogger")("ads").mustfix("Trying to set creative with images to single video. Adgroup: %s",d.id);return a}return{campaignGroup:a.campaignGroup,campaign:a.campaign,adgroup:b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.ad_formats.set(b("immutable").List.of("SINGLE_VIDEO"),d)}}var g=[a];function c(a,b){return g.reduce(function(a,c){return c(a,b)},a)}d={prepareMockupAdObjects:c};e.exports=d}),null);
__d("AdsUEditorSetPostEditModeMutators",["AdsAdgroupRecordAccessors","AdsAPIAdgroupCreativeRecord","AdsAPIAdgroupLinkDataRecord","AdsAPIAdgroupObjectStorySpecRecord","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAssetFeedUtils","AdsCallToActionTypesCond","AdsDCOUtils","AdsInstagramActorIDUtils","AdsMessengerConstants","AdsMessengerVisualEditorUtils","AdsMutators","AdsObjectTypeUtils","AdsPagePostUtils","AdsPromotedObjectTypes","AdsUEditorAdgroupObjectiveMutators","AdsUEditorMockupMutationUtils","AdsUnifiedCreativeAPIFields","Instant","gkx","isTruthy"],(function(a,b,c,d,e,f){"use strict";d=b("AdsAPIAdgroupLinkDataRecord").getSpec().call_to_action.getSpec().value;var g=b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name,h=new d({app_destination:"MESSENGER"}),i=new(b("AdsAPIAdgroupObjectStorySpecRecord"))(),j=new(b("AdsAPIAdgroupCreativeRecord"))(),k=86400;function l(a){var c=a.adgroup,d=a.cachedCreative,e=a.cachedMetadata,f=a.objective,j=a.specPathPlugin;a=a.promotedObjectType;var k=b("AdsInstagramActorIDUtils").getInstagramActorID(c),l=b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(c),m=b("AdsAPIAdgroupRecordUtils").getPageID(c,j),n=b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative["delete"],b("AdsAdgroupRecordAccessors").creative.object_story_spec.set(i))(c),o;d&&(n=b("AdsAdgroupRecordAccessors").creative.set(d,n),o=b("AdsObjectTypeUtils").getObjectTypeFromCreativeSpecType(n));e&&(n=n.setIn(b("AdsAPIAdgroupPaths").METADATA.path,e));b("isTruthy")(o)||(o=b("AdsObjectTypeUtils").getDefaultObjectType(f));n=b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.object_type.set(o),b("AdsAdgroupRecordAccessors").creative.object_story_spec.page_id.set(b("isTruthy")(m)?m:void 0),b("AdsAdgroupRecordAccessors").creative.object_story_spec.instagram_actor_id.set(k))(n);if(a===b("AdsPromotedObjectTypes").MESSENGER){d=b("AdsUnifiedCreativeAPIFields").pageWelcomeMessage.getPathOrThrow(n,j);if(n.getIn(d)==null){k=(e=b("AdsUnifiedCreativeAPIFields")).callToActionType.getPathOrThrow(n,j);a=e.callToActionValue.getPathOrThrow(n,j);var p=e.headline.getPathOrThrow(n,j);e=e.linkURL.getPathOrThrow(n,j);j=JSON.stringify(b("AdsMessengerVisualEditorUtils").getStandardTemplateDefaultJSON(m));n=n.setIn(k,g).setIn(a,h).setIn(e,b("AdsMessengerConstants").EMPTY_MESSENGER_LINK).setIn(p,b("AdsMessengerConstants").DEFAULT_HEADLINE.toString()).setIn(d,j)}}k=(m=c.creative)==null?void 0:m.product_set_id;k!=null&&(n=b("AdsAdgroupRecordAccessors").creative.product_set_id.set(k,n));l&&(n=b("AdsDCOUtils").convertStorySpecAdToDCOAd(n,f));return n}function a(a){var c,d=a.adgroup,e=a.cachedCreative,f=a.cachedPageID,g=a.defaultPagePost;a=a.specPathPlugin;var h=b("AdsInstagramActorIDUtils").getInstagramActorID(d);a=b("AdsAPIAdgroupRecordUtils").getPageID(d,a);var i=b("AdsAPIAdgroupRecordUtils").getPagePostID(d),l=b("AdsAPIAdgroupRecordUtils").getObjectType(d);d=b("AdsAdgroupRecordAccessors").creative.set(j,d).setIn(b("AdsAPIAdgroupPaths").METADATA.CAROUSEL_STYLE,"others");if(e&&a===f)return b("AdsAdgroupRecordAccessors").creative.set(e,d);f=b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(d);e=g==null?void 0:g.pagePost.id;c=g==null?void 0:(c=g.pagePost.from)==null?void 0:c.id;var m=g==null?void 0:g.pagePost.type;g=g==null?void 0:g.createdTime;g=g!=null&&b("Instant").now()-g<k;if(b("isTruthy")(i)&&!f)d=b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.object_story_id.set(i),b("AdsAdgroupRecordAccessors").creative.object_type.set(l))(d);else if(g&&b("isTruthy")(c)&&b("isTruthy")(e)&&b("isTruthy")(m)&&a===c&&b("gkx")("1164264")){f=b("AdsPagePostUtils").convertTypeToCreativeObjectType(m);d=b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.object_story_id.set(e),b("AdsAdgroupRecordAccessors").creative.object_type.set(f))(d)}else d=b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.object_id.set(b("isTruthy")(a)?a:void 0),b("AdsAdgroupRecordAccessors").creative.object_type.set(l))(d);return b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.mockup_id["delete"],b("AdsAdgroupRecordAccessors").creative.instagram_actor_id.set(h))(d)}function c(a){var c=a.account,d=a.accountBlockLists,e=a.campaign,f=a.placementEligibilityInformation,g=a.campaignGroup,h=a.hostID,i=a.mockupAdObjects,j=a.prefillersExtraData;a=babelHelpers.objectWithoutPropertiesLoose(a,["account","accountBlockLists","campaign","placementEligibilityInformation","campaignGroup","hostID","mockupAdObjects","prefillersExtraData"]);var k=a.adgroup;if(i!=null){var m;i=b("AdsUEditorMockupMutationUtils").prepareMockupAdObjects(i,{objective:g.objective,placementEligibilityInformation:f});f=i.adgroup;var n=i.campaign;i=i.campaignGroup;m=(m=f.creative)==null?void 0:m.mockup_id;n=b("AdsUEditorAdgroupObjectiveMutators").getAdgroupExtraData(f,n,i);i=b("AdsUEditorAdgroupObjectiveMutators").getAdgroupExtraData(f,e,g);e=b("AdsUEditorAdgroupObjectiveMutators").removeEmptyTrackingSpec(b("AdsUEditorAdgroupObjectiveMutators").convertAdgroup(f,k.id,{account:c,accountBlockList:d,hostID:h,newAdgroupExtraData:i,oldAdgroupExtraData:n,prefillersExtraData:j}));g=e.creative;f=e.metadata;k=l(babelHelpers["extends"]({},a,{cachedCreative:g,cachedMetadata:f}));return b("AdsAdgroupRecordAccessors").creative.mockup_id.set(m,k)}d=(c=a.cachedCreative)==null?void 0:c.mockup_id;return d!=null?b("AdsAdgroupRecordAccessors").creative.mockup_id.set(d,l(a)):a.adgroup}e.exports={setToUsingExistingPost:a,setToUsingInlineCreation:l,setToUsingMockup:c}}),null);
__d("adsPlacementAssetMutationChangeFormatToAutomatic",["AdsAdgroupRecordAccessors","AdsAssetFeedUtils","immutable"],(function(a,b,c,d,e,f){"use strict";function a(a){return!b("AdsAssetFeedUtils").hasPlacementCustomizationFromRecord(a)?a:b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.ad_formats.set(b("immutable").List.of("AUTOMATIC_FORMAT"),a)}e.exports=a}),null);
__d("adsPlacementAssetMutationConvertToVideoAssetFeedWithCampaignTargeting",["adsPlacementAssetMutationConvertToAssetFeedWithCampaignTargeting"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){f===void 0&&(f=!1);g===void 0&&(g=!1);return b("adsPlacementAssetMutationConvertToAssetFeedWithCampaignTargeting")(a,c,d,e,"video",f,g)}e.exports=a}),null);
__d("AdsUEditorAdgroupVideoMutators",["AdsAdgroupRecordAccessors","AdsAdgroupTypeUtils","AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsAssetFeedUtils","AdsLocalizedPlacementsMutators","AdsPACSpecMutationAsyncLog","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsUnifiedCreativeAPIFields","adsPlacementAssetMutationChangeFormatToAutomatic","adsPlacementAssetMutationConvertToImageAssetFeedWithCampaignTargeting","adsPlacementAssetMutationConvertToVideoAssetFeedWithCampaignTargeting","adsPlacementAssetMutationUpdateCustomizationVideo","immutable","isTruthy","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d,e,f,g,h,i,j,k){d=a;f!=null&&(d=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(d,c,b("AdsUnifiedCreativeAPIFields").videoID,e,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID,f));b("isTruthy")(g)&&(d=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(d,c,b("AdsUnifiedCreativeAPIFields").videoID,e,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL,g),d=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(d,c,b("AdsUnifiedCreativeAPIFields").videoID,e,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_SOURCE,i));k!=null&&k!==""&&(d=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(d,c,b("AdsUnifiedCreativeAPIFields").videoID,e,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_HASH,k));if(h!=null){d=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(d,c,b("AdsUnifiedCreativeAPIFields").videoID,e,b("AdsAPIAdAssetFeedVideosFields").PORTRAIT_CUSTOMIZATIONS,b("immutable").fromJS((a={},a.specifications=[(f={},f.background_color=h,f)],a)))}j!=null&&(d=b("AdsAssetFeedMutationUtils").setAssetFieldAtIndex(d,c,b("AdsUnifiedCreativeAPIFields").videoID,e,b("AdsAPIAdAssetFeedVideosFields").INTERACTIVE_COMPONENTS_SPEC,j));return d}function a(a,c,d,e,f,i,j,k,l,m,n,o,p,q,r,s){p===void 0&&(p=!1);q===void 0&&(q=!1);var t=b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a);t&&b("AdsPACSpecMutationAsyncLog").log(a,"ADD_VIDEO_START",o);var u=b("AdsAdgroupTypeUtils").isVideoAd(a);if(!u&&!q)throw b("unrecoverableViolation")("This customization should be applied to video ad or to image ad given that ad account has pac automatic format capability","csol_pac");q=a;b("AdsAssetFeedUtils").isDLOAdgroupFromRecord(a)&&u?q=b("AdsLocalizedPlacementsMutators").convertDLOToLocalizedPlacementsAdgroup(a,d):b("AdsAssetFeedUtils").isPACAdgroupFromRecord(a)?(q=u?a:b("adsPlacementAssetMutationChangeFormatToAutomatic")(a),t&&b("AdsPACSpecMutationAsyncLog").log(q,"ADD_VIDEO_CONVERT_TO_PAC",o)):b("AdsAssetFeedUtils").isLocalizedPlacementsAdgroupFromRecord(a)||(q=u?b("adsPlacementAssetMutationConvertToVideoAssetFeedWithCampaignTargeting")(a,c,d,e,p,!1):b("adsPlacementAssetMutationConvertToImageAssetFeedWithCampaignTargeting")(a,c,d,e,p,!0));u=b("isTruthy")(f)&&b("AdsPlacementAssetUtils").doesVideoExistWithLabel(q,f);if(u)return b("adsPlacementAssetMutationUpdateCustomizationVideo")(q,i,b("nullthrows")(f),d,k,m,j,s);p=(a=q.creative)==null?void 0:(c=a.asset_feed_spec)==null?void 0:c.videos;u=p!=null?p.size:0;q=g(q,d,e,u,j,k,l,m,r,s);i=b("AdsPlacementAssetUtils").makeUniqueLabelNameForPlacementAsset();q=b("AdsAssetFeedMutationUtils").setAssetAdLabelAtIndex(q,d,b("AdsUnifiedCreativeAPIFields").videoID,u,i);if(b("AdsAssetFeedUtils").isLocalizedPlacementsAdgroupFromRecord(q)){q=b("AdsLocalizedPlacementsMutators").addPlacementsToAssetCustomizationRules(q,b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL,i,n);q=h(q,d);t&&b("AdsPACSpecMutationAsyncLog").log(q,"ADD_VIDEO_END",o);return q}c=(f=q.creative)==null?void 0:(a=f.asset_feed_spec)==null?void 0:a.asset_customization_rules;p=b("AdsPlacementAssetTargetingRuleUtils").movePlacementsInTargetingRules(c||b("immutable").List(),b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL,i,n);e=p.labelsRemoved;j=p.updatedTargetingRules;q=b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.set(j,q);for(var k=e,l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(l){if(m>=k.length)break;r=k[m++]}else{m=k.next();if(m.done)break;r=m.value}s=r;a=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel((u=q.creative)==null?void 0:(f=u.asset_feed_spec)==null?void 0:f.videos,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,s,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID).index;q=a!=null?b("AdsAssetFeedMutationUtils").removeAssetAtIndex(q,d,b("AdsUnifiedCreativeAPIFields").videoID,a):q}q=h(q,d);t&&b("AdsPACSpecMutationAsyncLog").log(q,"ADD_VIDEO_END",o);return q}function h(a,c){return b("AdsAssetFeedMutationUtils").removeDuplicateAssets(a,c,b("AdsUnifiedCreativeAPIFields").videoID,b("AdsAPIAdAssetFeedVideosFields").ADLABELS)}function c(a,c,d,e){a=b("AdsAssetFeedMutationUtils").isolateAssetWithLabel(a,c,b("AdsUnifiedCreativeAPIFields").videoID,d,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,e);c=a.adgroupWithIsolatedAsset;d=a.isolatedAssetIndex;return{adgroupWithIsolatedVideoAsset:c,isolatedVideoAssetIndex:d}}d={updatePlacementCustomizationVideoAtIndex:g,addPlacementCustomizationVideo:a,isolateVideoAssetWithLabel:c,removeDuplicateVideoAssets:h};e.exports=d}),null);
__d("adsACOConvertToACOAd",["AdsAdgroupRecordAccessors","AdsMutators","ApiDynamicCreativeOptimizationTypes","immutable"],(function(a,b,c,d,e,f){"use strict";function a(a){var c;return b("AdsMutators").chain((c=b("AdsAdgroupRecordAccessors")).creative.object_story_spec.template_data.multi_share_end_card.set(!1),c.creative.object_story_spec.template_data.format_option["delete"],c.creative.object_story_spec.template_data.force_single_link["delete"],c.creative.object_story_spec.template_data.description["delete"],c.creative.object_story_spec.template_data.image_layer_specs["delete"],c.creative.object_story_spec.template_data.image_overlay_spec["delete"],c.creative.asset_feed_spec.optimization_type.set(b("ApiDynamicCreativeOptimizationTypes").FORMAT_AUTOMATION),c.creative.asset_feed_spec.ad_formats.set(b("immutable").List(["CAROUSEL","COLLECTION"])))(a)}e.exports=a}),null);
__d("AdsCFSpecGenerationAdgroups",["AdsAdgroupRecordAccessors","AdsAPICampaignRecordUtils","AdsAPIObjectives","AdsAssetFeedUtils","AdsChildAttachmentsUtils","AdsComparatorIsMessengerThreadSelected","AdsDCOUtils","AdsLoadState_LEGACY","AdsMutators","AdsPlacementAPISpecReaderUtils","AdsPortraitCustomizationsUtils","AdsPredictionObjectStore","AdsPromotedObjectTypes","AdsSplitTestUtils","adsAccountGK","adsACOConvertToACOAd","adsCFCampaignIsNew","adsCFGetAccountAPIState_HACK","immutable","isEmpty","isTruthy"],(function(a,b,c,d,e,f){"use strict";var g,h=b("AdsPlacementAPISpecReaderUtils").convertCampaignRecordToPlacementSpec,i=b("immutable").Map(),j=function(a,c,d){var e=h(c);if(b("AdsComparatorIsMessengerThreadSelected").isMessengerThreadSelected(e)&&(a===b("AdsAPIObjectives").LINK_CLICKS||a===b("AdsAPIObjectives").CONVERSIONS)){a=(e=c.promoted_object)==null?void 0:e.page_id;if(b("isTruthy")(a))return b("AdsAdgroupRecordAccessors").creative.object_story_spec.page_id.set(a,d)}return d},k=function(a,c,d){var e;e=(e=c.creative)==null?void 0:(e=e.object_story_spec)==null?void 0:e.page_id;return b("isTruthy")(e)&&a!==b("AdsAPIObjectives").APP_INSTALLS?b("AdsAdgroupRecordAccessors").creative.object_story_spec.page_id.set(d,c):c};a=function(a,c,d,e){e===void 0&&(e={});var f=a.objective;return d.map(function(h,l){var m=h;m=b("AdsAdgroupRecordAccessors").id["delete"](m);var n=c[0];if(!(g||(g=b("isEmpty")))(c)&&!b("adsCFCampaignIsNew")(n)){m=b("AdsAdgroupRecordAccessors").adset_id.set(n.id,m);m=j(f,n,m);var o=n.rf_prediction_id;if(o){o=b("AdsPredictionObjectStore").get(o);if(o.hasValue()){o=o.getValueEnforcing();o&&o.destination_id&&(m=k(f,m,o.destination_id));if(b("AdsPortraitCustomizationsUtils").isRFStoriesCarouselFormatSelected(o)){o=b("AdsChildAttachmentsUtils").getChildAttachmentsPath(m);o&&(m=m.setIn(o,b("AdsChildAttachmentsUtils").getDefaultChildAttachments()));b("adsAccountGK")._(b("adsCFGetAccountAPIState_HACK")(),"2mb5HjDZS")&&(m=b("AdsAdgroupRecordAccessors").creative.portrait_customizations.carousel_delivery_mode.set("fixed_num_cards",m))}}}}o=b("AdsAPICampaignRecordUtils").getPromotedObjectType(f,n);o===b("AdsPromotedObjectTypes").WHATSAPP&&f===b("AdsAPIObjectives").MESSAGES&&(m=b("AdsAdgroupRecordAccessors").creative.object_story_spec.link_data.call_to_action.value.app_destination["delete"](m));o=(o=m.creative)==null?void 0:o.object_story_id;o!=null&&o.includes(b("AdsLoadState_LEGACY").LOADING)&&(m=b("AdsMutators").chain(b("AdsAdgroupRecordAccessors").creative.object_story_id["delete"],b("AdsAdgroupRecordAccessors").creative.instagram_actor_id["delete"])(m));!(g||(g=b("isEmpty")))(c)&&b("AdsAssetFeedUtils").isRegularDCOCampaign(n)&&(m=b("AdsDCOUtils").convertStorySpecAdToDCOAd(m,f,e));o=e.isACODefaultOptInEligibleMap||i;n=o.get(h.id);n&&(m=b("adsACOConvertToACOAd")(m));o=m.name||"";m=b("AdsAdgroupRecordAccessors").name.set(o.replace(/\n/g," "),m);h=b("AdsSplitTestUtils").hasSplitTest(a);d.length>1&&!h&&(m=b("AdsAdgroupRecordAccessors").name.set(m.name+" - Image "+(l+1),m));return m.toJS()})};e.exports={adsCFSpecDestinationIDGenerationAdgroups:k,adsCFSpecGenerationAdgroups:a,adsCFSpecPageIDGenerationAdgroups:j}}),null);
__d("adsCollectionAdClearCanvasLinkURL",["AdsAPIAdAssetFeedLinkURLsFields","AdsAPIChildAttachmentPaths","AdsAPIObjectives","AdsAssetFeedFieldUtils","AdsChildAttachmentsUtils","AdsUEditorAdgroupMultiProductMutators","AdsUnifiedCreativeAPIFields","isAdsCanvasLink"],(function(a,b,c,d,e,f){function a(a,c,d,e){if(d===b("AdsAPIObjectives").LEAD_GENERATION)return a;d=b("AdsAssetFeedFieldUtils").firstAsset_TALK_WITH_ACE_BEFORE_USE(b("AdsUnifiedCreativeAPIFields").linkURL.getValue(a,c),b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL);var f=a;b("isAdsCanvasLink")(d)&&(f=a.setIn(b("AdsUnifiedCreativeAPIFields").linkURL.getPathOrThrow(a,c),e),f=f.deleteIn(b("AdsUnifiedCreativeAPIFields").callToActionValue.getPathOrThrow(f,c).concat("lead_gen_form_id")),b("AdsChildAttachmentsUtils").isCarouselAd(f)&&(f=b("AdsUEditorAdgroupMultiProductMutators").setInEachChild(b("AdsAPIChildAttachmentPaths").LINK,e,f),f=b("AdsUEditorAdgroupMultiProductMutators").deleteInEachChild(b("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.LEAD_GEN_FORM_ID,a)));d=b("AdsUnifiedCreativeAPIFields").callToActionValue.getValue(f,c);if(d){a=d.getIn(["link"]);b("isAdsCanvasLink")(a)&&(f=f.setIn(b("AdsUnifiedCreativeAPIFields").callToActionValue.getPathOrThrow(f,c).concat("link"),e))}return f}e.exports=a}),null);
__d("adsCollectionAdRemoveCollectionRetailersItemIDs",["AdsAdgroupRecordAccessors","AdsAPIObjectives","AdsUnifiedCreativeAPIFields"],(function(a,b,c,d,e,f){function a(a,c,d){var e=a;b("AdsUnifiedCreativeAPIFields").retailerItemIDs.isSupported(a,c)&&(e=e.deleteIn(b("AdsUnifiedCreativeAPIFields").retailerItemIDs.getPathOrThrow(e,c)),e=d===b("AdsAPIObjectives").APP_INSTALLS?e:b("AdsAdgroupRecordAccessors").creative.product_set_id["delete"](e));b("AdsUnifiedCreativeAPIFields").postClickItemDescription.isSupported(e,c)&&(e=e.deleteIn(b("AdsUnifiedCreativeAPIFields").postClickItemDescription.getPathOrThrow(e,c)));b("AdsUnifiedCreativeAPIFields").postClickItemHeadline.isSupported(e,c)&&(e=e.deleteIn(b("AdsUnifiedCreativeAPIFields").postClickItemHeadline.getPathOrThrow(e,c)));return e}e.exports=a}),null);
__d("AdsCarteUtils",["invariant","AdsAdgroupRecordAccessors","AdsAPIAdAssetCustomizationRuleFields","AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetFeedDescriptionsFields","AdsAPIAdAssetFeedLinkURLsFields","AdsAPIAdAssetFeedTitlesFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetLinkURLFields","AdsAssetFeedFieldUtils","AdsAssetFeedMutationUtils","AdsUnifiedCreativeAPIFields","guid","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h={makeUniqueLabelName:function(){return"carte_asset_"+b("guid")()},isAdCampaignCarteEnabled:function(a){return a.is_dynamic_creative_asset_customization},addAssetIfNotExistAndUpdateCustomizationRule:function(a,c,d,e,f,g,i){c=b("AdsAssetFeedMutationUtils").addAssetIfNotExist(c,d,e,f,g,h.makeUniqueLabelName);d=c.adLabelName;e=c.mutatedAdgroup;f=a.setIn([i,"name"],d);return{mutatedCustomizationRule:f,mutatedAdgroup:e}},_isBlankString:function(a){return a!=null&&a.trim().length===0},_isEmptyObject:function(a){return a!=null&&Object.keys(a).length===0},resetCarteSegementPriorities:function(a){return a.map(function(a,c){return a.setIn([b("AdsAPIAdAssetCustomizationRuleFields").PRIORITY],c+1)})},normalizeCustomizationRules:function(a){a=((a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.asset_customization_rules)||b("immutable").List();a=a.sortBy(function(a,c,d){return a.getIn([b("AdsAPIAdAssetCustomizationRuleFields").PRIORITY])});return h.resetCarteSegementPriorities(a)},tryRemoveAssetIfReferenceChanges:function(a,c,d,e,f,g,h){var i=[f,"name"];g=g.getIn(i);var j=a;!!g&&g!==h.getIn(i)&&(j=b("AdsAssetFeedMutationUtils").removeAssetIfNotUsed(a,c,d,e,g,f));return j},removeUnusedAssets:function(a,c,d,e){e===void 0&&(e=b("immutable").Map());a=a;a=h.tryRemoveAssetIfReferenceChanges(a,c,b("AdsUnifiedCreativeAPIFields").headline,b("AdsAPIAdAssetFeedTitlesFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").TITLE_LABEL,d,e);a=h.tryRemoveAssetIfReferenceChanges(a,c,b("AdsUnifiedCreativeAPIFields").linkDescription,b("AdsAPIAdAssetFeedDescriptionsFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").DESCRIPTION_LABEL,d,e);a=h.tryRemoveAssetIfReferenceChanges(a,c,b("AdsUnifiedCreativeAPIFields").message,b("AdsAPIAdAssetFeedBodiesFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").BODY_LABEL,d,e);a=h.tryRemoveAssetIfReferenceChanges(a,c,b("AdsUnifiedCreativeAPIFields").videoID,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").VIDEO_LABEL,d,e);a=h.tryRemoveAssetIfReferenceChanges(a,c,b("AdsUnifiedCreativeAPIFields").callToAction,"adlabels",b("AdsAPIAdAssetCustomizationRuleFields").CALL_TO_ACTION_LABEL,d,e);a=h.tryRemoveAssetIfReferenceChanges(a,c,b("AdsUnifiedCreativeAPIFields").linkURL,b("AdsAPIAdAssetLinkURLFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").LINK_URL_LABEL,d,e);return a},_updateCustomizaionRuleWithNewAssetField:function(a,c,d,e,f,i,j){f=f.filter(function(a){return!!a});if(f.size===0)return{mutatedCustomizationRule:a,mutatedAdgroup:c};var k=a.getIn([j,"name"]);f=f;if(k!=null){typeof k==="string"||k instanceof String||g(0,953);var l=e.getValue(c,d);if(l!=null){l instanceof b("immutable").List||g(0,4847);l=b("AdsAssetFeedFieldUtils").getAssetMapForLabels(l,i,[k]).get(k);l!=null&&(f=l.remove(i).merge(f))}}return h.addAssetIfNotExistAndUpdateCustomizationRule(a,c,d,e,f,i,j)},_editTextAsset:function(a,c,d,e,f,g,i,j){if((j instanceof String||typeof j==="string")&&h._isBlankString(j))return{mutatedCustomizationRule:a["delete"](g),mutatedAdgroup:c};else if(j!=null)return h._updateCustomizaionRuleWithNewAssetField(a,c,d,e,b("immutable").Map([[i,j]]),f,g);return{mutatedCustomizationRule:a,mutatedAdgroup:c}},editCarteSegmentBody:function(a,c,d,e){var f=h.normalizeCustomizationRules(a);d>=0&&d<f.size||g(0,4848);var i=f.get(d),j=i;a=a;e=h._editTextAsset(j,a,c,b("AdsUnifiedCreativeAPIFields").message,b("AdsAPIAdAssetFeedBodiesFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").BODY_LABEL,b("AdsAPIAdAssetFeedBodiesFields").TEXT,e);j=e.mutatedCustomizationRule;a=e.mutatedAdgroup;f=f.set(d,j);a=b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.set(f,a);return h.removeUnusedAssets(a,c,i,j)},editCarteSegmentWithSingleVideo:function(a,c,d,e,f,i,j,k,l){var m=h.normalizeCustomizationRules(a);d>=0&&d<m.size||g(0,4848);var n=m.get(d),o=n;a=a;e!=null&&(o=o.setIn([b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC],e));h._isBlankString(f)?o=o["delete"](b("AdsAPIAdAssetCustomizationRuleFields").NAME):f!=null&&(o=o.setIn([b("AdsAPIAdAssetCustomizationRuleFields").NAME],f));e=h._editTextAsset(o,a,c,b("AdsUnifiedCreativeAPIFields").headline,b("AdsAPIAdAssetFeedTitlesFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").TITLE_LABEL,b("AdsAPIAdAssetFeedTitlesFields").TEXT,i);o=e.mutatedCustomizationRule;a=e.mutatedAdgroup;f=h._editTextAsset(o,a,c,b("AdsUnifiedCreativeAPIFields").linkDescription,b("AdsAPIAdAssetFeedDescriptionsFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").DESCRIPTION_LABEL,b("AdsAPIAdAssetFeedDescriptionsFields").TEXT,l);o=f.mutatedCustomizationRule;a=f.mutatedAdgroup;if(h._isEmptyObject(j))o=o["delete"](b("AdsAPIAdAssetCustomizationRuleFields").VIDEO_LABEL);else if(j!=null){i=h._updateCustomizaionRuleWithNewAssetField(o,a,c,b("AdsUnifiedCreativeAPIFields").videoID,b("immutable").Map([[b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID,j.videoID],[b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL,j.thumbnailURL]]),b("AdsAPIAdAssetFeedVideosFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").VIDEO_LABEL);o=i.mutatedCustomizationRule;a=i.mutatedAdgroup}if(h._isEmptyObject(k)){o=o["delete"]((e=b("AdsAPIAdAssetCustomizationRuleFields")).CALL_TO_ACTION_LABEL);o=o["delete"](e.TITLE_LABEL);o=o["delete"](e.DESCRIPTION_LABEL);o=o["delete"](e.LINK_URL_LABEL)}else if(k!=null){if(k.type!=null){l=h._updateCustomizaionRuleWithNewAssetField(o,a,c,b("AdsUnifiedCreativeAPIFields").callToAction,b("immutable").Map([["type",k.type]]),"adlabels",b("AdsAPIAdAssetCustomizationRuleFields").CALL_TO_ACTION_LABEL);o=l.mutatedCustomizationRule;a=l.mutatedAdgroup}f=h._updateCustomizaionRuleWithNewAssetField(o,a,c,b("AdsUnifiedCreativeAPIFields").linkURL,b("immutable").Map([[b("AdsAPIAdAssetFeedLinkURLsFields").DISPLAY_URL,k.displayURL],[b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL,k.websiteURL]]),b("AdsAPIAdAssetLinkURLFields").ADLABELS,b("AdsAPIAdAssetCustomizationRuleFields").LINK_URL_LABEL);o=f.mutatedCustomizationRule;a=f.mutatedAdgroup}m=m.set(d,o);a=b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.set(m,a);return h.removeUnusedAssets(a,c,n,o)},appendCarteSegment:function(a,c){c=h.normalizeCustomizationRules(a);var d=c.size===0?0:c.size-1,e=d+1;e=c.size===0?b("immutable").Map([[b("AdsAPIAdAssetCustomizationRuleFields").PRIORITY,e],[b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC,b("immutable").Map()]]):c.last();c=c.splice(d,0,e);c=h.resetCarteSegementPriorities(c);return b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.set(c,a)},moveCarteSegment:function(a,c,d,e){if(e===0)return a;c=h.normalizeCustomizationRules(a);var f=c.get(d);e=e+d;e>=0&&e<c.size||g(0,4849);c=c.remove(d).splice(e,0,f);c=h.resetCarteSegementPriorities(c);return b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.set(c,a)},deleteCarteSegment:function(a,c,d){var e=h.normalizeCustomizationRules(a);d>=0&&d<e.size||g(0,4850);var f=e.get(d);e=e["delete"](d);e=h.resetCarteSegementPriorities(e);d=b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.set(e,a);return h.removeUnusedAssets(d,c,f)},editCarteSegmentationCategories:function(a,c,d){c=h.normalizeCustomizationRules(a);var e=c.last();c=c.pop();c=c.map(function(a){var c=a.get(b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC)||b("immutable").Map();c instanceof b("immutable").Map||g(0,4851);c=c.filter(function(a,b){return d.includes(b)});return a.set(b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC,c)});c=c.push(e);return b("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.set(c,a)},enableCarteForAdgroup:function(a){return babelHelpers["extends"]({},a,{creative:{asset_feed_spec:{ad_formats:["SINGLE_VIDEO"],asset_customization_rules:[{priority:1,customization_spec:{}}],optimization_type:"ASSET_CUSTOMIZATION"}}})}};e.exports=h}),null);
__d("AdsConvergenceAdgroupPluginType",[],(function(a,b,c,d,e,f){"use strict";e.exports={order:["objective"]}}),null);
__d("AdsConvergenceAdgroupPluginResolver",["AdsConvergenceAdgroupPluginType","adsPluginResolverFactory","AdsConvergenceAdgroupPlugins"],(function(a,b,c,d,e,f){"use strict";a=b("AdsConvergenceAdgroupPluginType").order;c=b("adsPluginResolverFactory")(function(){return b("AdsConvergenceAdgroupPlugins").getArray()},a);e.exports=c}),null);
__d("AdsCampaignMutatorUtils",["AdsAPIBidStrategies","AdsAPIBillingEvents","AdsAPIObjectives","AdsAPIOptimizationGoals","AdsCampaignBudgetPluginResolver","AdsCampaignRecordAccessors","AdsMutators","AdsPromotedObjectTypes","adsAccountGK","adsCampaignGetDefaultDailyBudget","adsCampaignGetDefaultStartDate","adsCampaignGetISODateTimeString","adsCampaignIsCampaignGroupBudget","isFalsey"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return c!==b("AdsAPIObjectives").MESSAGES?a:a.withMutations(function(a){b("AdsCampaignRecordAccessors").billing_event.set(b("AdsAPIBillingEvents").IMPRESSIONS,a),b("AdsCampaignRecordAccessors").optimization_goal.set(b("adsAccountGK")._(d,"2iKPyfQrp")?b("AdsAPIOptimizationGoals").CONVERSATIONS:b("AdsAPIOptimizationGoals").REPLIES,a),b("adsCampaignIsCampaignGroupBudget")(a)||(b("AdsCampaignRecordAccessors").bid_strategy.set(b("AdsAPIBidStrategies").LOWEST_COST_WITHOUT_CAP,a),b("AdsCampaignRecordAccessors").is_autobid.set(!0,a),b("AdsCampaignRecordAccessors").is_average_price_pacing.set(!1,a)),b("AdsCampaignRecordAccessors").bid_amount["delete"](a)})}function c(a){return b("AdsCampaignRecordAccessors").promoted_object.page_id["delete"](a)}function d(a,c){var d;c=c.business_country_code;return b("isFalsey")(c)||((d=a.targeting.geo_locations)==null?void 0:d.countries)?a:b("AdsCampaignRecordAccessors").targeting.geo_locations.countries.set([c],a)}function f(a,c){var d=c.currency;c=c.timezone_offset_hours_utc;var e=b("adsCampaignGetDefaultStartDate")();e=b("AdsMutators").chain(b("AdsCampaignRecordAccessors").start_time.set(b("adsCampaignGetISODateTimeString")(e,c)),b("AdsCampaignRecordAccessors").end_time["delete"])(a);if(b("adsCampaignIsCampaignGroupBudget")(e))return e;c=b("adsCampaignGetDefaultDailyBudget")(d,b("AdsCampaignBudgetPluginResolver").resolve({objective:b("AdsAPIObjectives").MESSAGES,promotedObjectType:b("AdsPromotedObjectTypes").MESSENGER}));return b("AdsMutators").chain(b("AdsCampaignRecordAccessors").daily_budget.set(c),b("AdsCampaignRecordAccessors").lifetime_budget.set(0))(e)}e.exports={setOptimizationForMessengerandInstagramPromotedObject:a,removePromotedObjectPageID:c,setCountryForMessengerAndInstagramPromotedObject:d,setDefaultBudgetForMessengerPromotedObject:f}}),null);
__d("AdsUEditorCampaignWhatsAppMutators",["AdCampaignDestination","AdsAPIBillingEvents","AdsAPIObjectives","AdsAPIOptimizationGoals","AdsCampaignBudgetPluginResolver","AdsCampaignRecordAccessors","AdsMutators","AdsPlacementReducerUtils","AdsPromotedObjectTypes","AdsUEditorCampaignMutators","DayPartingUtils","adsAccountGK","adsCampaignGetDefaultDailyBudget","adsCampaignGetDefaultStartDate","adsCampaignGetISODateTimeString","adsCampaignIsCampaignGroupBudget","immutable","isFalsey"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d){var e;switch(c){case b("AdsAPIObjectives").LINK_CLICKS:e=b("AdsAPIOptimizationGoals").LINK_CLICKS;break;case b("AdsAPIObjectives").CONVERSIONS:e=b("AdsAPIOptimizationGoals").OFFSITE_CONVERSIONS;break;default:e=b("adsAccountGK")._(a,"2iKPyfQrp")?b("AdsAPIOptimizationGoals").CONVERSATIONS:b("AdsAPIOptimizationGoals").REPLIES}return b("adsCampaignIsCampaignGroupBudget")(d)?b("AdsMutators").chain(b("AdsCampaignRecordAccessors").billing_event.set(b("AdsAPIBillingEvents").IMPRESSIONS),b("AdsCampaignRecordAccessors").optimization_goal.set(e),b("AdsCampaignRecordAccessors").bid_amount["delete"])(d):b("AdsMutators").chain(b("AdsCampaignRecordAccessors").is_autobid.set(!0),b("AdsCampaignRecordAccessors").billing_event.set(b("AdsAPIBillingEvents").IMPRESSIONS),b("AdsCampaignRecordAccessors").optimization_goal.set(e),b("AdsCampaignRecordAccessors").bid_amount["delete"])(d)}function h(a,c){var d;a=a.business_country_code;return b("isFalsey")(a)||((d=c.targeting)==null?void 0:(d=d.geo_locations)==null?void 0:d.countries)!=null?c:b("AdsCampaignRecordAccessors").targeting.geo_locations.countries.set([a],c)}function i(a,c){var d=a.timezone_offset_hours_utc,e=b("adsCampaignGetDefaultStartDate")();e=b("adsCampaignGetISODateTimeString")(e,d);d=b("AdsMutators").chain(b("AdsCampaignRecordAccessors").start_time.set(e),b("AdsCampaignRecordAccessors").end_time["delete"])(c);if(b("adsCampaignIsCampaignGroupBudget")(d))return d;e=b("adsCampaignGetDefaultDailyBudget")(a.currency,b("AdsCampaignBudgetPluginResolver").resolve({objective:b("AdsAPIObjectives").MESSAGES,promotedObjectType:b("AdsPromotedObjectTypes").WHATSAPP}));return b("AdsMutators").chain(b("AdsCampaignRecordAccessors").daily_budget.set(e),b("AdsCampaignRecordAccessors").lifetime_budget.set(0))(d)}function j(a,c){if(b("adsCampaignIsCampaignGroupBudget")(c))return c;var d=c.pacing_type,e=!1;return b("AdsCampaignRecordAccessors").pacing_type.set(b("immutable").List(b("DayPartingUtils").setPacingType(Array.isArray(d)?d.slice():[],a,e)),c)}function a(a,c,d,e){return b("AdsMutators").chain(b("AdsCampaignRecordAccessors").destination_type.set(b("AdCampaignDestination").WHATSAPP),b("AdsCampaignRecordAccessors").promoted_object["delete"],b("AdsCampaignRecordAccessors").targeting.is_whatsapp_destination_ad.set(b("immutable").fromJS(!0)),function(a){return g(c,d,a)},function(a){return i(c,a)},function(a){return h(c,a)},function(a){return j(!1,a)},function(a){return b("AdsPlacementReducerUtils").resetPlacement(a,e)},function(a){return b("AdsUEditorCampaignMutators").updateConversionWindowLength(a,d,b("AdsPromotedObjectTypes").WHATSAPP)})(a)}c={setOptimizationForWhatsAppPromotedObject:g,resetPacing:j,setWhatsAppPromotedObjectTypeForMessages:a};e.exports=c}),null);
__d("AdsUEditorCampaignSetMessengerPromotedObjectTypeReducerPlugin",["AdCampaignDestination","AdsAPICampaignRecordUtils","AdsAPITargetFields","AdsCampaignMutatorUtils","AdsCampaignRecordAccessors","AdsMutators","AdsPlacementAPISpecWriterUtils","AdsPlacementReducerUtils","AdsPromotedObjectUtils","AdsSetMessengerPromotedObjectSource","AdsUEditorAdgroupNavigateMessengerPromotedObjectActionFlux","AdsUEditorCampaignGroupAdObjectsUtils","AdsUEditorCampaignReducerUtils","AdsUEditorCampaignSelectors","AdsUEditorCampaignSetMessengerPromotedObjectTypeDataActionFlux","AdsUEditorCampaignWhatsAppMutators","AdsUEditorHostIDs","adsUEditorAccountSelector","immutable"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("AdsUEditorCampaignReducerUtils").createReducer({account:b("adsUEditorAccountSelector"),buyingTypes:b("AdsUEditorCampaignSelectors").adObjectsList.mapTransform(b("AdsUEditorCampaignGroupAdObjectsUtils").getBuyingType),objectives:b("AdsUEditorCampaignSelectors").adObjectsList.mapTransform(b("AdsUEditorCampaignGroupAdObjectsUtils").getObjective)},function(a,c,d){var e=d.account,f=d.buyingTypes,g=d.objectives;return b("AdsMutators").mutateEach(a,c.campaignIDs,function(a,d){return b("AdsMutators").chain(b("AdsCampaignRecordAccessors").destination_type.set(b("AdCampaignDestination").MESSENGER),function(a){return c.hostID===b("AdsUEditorHostIDs").CREATION?b("AdsMutators").chain(function(a){return b("AdsPlacementAPISpecWriterUtils").removeGroup(a,"messenger/thread",c.eligibilityInformation,b("AdsAPITargetFields").MESSENGER_POSITIONS,"messenger")},function(a){return b("AdsPromotedObjectUtils").setPromotedObjectForAppObjectives(a,void 0,void 0,g.get(d))},function(a){var c;return b("AdsPlacementReducerUtils").resetPlacement(a,{objective:g.get(d),buyingType:f.get(d),capabilities:e.capabilities,promotedObjectType:b("AdsAPICampaignRecordUtils").getPromotedObjectType(g.get(d),a),objectStoreURL:(c=a.promoted_object)==null?void 0:c.object_store_url,containsOffer:!!((c=a.promoted_object)==null?void 0:c.offer_id),targetingDirectInstallDevices:!!a.targeting.direct_install_devices,spec:{}})})(a):a},function(a){return b("AdsCampaignMutatorUtils").setOptimizationForMessengerandInstagramPromotedObject(a,c.eligibilityInformation.objective,e)},function(a){return b("AdsCampaignRecordAccessors").targeting.is_whatsapp_destination_ad["delete"](a)},function(a){return b("AdsCampaignMutatorUtils").removePromotedObjectPageID(a)},function(a){return c.hostID===b("AdsUEditorHostIDs").CREATION?b("AdsCampaignRecordAccessors").promoted_object.custom_event_type["delete"](a):a},function(a){return b("AdsCampaignMutatorUtils").setCountryForMessengerAndInstagramPromotedObject(a,e)},function(a){if(c.hostID===b("AdsUEditorHostIDs").CREATION&&c.eventSource===b("AdsSetMessengerPromotedObjectSource").SELECT_CLICK_TO_MESSENGER_IN_CF)return b("AdsCampaignMutatorUtils").setDefaultBudgetForMessengerPromotedObject(a,e);return c.hostID===b("AdsUEditorHostIDs").EDITING&&c.eventSource===b("AdsSetMessengerPromotedObjectSource").SELECT_CLICK_TO_MESSENGER_IN_PE?b("AdsMutators").chain(function(a){return b("AdsCampaignMutatorUtils").setDefaultBudgetForMessengerPromotedObject(a,e)},function(a){return b("AdsUEditorCampaignWhatsAppMutators").resetPacing(!1,a)})(a):a})(a)})},[b("AdsUEditorAdgroupNavigateMessengerPromotedObjectActionFlux").actionType,b("AdsUEditorCampaignSetMessengerPromotedObjectTypeDataActionFlux").actionType])};e.exports=a}),null);
__d("AdsUEditorInstagramMutators",["AdCampaignDestination","AdsAdgroupTypeUtils","AdsAPIAdgroupRecordUtils","AdsAPIObjectives","AdsAssetFeedUtils","AdsCallToActionTypesCond","AdsCampaignBudgetPluginResolver","AdsCampaignMutatorUtils","AdsCampaignRecordAccessors","AdsCanvasAdUtils","AdsCollectionsAdUtils","AdsEditorPostEditMode","AdsMediaFormatMutators","AdsMutators","AdsPlacementReducerUtils","AdsPromotedObjectTypes","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupCachedUtils","AdsUEditorCallToActionMutators","AdsUEditorCampaignWhatsAppMutators","AdsUEditorMessengerMutators","AdsUEditorSetPostEditModeMutators","AdsUEditorWebsiteMutators","AdsUnifiedCreativeAPIFields","ApiAdObjectTypes","adsCampaignGetDefaultDailyBudget","adsCampaignGetDefaultStartDate","adsCampaignGetISODateTimeString","adsCampaignIsCampaignGroupBudget","adsCollectionAdClearCanvasLinkURL","adsCollectionAdRemoveCollectionRetailersItemIDs"],(function(a,b,c,d,e,f){"use strict";d=function(a){var c=a.adgroup,d=a.campaignPromotedPageID,e=a.objective,f=a.specPlugin,g=a.supportPageEndCard;a=b("AdsMutators").chain(function(a){return b("AdsUEditorMessengerMutators").deleteSponsoredMessagesFields({adgroup:a})},function(a){return b("AdsUEditorMessengerMutators").deleteMessengerDestinationFields({adgroup:a,specPlugin:f,supportPageEndCard:g})},function(a){return b("AdsUEditorCallToActionMutators").setCallToAction({callToActionType:b("AdsCallToActionTypesCond").TYPES.INSTAGRAM_MESSAGE.name,pages:null,cachedCallToActionLink:null,adgroup:a,campaignGroupPromotedPageID:d,objective:e,promotedObjectType:b("AdsPromotedObjectTypes").INSTAGRAM,specPlugin:f})},function(a){return a.setIn(b("AdsUnifiedCreativeAPIFields").pageID.getPathOrThrow(a,f),d)},function(a){return b("AdsUEditorWebsiteMutators").setWebsiteURL({websiteURL:"www.instagram.com",adgroup:a,campaignGroupPromotedPageID:d,objective:e,promotedObjectType:b("AdsPromotedObjectTypes").INSTAGRAM,specPlugin:f})});return a(c)};function a(a,c,d){var e;return b("AdsMutators").chain((e=b("AdsCampaignRecordAccessors")).targeting.is_whatsapp_destination_ad["delete"],e.targeting.app_install_state["delete"],e.targeting.user_os["delete"],e.targeting.user_device["delete"],e.destination_type.set(b("AdCampaignDestination").INSTAGRAM_DIRECT),function(b){return g(b,a)},function(c){return b("AdsCampaignMutatorUtils").setCountryForMessengerAndInstagramPromotedObject(c,a)},function(a){return b("AdsPlacementReducerUtils").resetPlacement(a,d)},function(c){return b("AdsCampaignMutatorUtils").setOptimizationForMessengerandInstagramPromotedObject(c,d.objective,a)},function(a){return b("AdsUEditorCampaignWhatsAppMutators").resetPacing(!1,a)})(c)}function g(a,c){var d=c.currency;c=c.timezone_offset_hours_utc;var e=b("adsCampaignGetDefaultStartDate")();e=b("AdsMutators").chain(b("AdsCampaignRecordAccessors").start_time.set(b("adsCampaignGetISODateTimeString")(e,c)),b("AdsCampaignRecordAccessors").end_time["delete"])(a);if(b("adsCampaignIsCampaignGroupBudget")(e))return e;c=b("adsCampaignGetDefaultDailyBudget")(d,b("AdsCampaignBudgetPluginResolver").resolve({objective:b("AdsAPIObjectives").MESSAGES,promotedObjectType:b("AdsPromotedObjectTypes").INSTAGRAM}));return b("AdsMutators").chain(b("AdsCampaignRecordAccessors").daily_budget.set(c),b("AdsCampaignRecordAccessors").lifetime_budget.set(0))(e)}function c(a,c,d,e,f){var g=a;b("AdsAPIAdgroupRecordUtils").isExistingPostAd(g)&&(g=b("AdsUEditorSetPostEditModeMutators").setToUsingInlineCreation({adgroup:g,cachedCreative:b("AdsUEditorAdgroupCachedUtils").getCreative(e,f,b("AdsEditorPostEditMode").INLINE),cachedMetadata:b("AdsUEditorAdgroupCachedUtils").getMetadata(e,f),cachedPageID:b("AdsUEditorAdgroupCachedUtils").getPageID(e,f),objective:d,specPathPlugin:c}));b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(a)&&(g=b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec(b("ApiAdObjectTypes").VIDEO,a,d));b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&(g=b("AdsMutators").chain(function(a){return b("adsCollectionAdClearCanvasLinkURL")(a,c,d,"")},function(a){return b("adsCollectionAdRemoveCollectionRetailersItemIDs")(a,c,d)})(g));b("AdsCanvasAdUtils").isCanvasDestinationEnabled(g)&&(g=b("adsCollectionAdClearCanvasLinkURL")(g,c,d,""));b("AdsAdgroupTypeUtils").isVideoAd(g)||(g=b("AdsMediaFormatMutators").setMediaFormat("VIDEO",g,c,d,e));return g}f={setFieldsForSelectingPromotedObjectType:d,setInstagramPromotedObjectTypeForMessages:a,setDefaultBudgetForInstagramPromotedObject:g,setAdgroupForInstagramIGTVplacement:c};e.exports=f}),null);
__d("AdsAdCreationUtils",["fbt","AdsConvergenceGatingUtils"],(function(a,b,c,d,e,f,g){"use strict";a={getAdObjectWithDefaultName:function(a,b,c,d){var e;d===void 0&&(d=!1);return babelHelpers["extends"]({},a,(e={},e[c]=a[c]&&a[c].trim()&&!d?a[c]:b,e))},DEFAULT_ADGROUP_NAME:b("AdsConvergenceGatingUtils").getIsConvergenceV2Enabled()?g._("New Ad"):g._("Untitled Ad"),DEFAULT_CAMPAIGN_NAME:b("AdsConvergenceGatingUtils").getIsConvergenceV2Enabled()?g._("New Ad Set"):g._("Untitled Ad Set"),DEFAULT_CAMPAIGN_GROUP_NAME:b("AdsConvergenceGatingUtils").getIsConvergenceV2Enabled()?g._("New Campaign"):g._("Untitled Campaign")};e.exports=a}),null);
__d("adsConvergenceGetDefaultAdgroupRecord",["AdsAdCreationUtils","AdsAdgroupCreativePluginResolver","AdsAdgroupRecordAccessors","AdsAdgroupSpecPathPluginResolver","AdsAPICampaignRecordUtils","AdsAudienceDirectConfig","AdsConvergenceAdgroupPluginResolver","AdsOfferState","CatalogVertical"],(function(a,b,c,d,e,f){"use strict";a=function(a,c,d,e,f,g,h,i,j,k,l,m){k===void 0&&(k=b("AdsAudienceDirectConfig").accountType);l===void 0&&(l=b("AdsOfferState").NO_OFFER);m===void 0&&(m=b("CatalogVertical").NONE);var n=b("AdsAPICampaignRecordUtils").getPromotedObjectType(c,d);l=b("AdsAdgroupCreativePluginResolver").resolve({objective:c,promotedObjectType:n,accountType:k,offerStateType:l,catalogVertical:m});m=b("AdsAdgroupSpecPathPluginResolver").resolve({objective:c,promotedObjectType:n,accountType:k});n=b("AdsConvergenceAdgroupPluginResolver").resolve({objective:c});k=n.generateDefaultAdgroupSpec({account:a,campaign:d,isAuthorizedPage:e,locationPage:f,pageID:g,pageDestination:i,catalogSalesData:j},l,m);h!=null&&(k=b("AdsAdgroupRecordAccessors").creative.object_story_spec.instagram_actor_id.set(h,k));return b("AdsAdgroupRecordAccessors").name.set(b("AdsAdCreationUtils").DEFAULT_ADGROUP_NAME.toString(),k)};e.exports=a}),null);
__d("AdsInstagramAccountUtils",["AdsLoadStateUtils_LEGACY","getByPath"],(function(a,b,c,d,e,f){"use strict";var g={mapToDestinations:function(a){return a.map(function(a){return{id:a.id,name:a.username,icon_url:a.profile_pic}})},getPageBackedInstagramAccountMap:function(a){var b=new Map();a.forEach(function(a){a=g.getLoadedPageBackedInstagramAccount(a);a&&b.set(a.id,a)});return b},getLoadedPageBackedInstagramAccount:function(a){if(!b("AdsLoadStateUtils_LEGACY").isLoaded(a))return null;a=b("getByPath")(a,["page_backed_instagram_accounts","data"],[]);return a.length>0?a[0]:null},isPublished:function(a){return!b("AdsLoadStateUtils_LEGACY").isLoaded(a)?null:a.is_published},filterOutPrivateInstagramAccounts:function(a){return a.filter(function(a){return!a.is_private})}};e.exports=g}),null);
__d("pickDefaultInstagramAccount",["getByPath"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("getByPath")(a,["instagram_accounts","data","0","id"])||b("getByPath")(a,["page_backed_instagram_accounts","data","0","id"])}e.exports=a}),null);
__d("AdsInstagramAccountStoreUtils",["regeneratorRuntime","Promise","AdsBusinessInstagramAccountProvider","AdsInstagramAccountUtils","gkx","isTruthy","AdsLoadStateUtils_LEGACY","AdsPageInstagramAccountStore","AdsPageStore","adsStorePromiseAsyncGetForSyncStore","getByPath","isEmpty","pickDefaultInstagramAccount"],(function(a,b,c,d,e,f){"use strict";var g,h=b("AdsBusinessInstagramAccountProvider").toFluxStore();function i(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(b("adsStorePromiseAsyncGetForSyncStore")(h,function(){return b("AdsLoadStateUtils_LEGACY").fromLoadObjectTreatEmptyAsLoading(h.getState().get(a))}));case 2:c=d.sent;return d.abrupt("return",b("getByPath")(c,["data"]));case 4:case"end":return d.stop()}},null,this)}function j(a,c,d){var e,f;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:if(!(!c||(g||(g=b("isEmpty")))(Object.values(d)))){h.next=2;break}return h.abrupt("return",b("Promise").resolve(Object.keys(d)));case 2:h.next=4;return b("regeneratorRuntime").awrap(i(a));case 4:e=h.sent;f=new Set(e.map(function(a){return a.id}));return h.abrupt("return",Object.entries(d).filter(function(a){a[0];a=a[1];return!f.has(a)}).map(function(a){var b=a[0];a[1];return b}));case 7:case"end":return h.stop()}},null,this)}function k(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:return c.abrupt("return",b("adsStorePromiseAsyncGetForSyncStore")(b("AdsPageStore"),function(){return b("AdsPageStore").get(a)}).then(function(a){return a.access_token}));case 1:case"end":return c.stop()}},null,this)}function l(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:b("gkx")("1285331")&&b("AdsPageInstagramAccountStore").getAllWithLogging(a,"AdsInstagramAccountStoreUtils.genPageInstagramAccounts");d.next=3;return b("regeneratorRuntime").awrap(b("adsStorePromiseAsyncGetForSyncStore")(b("AdsPageInstagramAccountStore"),function(){return b("AdsPageInstagramAccountStore").getAll(a)}));case 3:c=d.sent;return d.abrupt("return",c);case 5:case"end":return d.stop()}},null,this)}function a(a,c,d,e){var f,h,i,m,n;return b("regeneratorRuntime").async(function(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return b("regeneratorRuntime").awrap(b("Promise").all([j(a,c,d),k(e)]));case 2:f=o.sent;h=f[0];i=f[1];if(!(g||(g=b("isEmpty")))(h)){o.next=7;break}return o.abrupt("return",{instagramAccountID:void 0,adgroupIDs:[],pageAccessToken:i});case 7:o.next=9;return b("regeneratorRuntime").awrap(l([e]));case 9:m=o.sent;n=m.get(e);if(!n){o.next=13;break}return o.abrupt("return",{adgroupIDs:h,instagramAccountID:b("pickDefaultInstagramAccount")(n),pageAccessToken:i});case 13:return o.abrupt("return",{adgroupIDs:[],instagramAccountID:void 0,pageAccessToken:i});case 14:case"end":return o.stop()}},null,this)}function c(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:b("gkx")("1285331")&&b("AdsPageInstagramAccountStore").getAllWithLogging(a,"AdsInstagramAccountStoreUtils.genLoadedPageBackedInstagramAccountForPages");return c.abrupt("return",b("adsStorePromiseAsyncGetForSyncStore")(b("AdsPageInstagramAccountStore"),function(){return b("AdsPageInstagramAccountStore").getAll(a)}).then(function(a){var c=new Map();a.forEach(function(a,d){a=b("AdsInstagramAccountUtils").getLoadedPageBackedInstagramAccount(a);d&&a&&c.set(d,a)});return c}));case 2:case"end":return c.stop()}},null,this)}function d(a,c,d,e){var f,g,h,j,m;return b("regeneratorRuntime").async(function(n){while(1)switch(n.prev=n.next){case 0:if(!(c&&b("isTruthy")(e))){n.next=6;break}n.next=3;return b("regeneratorRuntime").awrap(i(a));case 3:f=n.sent;if(!f.some(function(a){return a.id===e})){n.next=6;break}return n.abrupt("return",{needsInstagramAccount:!1});case 6:n.next=8;return b("regeneratorRuntime").awrap(b("Promise").all([l([d]),k(d)]));case 8:g=n.sent;h=g[0];j=g[1];m=h.get(d);if(!m){n.next=14;break}return n.abrupt("return",{instagramAccountID:b("pickDefaultInstagramAccount")(m),needsInstagramAccount:!0,pageAccessToken:j});case 14:return n.abrupt("return",{instagramAccountID:void 0,needsInstagramAccount:!0,pageAccessToken:j});case 15:case"end":return n.stop()}},null,this)}f={genDefaultInstagramAccountForPageAndAdgroups:a,genLoadedPageBackedInstagramAccountForPages:c,genDefaultInstagramAccountForReachFrequency:d,pickDefaultInstagramAccount:b("pickDefaultInstagramAccount")};e.exports=f}),null);
__d("adsReachFrequencyAdFormatsGetStoryEventTypeFromAdFormats",["AdsReachFrequencyAdFormatsConstants","React","adsReachFrequencyAdFormatsUtilsGetHasNonCanvasAdFormats"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsReachFrequencyAdFormatsConstants").AD_FORMATS_TO_RESTRICTED_FORMATS_MAP;b("React");function a(a){var c=a.reduce(function(a,b){return a|g[b.formatType]},0);return!b("adsReachFrequencyAdFormatsUtilsGetHasNonCanvasAdFormats")(a)?c|256:c}e.exports=a}),null);