if (self.CavalryLogger) { CavalryLogger.start_js(["U3XkS"]); }

__d("EUCountries",[],(function(a,b,c,d,e,f){e.exports={AT:"AT",BE:"BE",BG:"BG",CY:"CY",CZ:"CZ",DE:"DE",DK:"DK",EE:"EE",ES:"ES",FI:"FI",FR:"FR",GB:"GB",GR:"GR",HR:"HR",HU:"HU",IE:"IE",IM:"IM",IT:"IT",LT:"LT",LU:"LU",LV:"LV",MC:"MC",MT:"MT",NL:"NL",PL:"PL",PT:"PT",RO:"RO",SE:"SE",SI:"SI",SK:"SK"}}),null);
__d("AdsAppListLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"APP.LIST.LOAD_ERROR");e.exports=a}),null);
__d("AdsAppListLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"APP.LIST.LOAD_ERROR"}}),null);
__d("AdsAppListLoadedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"APP.LIST.LOADED");e.exports=a}),null);
__d("AdsAppListLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"APP.LIST.LOADED"}}),null);
__d("AdsAppListPartialLoadDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"APP.LIST.PARTIAL_LOAD");e.exports=a}),null);
__d("AdsAppListPartialLoadDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"APP.LIST.PARTIAL_LOAD"}}),null);
__d("AdsAppListDataManager",["fbt","Promise","AdsAppListLoadedDataAction","AdsAppListLoadErrorDataAction","AdsAppListPartialLoadDataAction","AdsBaseListDataManager","AdsGraphAPI","GraphAPIPaging","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=["id"],i=500;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.loadFor=function(a){this.loadForAccount(a)};d.loadForAccount=function(a){var c=this;b("promiseDone")(b("AdsGraphAPI").get(e.id).adaccount(a).edge("applications").batched().get({fields:h}).then(b("GraphAPIPaging").eachPage(function(b){return c.$AdsAppListDataManager1(a,b.data)})),this.__handleSuccess.bind(this,["load"],a,null),this.__handleError.bind(this,["load"],a,null))};d.loadForBusiness=function(a){var c=this,d=b("AdsGraphAPI").get(e.id).object("business_id",a).edge("owned_apps").batched().get({fields:h,limit:i}).then(b("GraphAPIPaging").eachPage(function(b){return c.$AdsAppListDataManager1(a,b.data)})),f=b("AdsGraphAPI").get(e.id).object("business_id",a).edge("client_apps").batched().get({fields:h,limit:i}).then(b("GraphAPIPaging").eachPage(function(b){return c.$AdsAppListDataManager1(a,b.data)})),g=b("AdsGraphAPI").get(e.id).object("business_id",a).edge("pending_client_apps").batched().get({fields:h,limit:i}).then(b("GraphAPIPaging").eachPage(function(b){return c.$AdsAppListDataManager1(a,b.data)}));b("promiseDone")(b("Promise").all([d,f,g]),function(b){b=new Map([[a,{data:b.map(function(a){return a.data}).reduce(function(a,b){return a.concat(b)},[])}]]);c.__handleSuccess(["load"],a,null,b)},this.__handleError.bind(this,["load"],a,null))};d.$AdsAppListDataManager1=function(a,c){b("AdsAppListPartialLoadDataAction").dispatch({sourceID:a,apps:c},{line:"128",module:"AdsAppListDataManager.js"})};d.__onBatchLoaded=function(a){a.forEach(function(a,c){b("AdsAppListLoadedDataAction").dispatch({sourceID:c,apps:a.data},{line:"133",module:"AdsAppListDataManager.js"})})};d.__onBatchLoadError=function(a){a.forEach(function(a,c){b("AdsAppListLoadErrorDataAction").dispatch({sourceID:c},{line:"139",module:"AdsAppListDataManager.js"})})};d.__getObjectTypeLabel=function(){return g._("Ad Account")};return c}(b("AdsBaseListDataManager"));e.exports=new a()}),null);
__d("AdsAppListStore",["AdsAppListDataManager","AdsAppListLoadedDataActionFlux","AdsAppListLoadErrorDataActionFlux","AdsAppListPartialLoadDataActionFlux","AdsBaseListStore","AdsLoadState_LEGACY","adsCreateStoreThunkSelector"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.getForBusinessSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.getForBusiness.bind(babelHelpers.assertThisInitialized(d))),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getDataManager=function(){return b("AdsAppListDataManager")};d.__getActionTypes=function(){return[b("AdsAppListLoadErrorDataActionFlux").actionType,b("AdsAppListLoadedDataActionFlux").actionType,b("AdsAppListPartialLoadDataActionFlux").actionType]};d.__onDispatch=function(a){a=a.action;switch(a.actionType){case b("AdsAppListLoadedDataActionFlux").actionType:this.__handleDataFor(a.sourceID,a.apps,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsAppListLoadErrorDataActionFlux").actionType:this.__handleDataFor(a.sourceID,null,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsAppListPartialLoadDataActionFlux").actionType:this.__handleDataFor(a.sourceID,a.apps,b("AdsLoadState_LEGACY").LOADING);break}};d.getForBusiness=function(a){var c=this.getCachedFor(a);if(c.loadState===b("AdsLoadState_LEGACY").NOT_LOADED){b("AdsAppListDataManager").loadForBusiness(a);return{loadState:b("AdsLoadState_LEGACY").LOADING,list:[]}}return c};return c}(b("AdsBaseListStore"));e.exports=new a()}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("bezier-easing-2.0.3",[],(function(a,b,c,d,e,f){"use strict";a={};var g={exports:a};function h(){var a=4,b=.001,c=1e-7,d=10,e=11,f=1/(e-1),h=typeof Float32Array==="function";function i(a,b){return 1-3*b+3*a}function j(a,b){return 3*b-6*a}function k(a){return 3*a}function l(a,b,c){return((i(b,c)*a+j(b,c))*a+k(b))*a}function m(a,b,c){return 3*i(b,c)*a*a+2*j(b,c)*a+k(b)}function n(a,b,e,f,g){var h,i,j=0;do i=b+(e-b)/2,h=l(i,f,g)-a,h>0?e=i:b=i;while(Math.abs(h)>c&&++j<d);return i}function o(b,c,d,e){for(var f=0;f<a;++f){var g=m(c,d,e);if(g===0)return c;var h=l(c,d,e)-b;c-=h/g}return c}g.exports=function(a,c,d,g){if(!(0<=a&&a<=1&&0<=d&&d<=1))throw new Error("bezier x values must be in [0, 1] range");var i=h?new Float32Array(e):new Array(e);if(a!==c||d!==g)for(var j=0;j<e;++j)i[j]=l(j*f,a,d);function k(c){var g=0,h=1,j=e-1;for(;h!==j&&i[h]<=c;++h)g+=f;--h;j=(c-i[h])/(i[h+1]-i[h]);h=g+j*f;j=m(h,a,d);if(j>=b)return o(c,h,a,d);else if(j===0)return h;else return n(c,g,g+f,a,d)}return function(b){if(a===c&&d===g)return b;if(b===0)return 0;return b===1?1:l(k(b),c,g)}}}var i=!1,j=function(){i||(i=!0,h());return g.exports};b=function(a){switch(a){case void 0:return j()}};e.exports=b}),null);
__d("bezier-easing",["bezier-easing-2.0.3"],(function(a,b,c,d,e,f){e.exports=b("bezier-easing-2.0.3")()}),null);
__d("spring-easing",[],(function(a,b,c,d,e,f){function g(a){return-a.tension*a.x-a.friction*a.v}function h(a,b,c){c={x:a.x+c.dx*b,v:a.v+c.dv*b,tension:a.tension,friction:a.friction};return{dx:c.v,dv:g(c)}}function i(a,b){var c={dx:a.v,dv:g(a)},d=h(a,b*.5,c),e=h(a,b*.5,d),f=h(a,b,e),i=1/6*(c.dx+2*(d.dx+e.dx)+f.dx);c=1/6*(c.dv+2*(d.dv+e.dv)+f.dv);a.x=a.x+i*b;a.v=a.v+c*b;return a}function j(a,b,c){var d={x:-1,v:0,tension:null,friction:null},e=[0],f=0,g=1/1e4,h=16/1e3,k,l;a=parseFloat(a)||500;b=parseFloat(b)||20;c=c||null;d.tension=a;d.friction=b;k=c!==null;k?(f=j(a,b),a=f/c*h):a=h;while(!0){l=i(l||d,a);e.push(1+l.x);f+=16;if(!(Math.abs(l.x)>g&&Math.abs(l.v)>g))break}return k?function(a){return e[a*(e.length-1)|0]}:f}e.exports=j}),null);
__d("SignalsEasings",["bezier-easing","spring-easing"],(function(a,b,c,d,e,f){"use strict";e.exports={bezier:a=b("bezier-easing"),ease:a(.25,.1,.25,1),easeIn:a(.42,0,1,1),easeInOut:a(.42,0,.58,1),easeOut:a(0,0,.58,1),linear:function(a){return a},spring:b("spring-easing")}}),null);
__d("BusinessUserRole",["AppConstants.brands","CurrentBusinessUser"],(function(a,b,c,d,e,f){"use strict";var g=b("AppConstants.brands").USER_ROLE;a={isAdmin:function(){return b("CurrentBusinessUser").business_role===g.ADMIN},isEmployee:function(){return b("CurrentBusinessUser").business_role===g.EMPLOYEE},isAdminInBusiness:function(){return b("CurrentBusinessUser").business_user_id!==null&&b("CurrentBusinessUser").business_user_id!==""&&b("CurrentBusinessUser").business_role===g.ADMIN}};e.exports=a}),null);
__d("RadioList.react",["cx","React","ReactDOM"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=h.Children.map(this.props.children,function(a){return h.cloneElement(a,{name:this.props.name,onSelect:this.props.onValueChange,selectedValue:this.props.selectedValue})},this);return h.jsx("ul",babelHelpers["extends"]({},this.props,{name:null,children:a}))};return b}(h.Component);a.Item=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.handleChange=function(a){a=a.nativeEvent&&a.nativeEvent.target||b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d)).firstChild;a.checked&&(d.props.onSelect&&d.props.onSelect(d.props.value))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return h.jsxs("li",babelHelpers["extends"]({},this.props,{children:[h.jsx("input",{checked:this.props.value===this.props.selectedValue,name:this.props.name,onChange:this.handleChange,type:"radio",value:this.props.value}),this.props.children]}))};return c}(h.Component);a.LabeledItem=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.handleChange=function(a){a=a.nativeEvent&&a.nativeEvent.target||b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d)).firstChild.firstChild;a&&a.checked&&(d.props.onSelect&&d.props.onSelect(d.props.value))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a="_544g"+(this.props.disabled?" _5kol":"");return h.jsx("li",babelHelpers["extends"]({},this.props,{children:h.jsxs("label",{className:a,children:[h.jsx("input",{disabled:this.props.disabled,checked:this.props.value===this.props.selectedValue,name:this.props.name,onChange:this.props.disabled?null:this.handleChange,type:"radio",value:this.props.value}),this.props.children]})}))};return c}(h.Component);e.exports=a}),null);
__d("FBStepsProgressBar.react",["cx","Animation","Focus","Locale","Parent","React","ReactDOM","ShimButton.react","Style","Tooltip","setTimeout"],(function(a,b,c,d,e,f,g){var h=b("React"),i=32,j=8,k=32,l=8,m=0,n=1,o=200,p=23,q=17,r=200,s=200,t=0,u=300,v=200,w=100,x=500,y=2;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=b("ReactDOM").findDOMNode(d.refs.line);a instanceof HTMLElement&&b("Style").apply(a,{left:d.$8(),width:d.$9()});a=b("ReactDOM").findDOMNode(d.refs.highlightedLine);a instanceof HTMLElement&&b("Style").apply(a,b("Locale").isRTL()?{right:d.$12(),width:d.$10()}:{left:d.$8(),width:d.$10()})},d.$16=function(a){var c=d.props.onStepSelect;if(c!=null){var e=b("Parent").byTag(a.target,"li");if(e&&d.props.onStepSelect){e=Number(e.id.substring(4));c(e)}}b("Focus").set(a.target)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1(),this.props.animate&&(this.$2(),this.$3(),this.$4())};d.componentDidUpdate=function(a,b){this.props.steps.length!==a.steps.length?(this.$1(),this.$5()):this.props.selectedIndex!==a.selectedIndex&&this.$6()};d.$7=function(){return 100/this.props.steps.length};d.$8=function(){return this.$7()/2+"%"};d.$9=function(){return Math.max(0,100-this.$7())+"%"};d.$10=function(){var a;a=(a=this.props.selectedIndex)!=null?a:0;a=this.props.steps.length-a;a=Math.max(0,100-this.$7()*a);return a+"%"};d.$11=function(a){return parseFloat(a.slice(0,-1))};d.$12=function(){var a=this.$11(this.$8())+this.$11(this.$9());return 100-a+"%"};d.$2=function(){var a=this;this.$13("dot").forEach(function(c){new(b("Animation"))(b("ReactDOM").findDOMNode(a.refs[c])).from("height",i).to("height",j).from("width",k).to("width",l).from("opacity",m).to("opacity",n).duration(o).go()})};d.$3=function(){var a=this;this.$13("label").forEach(function(c){new(b("Animation"))(b("ReactDOM").findDOMNode(a.refs[c])).from("top",p).to("top",p).duration(r).checkpoint().from("top",p).to("top",q).duration(s).go()})};d.$5=function(){var a=this;this.$13("label").forEach(function(c){c=b("ReactDOM").findDOMNode(a.refs[c]);c instanceof HTMLElement&&b("Style").apply(c,{top:q+"px"})})};d.$4=function(){var a,c=b("ReactDOM").findDOMNode(this.refs.line);if(!c)return;c=parseInt(b("Style").get(c,"width"),10);a=(a=this.props.selectedIndex)!=null?a:0;a=c*a/(this.props.steps.length-1);this.$14(c);this.$15(a)};d.$14=function(a){var c=b("ReactDOM").findDOMNode(this.refs.line);new(b("Animation"))(c).from("width",t).to("width",t).duration(u).checkpoint().from("width",t).to("width",a).duration(v).ondone(this.$1).go()};d.$15=function(a){var c=b("ReactDOM").findDOMNode(this.refs.highlightedLine);new(b("Animation"))(c).from("width",t).to("width",t).duration(u).checkpoint().from("width",t).to("width",a).duration(v).ondone(this.$1).go()};d.$13=function(a){return Object.keys(this.refs).filter(function(b){return b.startsWith(a)})};d.$6=function(){var a,c=b("ReactDOM").findDOMNode(this.refs.line);if(!c)return;var d=b("ReactDOM").findDOMNode(this.refs.highlightedLine);c=parseInt(b("Style").get(c,"width"),10);a=(a=this.props.selectedIndex)!=null?a:0;c=c*a/(this.props.steps.length-1);new(b("Animation"))(d).to("width",c).duration(this.props.animate?w:0).ondone(this.$1).go()};d.blinkDot=function(a){var c=this;b("setTimeout")(function(){return c.$17(a)},a===this.props.selectedIndex?0:x)};d.$17=function(a){a=new(b("Animation"))(b("ReactDOM").findDOMNode(this.refs["dot"+a]));for(var c=0;c<y;c++)a.from("margin-top","0px").to("margin-top","-4px").from("height","8px").to("height","16px").from("width","8px").to("width","16px").duration(100).checkpoint().from("margin-top","-4px").to("margin-top","0px").from("height","16px").to("height","8px").from("width","16px").to("width","8px").duration(150).checkpoint();a.go()};d.render=function(){var a=this,c=this.props.steps;c=c.map(function(c,d){c=a.props.hideLabels?null:h.jsx("label",{ref:"label"+d,className:"_3t4m"+(a.props.animate?" _3t4n":""),children:c});var e={};a.props.tooltips&&a.props.tooltips[d]&&(e=b("Tooltip").propsFor(a.props.tooltips[d],"above"),e["data-tooltip-alignh"]="center");var f=a.props.selectedIndex;f=f!=null&&(d<f||d===f&&a.props.selectedIndexActive);var g=d===a.props.selectedIndex&&a.props.selectedIndexActive,i=a.props.onStepSelect!=null?h.jsx(b("ShimButton.react"),{className:"_3t4p",onClick:a.$16}):null;return h.createElement("li",babelHelpers["extends"]({className:"_3t4j"+(a.props.hideLabels?" _392":"")+((a.props.onlySelectedIndexActive?g:f)?" _6wt9":"")+(a.props.highlightLabels?" _71_e":"")},e,{key:"step"+d,id:"step"+d,ref:"step"+d,style:{width:a.$7()+"%"}}),h.jsx("span",{ref:"dot"+d,className:"_3t4l"}),c,i)});return h.jsxs("div",{className:"_3t4q"+(this.props.onStepSelect?" _3t4r":"")+(this.props.colorScheme==="blue"?" _3t4s":"")+(this.props.colorScheme==="white"?" _3t4t":"")+(this.props.colorScheme==="green"?" _4vsb":"")+(this.props.colorScheme==="red"?" _4vsc":"")+(this.props.labelsPosition==="top"?" _72lm":""),children:[h.jsx("div",{ref:"line",className:this.props.hideLines?"":"_3t4u"}),h.jsx("div",{className:(this.props.hideLines?"":"_3t4u")+(!this.props.hideLines&&!this.props.onlySelectedIndexActive?" _3t4v":""),ref:"highlightedLine"}),h.jsx("ul",{className:"_3t51",ref:"contents",children:c})]})};return c}(h.Component);a.defaultProps={steps:[],colorScheme:"blue",updateLineOnStepSelect:!0,hideLabels:!1,selectedIndexActive:!0,onlySelectedIndexActive:!1,hideLines:!1,highlightLabels:!0,labelsPosition:"bottom",selectedIndex:void 0};e.exports=a}),null);
__d("AdsPaymentsInfraTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:AdsPaymentsInfraLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:AdsPaymentsInfraLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:AdsPaymentsInfraLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAccountID=function(a){this.$1.account_id=a;return this};c.setAmount=function(a){this.$1.amount=a;return this};c.setAutoSampleWeight=function(a){this.$1.auto_sample_weight=a;return this};c.setBrandID=function(a){this.$1.brand_id=a;return this};c.setCompanyID=function(a){this.$1.company_id=a;return this};c.setCredentialID=function(a){this.$1.credential_id=a;return this};c.setCurrency=function(a){this.$1.currency=a;return this};c.setElapsedMs=function(a){this.$1.elapsed_ms=a;return this};c.setErrorMsg=function(a){this.$1.error_msg=a;return this};c.setExceptionMsg=function(a){this.$1.exception_msg=a;return this};c.setFbid=function(a){this.$1.fbid=a;return this};c.setInvoiceID=function(a){this.$1.invoice_id=a;return this};c.setJobName=function(a){this.$1.job_name=a;return this};c.setLimitID=function(a){this.$1.limit_id=a;return this};c.setOrgID=function(a){this.$1.org_id=a;return this};c.setReadOnly=function(a){this.$1.read_only=a;return this};c.setRequestIDString=function(a){this.$1.request_id_string=a;return this};c.setResults=function(a){this.$1.results=a;return this};c.setStackTrace=function(a){this.$1.stack_trace=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setStepMsg=function(a){this.$1.step_msg=a;return this};c.setStepName=function(a){this.$1.step_name=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={account_id:!0,amount:!0,auto_sample_weight:!0,brand_id:!0,company_id:!0,credential_id:!0,currency:!0,elapsed_ms:!0,error_msg:!0,exception_msg:!0,fbid:!0,invoice_id:!0,job_name:!0,limit_id:!0,org_id:!0,read_only:!0,request_id_string:!0,results:!0,stack_trace:!0,step_msg:!0,step_name:!0,time:!0,weight:!0};e.exports=a}),null);
__d("XFamilyBulkTagAddAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/family/bulk_tag_save/",{subject:{type:"Int"},save_tags:{type:"String"}})}),null);
__d("PhotoTagStore",["ActorURI","AsyncRequest","XFamilyBulkTagAddAsyncController","isEmpty"],(function(a,b,c,d,e,f){var g;a=function(){"use strict";function a(){this._tagList={},this._textTagList={},this._originalTagList={},this._dirtyPhotosByUid={},a.instance=this}var c=a.prototype;c.getPhotoTags=function(a){return this._tagList[a]||{}};c.photoHasTags=function(a){return!(g||(g=b("isEmpty")))(this.getPhotoTags(a))};c.clear=function(){this._tagList={},this._textTagList={},this._originalTagList={},this._dirtyPhotosByUid={}};c.addTag=function(a,b,c,d){a[b]=a[b]||{};var e=a[b][c]||[];e.push(d);a[b][c]=e};c.revert=function(a){var c=this._tagList,d=this._originalTagList;for(var e in c)(g||(g=b("isEmpty")))(d[e][a])?c[e][a]=[]:c[e][a]=d[e][a];this._dirtyPhotosByUid={}};c.hasNewTags=function(){return!(g||(g=b("isEmpty")))(this._tagList)||!(g||(g=b("isEmpty")))(this._textTagList)};c.userHasDirtyTags=function(a){return!(g||(g=b("isEmpty")))(this._dirtyPhotosByUid[a])};c.userDirtyTagsCount=function(a){return Object.keys(this._dirtyPhotosByUid[a]).length};c.handleTagFetch=function(a){for(var b in a)this.loadTagInfo(b,a[b])};c.saveAlbumTagsForUser=function(a,c,d,e){e===void 0&&(e=!1);var f={},h=[],i=this._dirtyPhotosByUid[a]||{};for(var j in i){i=this._tagList[j][a];if((g||(g=b("isEmpty")))(i)){h[h.length]=j;continue}i.forEach(function(a){f[j]={x:a.x,y:a.y}})}i={subject:a,action:"save",save_tags:f};h=b("ActorURI").create("/ajax/photos/album/tags.php",c);e&&(i={subject:a,save_tags:JSON.stringify(f)},h=b("XFamilyBulkTagAddAsyncController").getURIBuilder().getURI());new(b("AsyncRequest"))().setURI(h).setData(i).setHandler(function(a){d(a.payload)}).setAllowCrossPageTransition(!0).send();delete this._dirtyPhotosByUid[a]};c.getTagsFromList=function(a){var b=[];for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c))for(var d in a[c])Object.prototype.hasOwnProperty.call(a[c],d)&&a[c][d].forEach(function(a){return b.push(a)});return b};c.getAllTags=function(){var a=this.getTagsFromList(this._tagList),b=this.getTagsFromList(this._textTagList);return a.concat(b)};c.removeTag=function(a,c){var d=this._tagList[a],e=this._originalTagList[a]||{};e[c]?(this._dirtyPhotosByUid[c]=this._dirtyPhotosByUid[c]||{},this._dirtyPhotosByUid[c][a]=!0):delete this._dirtyPhotosByUid[c][a];for(var f in d)if(f==c){e=this._tagList[a][f];delete this._tagList[a][f];(g||(g=b("isEmpty")))(this._tagList[a])&&delete this._tagList[a];return e}};c.removeTextTag=function(a,c){var d=this._textTagList[a];if(!(g||(g=b("isEmpty")))(d[c])){d=this._textTagList[a][c];this._textTagList[a][c]=[];(g||(g=b("isEmpty")))(this._textTagList[a])&&delete this._textTagList[a];return d}return[]};c.removeAllNewTagsOfUser=function(a){var b=[];if(!this.userHasDirtyTags(a))return b;var c=this._dirtyPhotosByUid[a];for(var d in c)b=b.concat(this.removeTag(d,a));return b};c.removeAllTagsFromPhoto=function(a){var c=[];if(!(g||(g=b("isEmpty")))(this._tagList[a]))for(var d in this._tagList[a]){if(!Object.prototype.hasOwnProperty.call(this._tagList[a],d))continue;c=c.concat(this.removeTag(a,d))}if(!(g||(g=b("isEmpty")))(this._textTagList[a]))for(var e in this._textTagList[a]){if(!Object.prototype.hasOwnProperty.call(this._textTagList[a],e))continue;c=c.concat(this.removeTextTag(a,e))}return c};c.storeTag=function(a,b,c,d,e){this.storeTagWithOptions(a,b,c,d,{can_remove:e})};c.storeTagWithOptions=function(a,b,c,d,e){this._dirtyPhotosByUid[b]=this._dirtyPhotosByUid[b]||{};this._dirtyPhotosByUid[b][a]=!0;c={x:c,y:d};Object.assign(c,e);!b?this.addTag(this._textTagList,a,c.name,c):this.addTag(this._tagList,a,b,c)};c.loadTagInfo=function(a,b){this._tagList[a]={};this._originalTagList[a]={};for(var c=0;c<b.length;c++){var d=b[c];this.addTag(this._tagList,a,d.subject,d);this.addTag(this._originalTagList,a,d.subject,d)}};a.getInstance=function(){a.instance===null&&new a();return a.instance};return a}();a.instance=null;e.exports=a}),null);
__d("PresmaSettingsActions",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";var g=b("keyMirrorRecursive")({INITIALIZE_STORE:null,CHANGE_SETTING:null,TOGGLE_EDITING_MODE:null,HIGHLIGHT_SECTION:null,RESET_SECTION_HIGHLIGHT:null,JUMP_TO_GROUP:null,RESET_GROUP_JUMP:null,ENTER_EDITING_MODE:null});a={ActionTypes:g,initializeStore:function(a,b,c,d){d.dispatch({actionType:g.INITIALIZE_STORE,settingValues:a,settingConfigs:b,globalConfig:c})},changeSettingValue:function(a,b,c,d){d.dispatch({actionType:g.CHANGE_SETTING,sectionKey:a,fieldKey:b,value:c})},toggleEditingMode:function(a,b){b.dispatch({actionType:g.TOGGLE_EDITING_MODE,sectionKey:a})},enterEditingMode:function(a,b){b.dispatch({actionType:g.ENTER_EDITING_MODE,sectionKey:a})},highlightSection:function(a,b){b.dispatch({actionType:g.HIGHLIGHT_SECTION,sectionKey:a})},resetSectionHighlight:function(a){a.dispatch({actionType:g.RESET_SECTION_HIGHLIGHT})},jumpToGroup:function(a,b){b.dispatch({actionType:g.JUMP_TO_GROUP,groupKey:a})},resetGroupJump:function(a){a.dispatch({actionType:g.RESET_GROUP_JUMP})}};e.exports=a}),null);
__d("SUIInlineNux.react",["React","SUIMessageBox.react","SUITheme","prop-types","withSUITheme"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("SUITheme").get(this).SUIInlineNux;return g.jsxs(b("SUIMessageBox.react"),{hasShadow:!1,icon:a.icon,onClose:this.props.onClose,style:babelHelpers["extends"]({borderColor:a.borderColor},this.props.style),type:"filled",children:[g.jsx("div",{style:babelHelpers["extends"]({marginBottom:"8px"},a.titleTypeStyle),children:this.props.title}),g.jsx("div",{style:babelHelpers["extends"]({},a.childrenTypeStyle),children:this.props.children})]})};return c}(g.PureComponent);a.propTypes={onClose:b("prop-types").func,title:b("prop-types").node.isRequired,theme:b("prop-types").instanceOf(b("SUITheme"))};e.exports=b("withSUITheme")(a)}),null);
__d("ContextualLayerDynamicOffsetX",["ContextualLayerDimensions"],(function(a,b,c,d,e,f){var g=4;a=function(){"use strict";function a(a){this._layer=a,this._defaultOffsetX=null,this._subscription=null}var c=a.prototype;c.enable=function(){this._subscription=this._layer.subscribe("show",this._adjustOffset.bind(this)),this._adjustOffset()};c.disable=function(){this._subscription.unsubscribe(),this._subscription=null,this._defaultOffsetX!==null&&(this._layer.setOffsetX(this._defaultOffsetX),this._defaultOffsetX=null)};c._adjustOffset=function(a){a=this._layer.getOrientation();if(!a.isVertical())return;this._defaultOffsetX===null&&(this._defaultOffsetX=a.getOffsetX());var c=b("ContextualLayerDimensions").getViewportRect(this._layer);c=c.r-c.l;var d=b("ContextualLayerDimensions").getLayerRect(this._layer,a),e=a.getOffsetX()-this._defaultOffsetX;c=c-d.r;c<0||c<-e?this._layer.setOffsetX(a.getOffsetX()+c-g):d.l<0&&this._layer.setOffsetX(d.l*-1+g)};return a}();e.exports=a}),null);