if (self.CavalryLogger) { CavalryLogger.start_js(["9FKk2"]); }

__d("AdsLeadGenCMSFieldType",[],(function(a,b,c,d,e,f){e.exports={118477831825906:"CITY",1601177206826007:"COMPANY_NAME",1453557984945016:"COUNTRY",1630532333857430:"DOB",446872765494724:"EMAIL",401904326672835:"FIRST_NAME",891455540903772:"FULL_NAME",1619757944977649:"GENDER",983822388309050:"JOB_TITLE",1183326621695145:"LAST_NAME",1443168832653099:"MARITIAL_STATUS",393924020794666:"RELATIONSHIP_STATUS",380952935446163:"PHONE",101980986816371:"POST_CODE",479901425520792:"PROVINCE",906674396045302:"STATE",1463430793974450:"STREET_ADDRESS",780114468774638:"ZIP",126348371030580:"WORK_EMAIL",1650502618506886:"MILITARY_STATUS",1593467754257414:"WORK_PHONE_NUMBER",835763369837027:"STORE_LOOKUP",835763369837028:"STORE_LOOKUP_WITH_TYPEAHEAD",202707686796994:"DATE_TIME",349852315449117:"ID_CPF",178678076093591:"ID_AR_DNI",238226440084623:"ID_CL_RUT",177725596209042:"ID_CO_CC",1805882383052613:"ID_EC_CI",266445657558789:"ID_MX_RFC",143782763121337:"ID_PE_DNI"}}),null);
__d("AdsLeadGenFormConstants",[],(function(a,b,c,d,e,f){e.exports={MAX_NUM_APPOINTMENT_SCHEDULING_QUESTIONS:1,MAX_NUM_CONDITIONAL_QUESTION_GROUPS:1,MAX_NUM_CUSTOM_QUESTIONS:15,MAX_NUM_STORE_LOOKUP_QUESTIONS:1,MAX_TRACKING_PARAMETER_LENGTH:256,MIN_NUM_SELECTOR_OPTIONS:2}}),null);
__d("AdsClickToMPProductSetDataProviderPlugin",["AdsGraphAPI","LoadObjectMap","mapSet","promiseDone","promiseLoadObjectsFromKeys"],(function(a,b,c,d,e,f){"use strict";var g={fetchProductSetFields:function(a){return b("AdsGraphAPI").get(e.id).object("product_set",a).batched().get({fields:["click_to_mp_ads_eligible_item_count","click_to_mp_ads_eligible_item_count_v2","marketplace_or_marketplace_ads_eligible_item_count"]})}};function h(a,c){a(function(a){return a.merge(b("mapSet")(c.productSetIDs,function(b){return[b,a.get(b).loading()]}))})}function i(a,b){a(function(a){return a.merge(b.productSets)})}a={initialState:function(a){return b("LoadObjectMap").create(function(c){h(a,{productSetIDs:c}),b("promiseDone")(b("promiseLoadObjectsFromKeys")(c,g.fetchProductSetFields),function(b){i(a,{productSets:b})})})}};e.exports=a}),null);
__d("AdsClickToMPProductSetDataProvider",["Laminar","AdsClickToMPProductSetDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsClickToMPProductSetDataProviderPlugin"),"AdsClickToMPProductSetDataProviderPlugin")}),null);
__d("AdsLeadGenFormEditorAdContextDataProviderPlugin",["AdsEmptyValue","LoadObject","immutable"],(function(a,b,c,d,e,f){"use strict";a={headlineValue:b("AdsEmptyValue").instance(),subheadlineValue:b("AdsEmptyValue").instance(),templatePlugin:b("LoadObject").empty(),productSetID:null};var g=b("immutable").Record(a);c=function(){return g()};d={initialState:c()};e.exports=d}),null);
__d("AdsLeadGenFormEditorAdContextDataProvider",["Laminar","AdsLeadGenFormEditorAdContextDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsLeadGenFormEditorAdContextDataProviderPlugin"),"AdsLeadGenFormEditorAdContextDataProviderPlugin")}),null);
__d("AdsLeadGenFormEditorApiFormCreatedReducerPlugin",["AdsDataAtom","AdsLWITargetIDType","AdsSelectorUtils","adsLWIDialogStateSelector"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsLWITargetIDType").convertStringToTargetID;a={reduce:function(a,c){b("AdsDataAtom").waitFor(b("AdsSelectorUtils").getStoreDispatchTokens([b("adsLWIDialogStateSelector")]));var d=b("adsLWIDialogStateSelector")();d=d.instanceID;var e=a.get(d);if(e&&e.product==="boosted_lead_gen"){e=e.set("targetID",g(c.formID));return a.set(d,e)}return a}};e.exports=a}),null);
__d("AdsLeadGenFormEditorConstants",["AdsLeadGenCMSFieldType","flipObject"],(function(a,b,c,d,e,f){"use strict";a={DEFAULTS:{CONTEXT_CARD_STYLE:"PARAGRAPH_STYLE",EXPANDED_CONTENT_SECTION:"formSetupOptions",EXPANDED_SETTINGS_SECTION:"configuration"},CREATE_NEW_OR_DUPLICATE_PAGE:{STATUS_KEY:{SEARCH_SOURCE:"searchSource",SELECTED_ENTRY:"selectedEntry",VALUE:"value"},UI_KEY:{CREATE_NEW:"createNew",DUPLICATE:"duplicate"}},SINGLE_PAGE_EDITOR:{STATUS_KEY:{EXPANDED_CONTENT_SECTION:"expandedContentSection",EXPANDED_SETTINGS_SECTION:"expandedSettingsSection",FOCUSED_COMPONENT:"focusedComponent",IS_FORM_NAME_UNSAVED:"isFormNameUnsaved",IS_CONFIGURATION_UNSAVED:"isConfigurationUnsaved",IS_CONTEXT_CARD_UNSAVED:"isContextCardUnsaved",IS_FIELD_IDS_UNSAVED:"isFieldIDsUnsaved",IS_FORM_SETUP_UNSAVED:"isFormSetupUnsaved",IS_PRIVACY_POLICY_UNSAVED:"isPrivacyPolicyUnsaved",IS_QUALITY_BUNDLE_UNSAVED:"isQualityBundleUnsaved",IS_QUESTIONS_UNSAVED:"isQuestionsUnsaved",IS_THANK_YOU_PAGE_UNSAVED:"isThankYouPageUnsaved",IS_TRACKING_PARAMETERS_UNSAVED:"isTrackingParametersUnsaved",SELECTED_TAB:"selectedTab"},UI_KEY:{CONTENT_TAB:"contentTab",SETTINGS_TAB:"settingsTab"}},CONTENT_TAB:{SECTIONS:{FORM_NAME:"formName",CONTEXT_CARD:"contextCard",FORM_SETUP_OPTIONS:"formSetupOptions",PRIVACY_POLICY:"privacyPolicy",QUESTIONS:"questions",REVIEW_SCREEN:"reviewScreen",THANK_YOU_PAGE:"thankYouPage"}},QUESTIONS:{STATUS_KEY:{IS_QUESTIONS_MAX_COUNT_REACHED_WARNING_CLOSED:"isQuestionsMaxCounReachedWarningClosed"},QUESTION_PAGE_CUSTOM_HEADLINE:"QUESTION_PAGE_CUSTOM_HEADLINE"},CONTEXT_CARD:{BULLETS_NUMBER:5},SETTINGS_TAB:{SECTIONS:{CONFIGURATION:"configuration",FIELD_IDS:"fieldIDs",TRACKING_PARAMETERS:"tracking_parameters"}},SECTION_STATUS:{ERROR:"error",NO_ERROR:"noError",UNSAVED:"unsaved"},DUPLICATE_QUESTION_MAP:new Map([["479901425520792",["906674396045302"]],["906674396045302",["479901425520792"]],["780114468774638",["101980986816371"]],["101980986816371",["780114468774638"]],["401904326672835",["891455540903772"]],["891455540903772",["401904326672835","1183326621695145"]],["1183326621695145",["891455540903772"]]]),PII_CMS_MAP:b("AdsLeadGenCMSFieldType"),CMS_PII_MAP:b("flipObject")(b("AdsLeadGenCMSFieldType")),USER_INFO_QUESTIONS:{EMAIL:{id:"446872765494724",name:"Email"},FULL_NAME:{id:"891455540903772",name:"Full name"},PHONE:{id:"380952935446163",name:"Phone number"}}};e.exports=a}),null);
__d("adsLeadGenFormEditorViewReducerWrapper",["AdsLeadGenFormEditorConstants"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsLeadGenFormEditorConstants").SINGLE_PAGE_EDITOR.STATUS_KEY.FOCUSED_COMPONENT;function a(a){return function(b,c){b=b.set("APIMessage",null).set("singlePageEditorStatus",b.get("singlePageEditorStatus").set(g,null));return a(b,c)}}e.exports=a}),null);
__d("AdsLeadGenFormEditorViewAdsLeadGenFormEditorApiFormCreatedReducerPlugin",["adsLeadGenFormEditorViewReducerWrapper"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("adsLeadGenFormEditorViewReducerWrapper")(function(a,b){return a.set("activeFormID",b.formID)})};e.exports=a}),null);
__d("AdsLeadGenFormEditorSteps",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CREATE_NEW_FORM_OR_DUPLICATE_PAGE:"create_new_form_duplicate_page",SINGLE_PAGE_EDITOR:"single_page_editor"});e.exports=a}),null);
__d("AdsLeadGenFormEditorViewProviderPlugin",["AdsLeadGenFormEditorConstants","AdsLeadGenFormEditorSteps","emptyFunction","immutable"],(function(a,b,c,d,e,f){"use strict";c=(a=b("AdsLeadGenFormEditorConstants")).DEFAULTS;d=a.SINGLE_PAGE_EDITOR.STATUS_KEY;f=d.EXPANDED_CONTENT_SECTION;var g=d.EXPANDED_SETTINGS_SECTION;d=d.FOCUSED_COMPONENT;f={APIMessage:null,accessToken:null,account:null,activeFormID:null,activeQuestionID:null,adImage:null,callToActionType:null,canSeeLeadQualityTestNux:null,createCallback:b("emptyFunction"),creationSource:null,createNewOrDuplicatePageStatus:b("immutable").Map([[a.CREATE_NEW_OR_DUPLICATE_PAGE.STATUS_KEY.SEARCH_SOURCE,null],[a.CREATE_NEW_OR_DUPLICATE_PAGE.STATUS_KEY.SELECTED_ENTRY,null],[a.CREATE_NEW_OR_DUPLICATE_PAGE.STATUS_KEY.VALUE,a.CREATE_NEW_OR_DUPLICATE_PAGE.UI_KEY.CREATE_NEW]]),draftFormID:null,formID:null,isPrivacyPolicyRequired:!0,isQuestionsMaxCountReachedWarningClosed:!1,isUploadingCoverPhoto:!1,moreUserInfoQuestionOptionsShown:!1,page:null,placementSpecs:null,selectedCanvasEntry:null,stepID:b("AdsLeadGenFormEditorSteps").SINGLE_PAGE_EDITOR,singlePageEditorStatus:b("immutable").Map([[a.SINGLE_PAGE_EDITOR.STATUS_KEY.SELECTED_TAB,a.SINGLE_PAGE_EDITOR.UI_KEY.CONTENT_TAB],[f,c.EXPANDED_CONTENT_SECTION],[g,c.EXPANDED_SETTINGS_SECTION],[d,null],[a.SINGLE_PAGE_EDITOR.STATUS_KEY.IS_CONTEXT_CARD_UNSAVED,!0],[a.SINGLE_PAGE_EDITOR.STATUS_KEY.IS_QUESTIONS_UNSAVED,!0],[a.SINGLE_PAGE_EDITOR.STATUS_KEY.IS_PRIVACY_POLICY_UNSAVED,!0],[a.SINGLE_PAGE_EDITOR.STATUS_KEY.IS_THANK_YOU_PAGE_UNSAVED,!0],[a.SINGLE_PAGE_EDITOR.STATUS_KEY.IS_CONFIGURATION_UNSAVED,!0],[a.SINGLE_PAGE_EDITOR.STATUS_KEY.IS_FIELD_IDS_UNSAVED,!0],[a.SINGLE_PAGE_EDITOR.STATUS_KEY.IS_FORM_SETUP_UNSAVED,!0],[a.SINGLE_PAGE_EDITOR.STATUS_KEY.IS_QUALITY_BUNDLE_UNSAVED,!0],[a.SINGLE_PAGE_EDITOR.STATUS_KEY.IS_FORM_NAME_UNSAVED,!0],[a.QUESTIONS.STATUS_KEY.IS_QUESTIONS_MAX_COUNT_REACHED_WARNING_CLOSED,!1],[a.SINGLE_PAGE_EDITOR.STATUS_KEY.IS_TRACKING_PARAMETERS_UNSAVED,!0],["isLoading",!1]]),sourceFormID:null,thankYouPageURLType:"goToCustomWebsiteURL"};g=b("immutable").Record(f);var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(g);c=function(){return new h()};d={initialState:c()};e.exports=d}),null);
__d("AdsLeadGenFormEditorViewProvider",["Laminar","AdsLeadGenFormEditorViewProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsLeadGenFormEditorViewProviderPlugin"),"AdsLeadGenFormEditorViewProviderPlugin")}),null);
__d("AdsLeadGenFormEditorApiFormCreatedAction",["Laminar","AdsLeadGenFormEditorApiFormCreatedReducerPlugin","AdsLWIInstanceDataProvider","AdsLeadGenFormEditorViewAdsLeadGenFormEditorApiFormCreatedReducerPlugin","AdsLeadGenFormEditorViewProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsLeadGenFormEditorApiFormCreatedReducerPlugin"),b("AdsLWIInstanceDataProvider"),{},""),b("Laminar").__createReducer(b("AdsLeadGenFormEditorViewAdsLeadGenFormEditorApiFormCreatedReducerPlugin"),b("AdsLeadGenFormEditorViewProvider"),{},"")]},function(){return[]},"AdsLeadGenFormEditorActionTypes.API.FORM_CREATED");e.exports=a}),null);
__d("AdsLeadGenFormEditorProviderPlugin",["Bootloader","LoadObjectMap"],(function(a,b,c,d,e,f){"use strict";a={initialState:function(a){return b("LoadObjectMap").create(function(c){a(function(a){return a.setLoading(c)}),c.forEach(function(a){b("Bootloader").loadModules(["AdsLeadGenFormEditorDataManager"],function(b){b.load(a)},"AdsLeadGenFormEditorProviderPlugin")})})}};e.exports=a}),null);
__d("AdsLeadGenFormEditorProvider",["Laminar","AdsLeadGenFormEditorProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsLeadGenFormEditorProviderPlugin"),"AdsLeadGenFormEditorProviderPlugin")}),null);
__d("AdsLeadGenFormEditorQuestionsLoadedAction",["Laminar","AdsLeadGenFormEditorQuestionsLoadedReducerPlugin","AdsLeadGenFormEditorProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsLeadGenFormEditorQuestionsLoadedReducerPlugin"),b("AdsLeadGenFormEditorProvider"),{},"")]},function(){return[]},"leadGenFormEditorQuestionsLoaded");e.exports=a}),null);
__d("AdsLeadGenFormPreviewDetailsSuccessfullyLoadedPreviewDetailsAction",["Laminar","AdsLeadGenFormPreviewDetailsSuccessfullyLoadedPreviewDetailsReducerPlugin","AdsLeadGenFormEditorProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsLeadGenFormPreviewDetailsSuccessfullyLoadedPreviewDetailsReducerPlugin"),b("AdsLeadGenFormEditorProvider"),{},"")]},function(){return[]},"leadGenFormPreviewDetailsSuccessfullyLoadedPreviewDetails");e.exports=a}),null);
__d("XAdsLeadGenFormQuestionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/formbuilder/questions/",{form_locale:{type:"String"}})}),null);
__d("AdsLeadGenFormEditorUserInfoQuestionDataManager",["AdsLeadGenFormEditorQuestionsLoadedAction","AsyncRequest","XAdsLeadGenFormQuestionsController"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){var a=this;this.load=function(c){new(b("AsyncRequest"))().setURI(b("XAdsLeadGenFormQuestionsController").getURIBuilder().getURI()).setData({form_locale:c}).setReadOnly(!0).setMethod("GET").setHandler(function(b){return a.$1(c,b.payload.user_information)}).send()}}var c=a.prototype;c.loadAll=function(a){Array.from(a).forEach(this.load)};c.$1=function(a,c){b("AdsLeadGenFormEditorQuestionsLoadedAction").dispatch({locale:a,userInfoQuestionGroups:c},{line:"40",module:"AdsLeadGenFormEditorUserInfoQuestionDataManager.js"})};return a}();e.exports=new a()}),null);
__d("AdsLeadGenFormEditorQuestionsLoadedActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"leadGenFormEditorQuestionsLoaded"}}),null);
__d("AdsLeadGenFormEditorUserInfoQuestionStore",["AdsDataAtom","AdsLeadGenFormEditorQuestionsLoadedActionFlux","AdsLeadGenFormEditorUserInfoQuestionDataManager","FluxLoadObjectStore","adsCreateStoreSelector","adsCreateStoreThunkSelector","flattenArray","immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(g))||this,d.getLookupMapSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.getLookupMap.bind(babelHelpers.assertThisInitialized(d))),d.getLookupMapWithLocaleFromFormSelector=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(a){a=a.form;return d.getLookupMap(a.get("locale"))},{name:e.id}),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.__getActionTypes=function(){return[this.getActionTypeStartLoad(),b("AdsLeadGenFormEditorQuestionsLoadedActionFlux").actionType]};d.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsLeadGenFormEditorQuestionsLoadedActionFlux").actionType:return this.__handleOne(a,c.locale,c.userInfoQuestionGroups);default:return a}};d.__loadAll=function(a){b("AdsLeadGenFormEditorUserInfoQuestionDataManager").loadAll(a)};d.getLookupMap=function(a){if(a==null)return null;a=this.get(a).getValue();return!a?null:b("flattenArray")(Object.values(a)).reduce(function(a,b){return a.merge(b.cms_objects.reduce(function(a,b){return a.set(b.id,b)},a))},b("immutable").Map())};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsLeadGenFormBase",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({block_display_for_non_targeted_viewer:void 0,context_card_button_text:void 0,context_card_content:void 0,context_card_content_cache:void 0,context_card_cover_photo:void 0,context_card_format:void 0,context_card_is_cover_photo_selected:void 0,context_card_is_selected:void 0,context_card_style:void 0,context_card_title:void 0,custom_disclaimer_consents:void 0,custom_disclaimer_editor_state:void 0,custom_disclaimer_is_selected:void 0,custom_disclaimer_title:void 0,questions:void 0,follow_up_action_url:void 0,id:void 0,is_off_facebook:void 0,is_optimized_for_quality:void 0,locale:void 0,name:void 0,page_id:void 0,product_set_id:void 0,question_page_custom_headline:void 0,privacy_policy_link_text:void 0,privacy_policy_url:void 0,status:void 0,thank_you_page:void 0,disqualified_end_component:void 0,default_disqualified_end_component:void 0,default_thank_you_page:void 0,tracking_parameters:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsLeadGenFormUtils",[],(function(a,b,c,d,e,f){"use strict";a={getDefaultFieldID:function(a){if(!a)return null;a=a.toLowerCase().split(" ");return a.join("_")}};e.exports=a}),null);
__d("AdsLeadGenLinkDecorator",["CompositeDraftDecorator","RichTextEditorLink.react","getEntityMatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("CompositeDraftDecorator"))([{strategy:b("getEntityMatcher")(function(a){return a.getType()==="LINK"}),component:b("RichTextEditorLink.react")}])}),null);
__d("AdsLeadGenForm",["AdsLeadGenFormBase","AdsLeadGenFormConstants","AdsLeadGenFormEditorConstants","AdsLeadGenFormUtils","AdsLeadGenLinkDecorator","EditorState","guid","immutable"],(function(a,b,c,d,e,f){"use strict";var g="-";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getQuestion=function(a){return this.get("questions").get(a)};d.getCustomQuestions=function(){var a=this.get("questions");return a.filter(function(a){return a.get("questionTypeKey")!="prefill"})};d.deleteQuestion=function(a){return this.set("questions",this.get("questions")["delete"](a))};d.updateQuestion=function(a){var b=this.get("questions");return!b.has(a.get("id"))?this:this.set("questions",b.set(a.get("id"),a))};d.updateOrderQuestions=function(a){var c=this.get("questions"),d=b("immutable").OrderedMap();a.forEach(function(a){d=d.set(a,c.get(a))});return this.set("questions",d)};d.deleteConsent=function(a){a=this.get("custom_disclaimer_consents")["delete"](a);return this.set("custom_disclaimer_consents",a)};d.updateConsent=function(a){var b=this.get("custom_disclaimer_consents");return!b.has(a.get("id"))?this:this.set("custom_disclaimer_consents",b.set(a.get("id"),a))};d.getMCQStyleQuestions=function(){var a=this.getCustomQuestions();return c.getMCQStyleQuestions(a)};d.getQualifyingQuestions=function(){var a=this.getCustomQuestions();return c.getQualifyingQuestions(a)};d.getQualifyingQuestion=function(){var a=this.getQualifyingQuestions();return a.size>0?a.valueSeq().first():null};d.getRegularCustomQuestions=function(){var a=this.getCustomQuestions();return c.getRegularCustomQuestions(a)};d.getPrefillQuestions=function(){var a=this.get("questions");return c.getPrefillQuestions(a)};d.getConsent=function(a){return this.get("custom_disclaimer_consents").get(a)};d.getCustomQuestionsOfType=function(a){var b=this.getCustomQuestions();return b.filter(function(b){return b.get("questionTypeKey")===a})};d.getConditionalQuestion=function(){return this.getCustomQuestionsOfType("conditional").first()};d.getStoreLookupQuestion=function(){return this.getCustomQuestionsOfType("store-lookup").first()};d.getStoreLookupCityStateQuestion=function(){return this.getCustomQuestionsOfType("store-lookup-typeahead").first()};d.getAppointmentSchedulingQuestion=function(){return this.getCustomQuestionsOfType("date-time").first()};d.hasContextCard=function(){return this.get("context_card_is_selected")};d.hasStandardUserInfoQuestions=function(){return this.getPrefillQuestions().size>0};d.hasCustomQuestion=function(){var a=this.getCustomQuestions();return a.size>0};d.hasCustomQuestionWithoutQualifyingQuestion=function(){var a=this.getCustomQuestions();return a.filter(function(a){return a.get("questionTypeKey")!=="qualifying-question"}).size>0};d.hasQualifyingQuestion=function(){return this.getQualifyingQuestions().size>0};d.hasPrefillZipCodeOrPostCodeQuestions=function(){var a=this.getPrefillQuestions();return a.filter(function(a,c){return c===b("AdsLeadGenFormEditorConstants").CMS_PII_MAP.ZIP||c===b("AdsLeadGenFormEditorConstants").CMS_PII_MAP.POST_CODE}).size>0};d.hasZipCodeAndStoreLookUpQuestions=function(){var a=!!(this.getStoreLookupCityStateQuestion()||this.getStoreLookupQuestion()),c=this.getPrefillQuestions(),d=this.hasPrefillZipCodeOrPostCodeQuestions();c=c.filter(function(a,c){return c!==b("AdsLeadGenFormEditorConstants").CMS_PII_MAP.ZIP&&c!==b("AdsLeadGenFormEditorConstants").CMS_PII_MAP.POST_CODE}).size>0;return a&&d&&!c};d.getZipCodeOrPostCodeQuestions=function(){if(this.hasPrefillZipCodeOrPostCodeQuestions()){var a=this.getPrefillQuestions();return a.filter(function(a,c){return c===b("AdsLeadGenFormEditorConstants").CMS_PII_MAP.ZIP||c===b("AdsLeadGenFormEditorConstants").CMS_PII_MAP.POST_CODE}).first()}};d.isAtMaxQuestionCount=function(){return this.get("questions").size>=b("AdsLeadGenFormConstants").MAX_NUM_CUSTOM_QUESTIONS};d.isAtMaxConditionalQuestionCount=function(){return this.getCustomQuestionsOfType("conditional").size>=b("AdsLeadGenFormConstants").MAX_NUM_CONDITIONAL_QUESTION_GROUPS};d.isAtMaxStoreLookupQuestionCount=function(){return this.getCustomQuestionsOfType("store-lookup").size+this.getCustomQuestionsOfType("store-lookup-typeahead").size>=b("AdsLeadGenFormConstants").MAX_NUM_STORE_LOOKUP_QUESTIONS};d.isAtMaxAppointmentSchedulingQuestionCount=function(){return this.getCustomQuestionsOfType("date-time").size>=b("AdsLeadGenFormConstants").MAX_NUM_APPOINTMENT_SCHEDULING_QUESTIONS};d.isNewForm=function(){return this.get("id").startsWith(g)};d.hasReviewScreen=function(){return this.get("is_optimized_for_quality")&&this.hasStandardUserInfoQuestions()};d.clearAllDefaltFieldIDs=function(a){return this.clearCustomizedQuestionDefaultFieldIDs(a).clearCustomDisclaimerConsentDefaultFieldIDs()};d.clearCustomizedQuestionDefaultFieldIDs=function(a){var c=this,d=this.get("questions").map(function(d,e){d.get("fieldID")&&d.get("fieldID")===c.$AdsLeadGenForm1(d,a)&&(d=d.set("fieldID",""));d.get("answers")&&(d=d.set("answers",d.get("answers").map(function(a){a.fieldID===b("AdsLeadGenFormUtils").getDefaultFieldID(a.answer)&&(a.fieldID="");return a})));return d});return this.set("questions",d)};d.clearCustomDisclaimerConsentDefaultFieldIDs=function(){return this.set("custom_disclaimer_consents",this.get("custom_disclaimer_consents").map(function(a,c){return a.get("fieldID")===b("AdsLeadGenFormUtils").getDefaultFieldID(a.get("content"))?a.set("fieldID",""):a}))};c.createNewForm=function(){var a;return new c({block_display_for_non_targeted_viewer:!0,context_card_button_text:"",context_card_content:(a=b("immutable")).Map(),context_card_content_cache:a.Map(),context_card_cover_photo:null,context_card_format:"TEXT",context_card_is_cover_photo_selected:!1,context_card_is_selected:!0,context_card_style:b("AdsLeadGenFormEditorConstants").DEFAULTS.CONTEXT_CARD_STYLE,context_card_title:"",custom_disclaimer_consents:a.OrderedMap(),custom_disclaimer_editor_state:b("EditorState").createEmpty(b("AdsLeadGenLinkDecorator")),custom_disclaimer_is_selected:!1,custom_disclaimer_title:"",follow_up_action_url:"",id:h(),is_off_facebook:!1,is_optimized_for_quality:!1,locale:"en_US",name:"",page_id:"1",question_page_custom_headline:"",questions:a.OrderedMap(),privacy_policy_link_text:"",privacy_policy_url:"",status:"ACTIVE",thank_you_page:null,disqualified_end_component:null,default_disqualified_end_component:null,default_thank_you_page:null,tracking_parameters:a.List.of({name:"",value:""})})};c.getQualifyingQuestions=function(a){return a.filter(function(a){a=a.get("questionTypeKey");return a==="qualifying-question"})};c.getMCQStyleQuestions=function(a){return a.filter(function(a){a=a.get("questionTypeKey");return a==="multiple-choice"||a==="conditional"})};c.getRegularCustomQuestions=function(a){return a.filter(function(a){a=a.get("questionTypeKey");return["short-answer","store-lookup","store-lookup-typeahead","date-time"].indexOf(a)>=0})};c.getPrefillQuestions=function(a){return a.filter(function(a){return a.get("questionTypeKey")==="prefill"})};d.$AdsLeadGenForm1=function(a,c){var d=a.get("label");c!=null&&c.has(String(a.get("id")))&&(d=c.get(String(a.get("id"))).label);return b("AdsLeadGenFormUtils").getDefaultFieldID(d)};return c}(b("AdsLeadGenFormBase"));var h=function(){return g+b("guid")()};e.exports=a}),null);
__d("AdsLeadGenFormEditorElement",[],(function(a,b,c,d,e,f){"use strict";e.exports=Object.freeze({CONTEXT_CARD:"CONTEXT_CARD",QUESTION:"QUESTION",FORM_CLARITY_HEADLINE:"FORM_CLARITY_HEADLINE",THANK_YOU_SCREEN:"THANK_YOU_SCREEN",DISQUALIFIED_SCREEN:"DISQUALIFIED_SCREEN"})}),null);
__d("AdsLeadGenFormEditorQuestionsSetActiveQuestionIdReducerPlugin",["AdsLeadGenFormEditorConstants","AdsLeadGenFormEditorElement","adsLeadGenFormEditorViewReducerWrapper"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsLeadGenFormEditorConstants").SINGLE_PAGE_EDITOR.STATUS_KEY.FOCUSED_COMPONENT;a={reduce:b("adsLeadGenFormEditorViewReducerWrapper")(function(a,c){return a.set("activeQuestionID",c.activeQuestionID).set("singlePageEditorStatus",a.get("singlePageEditorStatus").set(g,{component:b("AdsLeadGenFormEditorElement").QUESTION,questionId:c.activeQuestionID}))})};e.exports=a}),null);
__d("AdsLeadGenFormEditorQuestionsSetActiveQuestionIdAction",["Laminar","AdsLeadGenFormEditorQuestionsSetActiveQuestionIdReducerPlugin","AdsLeadGenFormEditorViewProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsLeadGenFormEditorQuestionsSetActiveQuestionIdReducerPlugin"),b("AdsLeadGenFormEditorViewProvider"),{},"")]},function(){return[]},"AdsLeadGenFormEditorActionTypes.QUESTIONS.SET_ACTIVE_QUESTION_ID");e.exports=a}),null);
__d("AdsLeadGenFormEditorViewSelectors",["AdsCallToActionTypesCond","AdsLeadGenFormEditorConstants","adsCreateSelector","AdsLeadGenFormEditorViewProvider"],(function(a,b,c,d,e,f){"use strict";a=b("AdsLeadGenFormEditorViewProvider").toFluxSelector();c=b("AdsLeadGenFormEditorConstants").SINGLE_PAGE_EDITOR.STATUS_KEY;var g=c.EXPANDED_CONTENT_SECTION,h=c.EXPANDED_SETTINGS_SECTION,i=c.FOCUSED_COMPONENT;f=(d=b("adsCreateSelector"))([a],function(a){return a.get("creationSource")},{name:e.id+".formEditorCreationSourceSelector"});c=d([a],function(a){return a.get("formID")},{name:e.id+".formEditorNullableFormIDSelector"});var j=d([a],function(a){return a.get("formID")},{name:e.id+".formEditorFormIDSelector"}),k=d([a],function(a){return a.get("sourceFormID")},{name:e.id+".formEditorSourceFormIDSelector"}),l=d([a],function(a){return a.get("moreUserInfoQuestionOptionsShown")},{name:e.id+".formEditorIsMoreUserInfoQuestionShownSelector"}),m=d([a],function(a){return a.get("singlePageEditorStatus")},{name:e.id+".formEditorSinglePageEditorStatusSelector"}),n=d([m],function(a){var c=b("AdsLeadGenFormEditorConstants").SINGLE_PAGE_EDITOR.STATUS_KEY;return a.get(c.IS_CONTEXT_CARD_UNSAVED)||a.get(c.IS_QUESTIONS_UNSAVED)||a.get(c.IS_PRIVACY_POLICY_UNSAVED)||a.get(c.IS_THANK_YOU_PAGE_UNSAVED)},{name:e.id+".formEditorIscanvasFormUnsavedSelector"}),o=d([m],function(a){var c=b("AdsLeadGenFormEditorConstants").SINGLE_PAGE_EDITOR.STATUS_KEY;return a.get(c.IS_FORM_SETUP_UNSAVED)||a.get(c.IS_CONTEXT_CARD_UNSAVED)||a.get(c.IS_QUESTIONS_UNSAVED)||a.get(c.IS_PRIVACY_POLICY_UNSAVED)||a.get(c.IS_QUALITY_BUNDLE_UNSAVED)||a.get(c.IS_THANK_YOU_PAGE_UNSAVED)||a.get(c.IS_CONFIGURATION_UNSAVED)||a.get(c.IS_FIELD_IDS_UNSAVED)||a.get(c.IS_FORM_NAME_UNSAVED)||a.get(c.IS_TRACKING_PARAMETERS_UNSAVED)},{name:e.id+".formEditorIsFormUnsavedSelector"}),p=d([a],function(a){return a.get("canSeeLeadQualityTestNux")},{name:e.id+".formEditorCanSeeLeadQualityTestNuxSelector"}),q=d([a],function(a){return a.get("placementSpecs")},{name:e.id+".formEditorPlacementSpecsSelector"}),r=d([a],function(a){return a.get("APIMessage")},{name:e.id+".formEditorAPIMessageSelector"}),s=d([a],function(a){return a.get("accessToken")},{name:e.id+".formEditorAccessTokenSelector"}),t=d([a],function(a){return a.get("account")},{name:e.id+".formEditorAccountSelector"}),u=d([a],function(a){return a.get("activeFormID")},{name:e.id+".formEditorActiveFormIDSelector"}),v=d([a],function(a){return a.get("activeQuestionID")},{name:e.id+".formEditorActiveQuestionIDSelector"}),w=d([a],function(a){return a.get("adImage")},{name:e.id+".formEditorAdImageSelector"}),x=d([a],function(a){return(a=a.get("callToActionType"))!=null?a:b("AdsCallToActionTypesCond").TYPES.SIGN_UP.name},{name:e.id+".formEditorCallToActionTypeSelector"}),y=d([a],function(a){return a.get("isPrivacyPolicyRequired")},{name:e.id+".formEditorisPrivacyPolicyRequiredSelector"}),z=d([a],function(a){return a.get("createCallback")},{name:e.id+".formEditorCreateCallbackSelector"}),A=d([a],function(a){return a.get("page")},{name:e.id+".formEditorPageSelector"}),B=d([A],function(a){return a==null?void 0:a.id},{name:e.id+".formEditorPageIDSelector"}),C=d([m],function(a){return a.get(i)},{name:e.id+".formEditorFocusedComponentSelector"}),D=d([m],function(a){return a.get(g)},{name:e.id+".formEditorExpandedContentSectionSelector"}),E=d([m],function(a){return a.get(h)},{name:e.id+".formEditorExpandedSettingsSectionSelector"}),F=d([a],function(a){return a.get("thankYouPageURLType")},{name:e.id+".formEditorThankYouPageURLTypeSelector"}),G=d([a],function(a){return a.get("draftFormID")},{name:e.id+".formEditorDraftFormIDSelector"}),H=d([a],function(a){return a.get("createNewOrDuplicatePageStatus")},{name:e.id+".formEditorCreateNewOrDuplicateSelector"}),I=d([a],function(a){return a.get("stepID")},{name:e.id+".formEditorStepIDSelector"}),J=d([a],function(a){return a.get("isUploadingCoverPhoto")},{name:e.id+".formEditorIsUploadingHeroPhotoSelector"});a=d([a],function(a){return a.get("isQuestionsMaxCountReachedWarningClosed")},{name:e.id+".formEditorIsQuestionsMaxCountReachedWarningClosedSelector"});var K=d([m],function(a){return a.get("isLoading")},{name:e.id+".formEditorIsLoadingSelector"});d=d([m],function(a){return a.get(b("AdsLeadGenFormEditorConstants").SINGLE_PAGE_EDITOR.STATUS_KEY.SELECTED_TAB)},{name:e.id+".formEditorSelectedTabSelector"});e.exports={formEditorAPIMessageSelector:r,formEditorCanSeeLeadQualityTestNuxSelector:p,formEditorCreationSourceSelector:f,formEditorFormIDSelector:j,formEditorNullableFormIDSelector:c,formEditorIsMoreUserInfoQuestionShownSelector:l,formEditorisPrivacyPolicyRequiredSelector:y,formEditorFocusedComponentSelector:C,formEditorPageSelector:A,formEditorPageIDSelector:B,formEditorPlacementSpecsSelector:q,formEditorSourceFormIDSelector:k,formEditorIscanvasFormUnsavedSelector:n,formEditorIsFormUnsavedSelector:o,formEditorCreateCallbackSelector:z,formEditorExpandedContentSectionSelector:D,formEditorExpandedSettingsSectionSelector:E,formEditorSinglePageEditorStatusSelector:m,formEditorThankYouPageURLTypeSelector:F,formEditorDraftFormIDSelector:G,formEditorCreateNewOrDuplicateSelector:H,formEditorAccessTokenSelector:s,formEditorStepIDSelector:I,formEditorAdImageSelector:w,formEditorCallToActionTypeSelector:x,formEditorAccountSelector:t,formEditorActiveFormIDSelector:u,formEditorIsUploadingHeroPhotoSelector:J,formEditorIsQuestionsMaxCountReachedWarningClosedSelector:a,formEditorActiveQuestionIDSelector:v,formEditorIsLoadingSelector:K,formEditorSelectedTabSelector:d}}),null);
__d("AdsLeadGenFormQuestion",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({answers:void 0,conditionalAnswerChoices:void 0,conditionalAnswerSetID:void 0,conditionalQuestions:void 0,fieldID:void 0,id:void 0,inlineContext:void 0,inlineContextEnabled:void 0,isCustomized:void 0,label:void 0,questionTypeKey:void 0,storeLookupAPI:void 0,storeLookupAPIAdditionalURLParam:void 0,storeLookupTypeKey:void 0,destinations:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsLeadGenFormRedesignExperiment",[],(function(a,b,c,d,e,f){"use strict";a={canSeeFormRedesign:!0,canSeeQualifyingQuestion:!1,canSeeFormClarity:!1};e.exports=a}),null);
__d("AdsLeadGenFormThankYouPage",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({title:void 0,body:void 0,button_text:void 0,button_type:void 0,business_phone_number:void 0,country_code:void 0,website_url:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsLeadGenFormEditorProviderUtils",["AdsDataAtom","AdsLeadGenForm","AdsLeadGenFormEditorConstants","AdsLeadGenFormEditorQuestionsSetActiveQuestionIdAction","AdsLeadGenFormEditorUserInfoQuestionStore","AdsLeadGenFormEditorViewSelectors","AdsLeadGenFormQuestion","AdsLeadGenFormRedesignExperiment","AdsLeadGenFormThankYouPage","AdsLeadGenFormEditorViewProvider","AdsLeadGenFormPreviewDetailsStore","immutable","guid"],(function(a,b,c,d,e,f){var g=b("AdsLeadGenFormEditorViewSelectors").formEditorCallToActionTypeSelector,h=b("AdsLeadGenFormEditorViewSelectors").formEditorFormIDSelector,i=b("AdsLeadGenFormEditorViewSelectors").formEditorPageSelector,j=b("AdsLeadGenFormEditorViewProvider").toFluxStore();function a(a,b,c){a.title===b.title&&(a=a.set("title",c.title));a.body===b.body&&(a=a.set("body",c.body));a.button_text===b.button_text&&(a=a.set("button_text",c.button_text));return a}function c(a,b,c){a.title===b.title&&(a=a.set("title",c.title));a.body===b.body&&(a=a.set("body",c.body));a.button_text===b.button_text&&(a=a.set("button_text",c.button_text));return a}function k(a,b,c){return a.update(b,function(a){var b=a.getValue();return b?a.setValue(c(b)):a})}function d(a,b,c,d){return a.update(b,function(a){var b=a.getValue();if(!b)return a;var e=b.get("questions");if(e.has(d)){e=e.set(d,e.get(d).set("fieldID",c));return a.setValue(b.set("questions",e))}return a})}function l(){return"question_"+b("guid")()}function f(a){return(a=m(a))!=null?a.defaultThankYouPage:a}function m(a){b("AdsDataAtom").waitFor([j.getDispatchToken(),b("AdsLeadGenFormPreviewDetailsStore").getDispatchToken()]);var c=i(),d=g();return b("AdsLeadGenFormPreviewDetailsStore").getPreviewDetails(d,a,c)}function n(a){return(a=m(a))!=null?a.defaultDisqualifiedEndComponent:a}function o(a,c){return c!=a.count()?b("immutable").Range(0,c).map(function(a){return{fieldKey:"conditional_question_"+(a+1),name:""}}).toList():b("immutable").Range(0,a.count()).map(function(b){return{fieldKey:"conditional_question_"+(b+1),name:a.get(b).name}}).toList()}function p(a,c,d,e){return k(a,c,function(a){var c=a.get("thank_you_page")||new(b("AdsLeadGenFormThankYouPage"))({});c=c.set(e,d);return a.set("thank_you_page",c)})}function q(a,b,c,d){return k(a,b,function(a){var b=a.get("disqualified_end_component");b&&(b=b.set(d,c));return a.set("disqualified_end_component",b)})}function r(a,c,d,e){return k(a,c,function(a){if(a.isAtMaxQuestionCount())return a;var c=null;d==="prefill"&&e?c=new(b("AdsLeadGenFormQuestion"))({answers:b("immutable").List(),id:e.fieldID,label:e.questionName,questionTypeKey:d}):c=new(b("AdsLeadGenFormQuestion"))({answers:b("immutable").List(),id:l(),inlineContextEnabled:!0,label:d==="conditional"?"Conditional Question":"",questionTypeKey:d});if(d==="store-lookup"){var f=a.get("questions"),g=b("AdsLeadGenFormEditorUserInfoQuestionStore").getLookupMap(a.get("locale"));if(g!=null&&f.get(b("AdsLeadGenFormEditorConstants").CMS_PII_MAP.ZIP)==null&&f.get(b("AdsLeadGenFormEditorConstants").CMS_PII_MAP.POST_CODE)==null){var h=g.get(b("AdsLeadGenFormEditorConstants").CMS_PII_MAP.ZIP);g=g.get(b("AdsLeadGenFormEditorConstants").CMS_PII_MAP.POST_CODE);h!=null?f=f.set(h.id,new(b("AdsLeadGenFormQuestion"))({answers:b("immutable").List(),id:h.id,label:h.label,questionTypeKey:"prefill"})):g!=null&&(f=f.set(g.id,new(b("AdsLeadGenFormQuestion"))({answers:b("immutable").List(),id:g.id,label:g.label,questionTypeKey:"prefill"})));a=a.set("questions",f)}}var i=c.get("id");h=a.get("questions").set(i,c);b("AdsLeadGenFormRedesignExperiment").canSeeFormRedesign&&(h=x(h));b("AdsDataAtom").addPostDispatchCallback(function(){return b("AdsLeadGenFormEditorQuestionsSetActiveQuestionIdAction").dispatch({activeQuestionID:i},{line:"315",module:"AdsLeadGenFormEditorProviderUtils.js"})});return a.set("questions",h)})}function s(a,c,d,e){return k(a,c,function(a){var c=e.answers,f=e.label,g=e.inlineContext,h=e.inlineContextEnabled,i=e.storeLookupTypeKey,j=e.storeLookupAPI,k=e.storeLookupAPIAdditionalURLParam,l=a.getQuestion(d);if(l==null)return a;f!==void 0&&(l=l.set("label",f));switch(l.questionTypeKey){case"multiple-choice":case"qualifying-question":c!==void 0&&(l=l.set("answers",b("immutable").List(c.map(function(a){return{answer:a}}))));l.questionTypeKey==="qualifying-question"&&(l=t(l,e));break;case"store-lookup":case"store-lookup-typeahead":i!==void 0&&(l=l.set("storeLookupTypeKey",i));j!==void 0&&l.storeLookupTypeKey==="API"&&(l=l.set("storeLookupAPI",j));k!==void 0&&l.storeLookupTypeKey==="API"&&(l=l.set("storeLookupAPIAdditionalURLParam",k));break;case"date-time":g!==void 0&&(l=l.set("inlineContext",g));h!==void 0&&(l=l.set("inlineContextEnabled",h));break}return a.updateQuestion(l)})}function t(a,c){var d,e=c.answers;c=c.qualifyingQuestionOption;d=(d=a.get("destinations"))!=null?d:b("immutable").Map();var f=b("immutable").Map();e!==void 0&&(d.forEach(function(a,b){e.includes(b)&&(f=f.set(b,a))}),a=a.set("destinations",f));c!==void 0&&(c.isQualified?a=a.set("destinations",d.remove(c.option)):a=a.set("destinations",d.set(c.option,{type:"DISQUALIFIED_END_COMPONENT"})));return a}function u(a,b,c){return k(a,b,function(a){return a.updateOrderQuestions(c)})}function v(a,c,d){if(a.get(c)==null)return a;var e=b("immutable").OrderedMap();a.forEach(function(b,f){f!=c&&(f==d&&(e=e.set(c,a.get(c))),e=e.set(f,b))});d==null&&(e=e.set(c,a.get(c)));return e}function w(a,b,c,d){return k(a,b,function(a){var b=a.getQualifyingQuestions(),e=a.getMCQStyleQuestions(),f=a.getRegularCustomQuestions(),g=a.getPrefillQuestions();b=b;b=b.merge(v(e,c,d));b=b.merge(v(f,c,d));b=b.merge(v(g,c,d));return a.set("questions",b)})}function x(a){var c,d=(c=b("AdsLeadGenForm")).getQualifyingQuestions(a),e=c.getMCQStyleQuestions(a),f=c.getRegularCustomQuestions(a);c=c.getPrefillQuestions(a);return d.merge(e).merge(f).merge(c)}function y(a,b,c){return k(a,b,function(a){var b=a.getQualifyingQuestions().get(c);return b?a.set("disqualified_end_component",null).deleteQuestion(c):a.deleteQuestion(c)})}function z(a,b,c,d,e){return k(a,b,function(a){var b=a.getQuestion(d);if(b==null)return a;var f=b.answers.map(function(a){if(a.answer===e)return{answer:a.answer,fieldID:c};else return a});b=b.set("answers",f);return a.updateQuestion(b)})}function A(a,b,c,d){return k(a,b,function(a){var b=a.getConsent(d);if(b==null)return a;b=b.set("fieldID",c);return a.updateConsent(b)})}function B(a,b,c,d,e){return k(a,b,function(a){var b=a.get("questions");b=b.get(c);var f=o(d,e.getQuestionCount());b=b.set("conditionalAnswerSetID",e.getID()).set("conditionalQuestions",f);return a.updateQuestion(b)})}function C(a,b,c,d,e){return k(a,b,function(a){var b=a.get("questions");b=b.get(c);b=b.update("conditionalQuestions",function(a){var b=a.get(d);return a.set(d,babelHelpers["extends"]({},b,{name:e}))});return a.updateQuestion(b)})}function D(a,b,c,d,e){return k(a,b,function(a){var b=a.get("questions");b=b.get(c);b=b.update("conditionalQuestions",function(a){var b=a.get(d);return a.set(d,babelHelpers["extends"]({},b,{fieldKey:e}))});return a.updateQuestion(b)})}function E(a,c){var d=h();if(d==null)return a;var e=c.reduce(function(a,c){return a.merge(c.cms_objects.reduce(function(a,b){return a.set(String(b.id),b.label)},b("immutable").Map()))},b("immutable").Map()),f=function(a){return a.filter(function(a){return e.has(String(a.get("id")))||a.questionTypeKey!=="prefill"}).map(function(a){return a.set("label",a.questionTypeKey==="prefill"?e.get(String(a.get("id"))):a.get("label"))})};return k(a,d,function(a){return a.update("questions",f)})}e.exports={getNewThankYouPage:a,getNewDisqualifiedEndComponent:c,updateForm:k,setQuestionFieldID:d,generateQuestionID:l,getDefaultThankYouPage:f,getDefaultDisqualifiedEndComponent:n,updateConditionalQuestions:o,updateSelectedQuestionsByLocale:E,segmentQuestionsByType:x,setConditionalAnswerSet:B,updateStateForThankYouPageActions:p,updateDisqualifiedEndComponent:q,setQuestionAnswerFieldID:z,setCustomDisclaimerConsentFieldID:A,addQuestion:r,reorderQuestion:w,reorderQuestions:u,updateQuestion:s,updateConditionalQuestionLabel:C,updateConditionalQuestionKey:D,deleteQuestion:y}}),null);
__d("AdsLeadGenFormDisqualifiedEndComponent",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({title:void 0,body:void 0,button_text:void 0,website_url:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsLeadGenFormPreviewDetailsDataManager",["invariant","AdsGraphAPI","AdsLeadGenFormDisqualifiedEndComponent","AdsLeadGenFormPreviewDetailsSuccessfullyLoadedPreviewDetailsAction","AdsLeadGenFormThankYouPage","getByPath","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var c=a.prototype;c.load=function(a){var c=this,d=a.callToActionType,f=a.locale,g=a.pageID;d=["leadgen_form_preview_details"+(".call_to_action_type("+d+")")+(".locale("+f+")")];b("promiseDone")(b("AdsGraphAPI").get(e.id).object("leadgen_form_preview_details",g).get({fields:d}),function(b){return c.$1(a,b)})};c.$1=function(a,c){var d,e,f,h=b("getByPath")(c,["leadgen_form_preview_details","contact_information_text"]);typeof h==="string"||g(0,21183);var i=b("getByPath")(c,["leadgen_form_preview_details","call_to_action_title"]);typeof i==="string"||g(0,4114);var j=b("getByPath")(c,["leadgen_form_preview_details","next_button_text"]);typeof j==="string"||g(0,4115);var k=b("getByPath")(c,["leadgen_form_preview_details","submit_button_text"]);typeof k==="string"||g(0,4116);var l=b("getByPath")(c,["leadgen_form_preview_details","email_inline_context_text"]);typeof l==="string"||g(0,4117);var m=b("getByPath")(c,["leadgen_form_preview_details","form_clarity_headline"]);typeof m==="string"||g(0,21295);var n=b("getByPath")(c,["leadgen_form_preview_details","form_clarity_description_title"]);typeof n==="string"||g(0,21305);var o=b("getByPath")(c,["leadgen_form_preview_details","form_clarity_description_content"]);typeof o==="string"||g(0,21304);var p=b("getByPath")(c,["leadgen_form_preview_details","qualified_thank_you_card_transparency_info_text"]);typeof p==="string"||g(0,21765);var q=b("getByPath")(c,["leadgen_form_preview_details","disqualified_thank_you_card_transparency_info_text"]);typeof q==="string"||g(0,21766);var r=b("getByPath")(c,["leadgen_form_preview_details","phone_number_inline_context_text"]);typeof r==="string"||g(0,4118);var s=b("getByPath")(c,["leadgen_form_preview_details","privacy_policy_title_section_title_text"]);typeof s==="string"||g(0,21333);var t=b("getByPath")(c,["leadgen_form_preview_details","edit_text"]);typeof t==="string"||g(0,4119);var u=b("getByPath")(c,["leadgen_form_preview_details","personal_info_text"]);typeof u==="string"||g(0,4120);var v=b("getByPath")(c,["leadgen_form_preview_details","review_your_info_text"]);typeof v==="string"||g(0,4121);f=((f=c)!=null?(f=f.leadgen_form_preview_details)!=null?f.secure_sharing_text:f:f)||"";var w=b("getByPath")(c,["leadgen_form_preview_details","slide_to_submit_text"]);typeof w==="string"||g(0,4122);e=(e=c)!=null?(e=e.leadgen_form_preview_details)!=null?e.default_appointment_scheduling_inline_context:e:e;d=b("nullthrows")((d=c)!=null?(d=d.leadgen_form_preview_details)!=null?d.default_thank_you_page:d:d);d=new(b("AdsLeadGenFormThankYouPage"))(d);c=b("nullthrows")((c=c)!=null?(c=c.leadgen_form_preview_details)!=null?c.default_disqualified_end_component:c:c);c=new(b("AdsLeadGenFormDisqualifiedEndComponent"))(c);b("AdsLeadGenFormPreviewDetailsSuccessfullyLoadedPreviewDetailsAction").dispatch({previewDetailsKey:a,previewDetails:{contactInfoText:h,callToActionTitle:i,defaultAppointmentSchedulingInlineContext:e,defaultThankYouPage:d,defaultPrivacyPolicyTitle:s,defaultDisqualifiedEndComponent:c,editText:t,emailInlineContextText:l,formClarityHeadlineText:m,formClarityDescriptionTitle:n,formClarityDescriptionContent:o,qualifiedThankYouCardTransparencyInfoText:p,disqualifiedThankYouCardTransparencyInfotext:q,nextButtonText:j,personalInfoText:u,phoneNumberInlineContextText:r,reviewYourInfoText:v,secureSharingText:f,slideToSubmitText:w,submitButtonText:k}},{line:"265",module:"AdsLeadGenFormPreviewDetailsDataManager.js"})};return a}();e.exports=new a()}),null);
__d("AdsLeadGenFormPreviewDetailsKey",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({callToActionType:void 0,locale:void 0,pageID:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsLeadGenFormPreviewDetailsSuccessfullyLoadedPreviewDetailsActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"leadGenFormPreviewDetailsSuccessfullyLoadedPreviewDetails"}}),null);
__d("AdsLeadGenFormPreviewDetailsStore",["AdsDataAtom","AdsLeadGenFormPreviewDetailsDataManager","AdsLeadGenFormPreviewDetailsKey","AdsLeadGenFormPreviewDetailsSuccessfullyLoadedPreviewDetailsActionFlux","FluxLoadObjectStore","LoadObject","adsCreateStoreThunkSelector","isFalsey","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.getPreviewDetailsSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.getPreviewDetails.bind(babelHelpers.assertThisInitialized(d))),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.__getActionTypes=function(){return[this.getActionTypeStartLoad(),b("AdsLeadGenFormPreviewDetailsSuccessfullyLoadedPreviewDetailsActionFlux").actionType]};d.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsLeadGenFormPreviewDetailsSuccessfullyLoadedPreviewDetailsActionFlux").actionType:return a.set(b("nullthrows")(c.previewDetailsKey),b("LoadObject").withValue(b("nullthrows")(c.previewDetails)));default:return a}};d.__load=function(a){b("AdsLeadGenFormPreviewDetailsDataManager").load(a)};d.getPreviewDetails=function(a,c,d){return b("isFalsey")(a)||b("isFalsey")(c)||!d?null:this.getPreviewDetailsByPageID(a,c,d.id)};d.getPreviewDetailsByPageID=function(a,c,d){if(b("isFalsey")(a)||b("isFalsey")(c)||b("isFalsey")(d))return null;a=new(b("AdsLeadGenFormPreviewDetailsKey"))({callToActionType:a,locale:c,pageID:d});return this.get(a).getValue()};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsLeadGenFormEditorQuestionsLoadedReducerPlugin",["AdsLeadGenFormEditorProviderUtils"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){return b("AdsLeadGenFormEditorProviderUtils").updateSelectedQuestionsByLocale(a,c.userInfoQuestionGroups)}};e.exports=a}),null);
__d("AdsLeadGenFormPreviewDetailsSuccessfullyLoadedPreviewDetailsReducerPlugin",["AdsDataAtom","AdsLeadGenFormEditorProviderUtils","AdsLeadGenFormEditorViewProvider","AdsLeadGenFormEditorViewSelectors","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsLeadGenFormEditorViewProvider").toFluxStore(),h=b("AdsLeadGenFormEditorViewSelectors").formEditorFormIDSelector,i=b("AdsLeadGenFormEditorViewSelectors").formEditorPageSelector,j=b("AdsLeadGenFormEditorViewSelectors").formEditorCallToActionTypeSelector;a={reduce:function(a,c){b("AdsDataAtom").waitFor([g.getDispatchToken()]);var d=h();return d==null?a:b("AdsLeadGenFormEditorProviderUtils").updateForm(a,d,function(a){var d=c.previewDetailsKey,e=i(),f=j();if(!(d.get("pageID")===(e==null?void 0:e.id)&&d.get("callToActionType")===f&&d.get("locale")===a.get("locale")))return a;e=b("nullthrows")(c.previewDetails).defaultThankYouPage;f=a.get("default_thank_you_page");d=a.get("thank_you_page");f&&d&&e&&(d=b("AdsLeadGenFormEditorProviderUtils").getNewThankYouPage(d,f,e));f=b("nullthrows")(c.previewDetails).defaultDisqualifiedEndComponent;var g=a.get("default_disqualified_end_component"),h=a.get("disqualified_end_component");g&&h&&f&&(h=b("AdsLeadGenFormEditorProviderUtils").getNewDisqualifiedEndComponent(h,g,f));return a.set("default_thank_you_page",e).set("thank_you_page",d).set("default_disqualified_end_component",f).set("disqualified_end_component",h)})}};e.exports=a}),null);
__d("AdsLeadGenFormEditorAdsLeadGenFormEditorApiFormDuplicatedReducerPlugin",["AdsLeadGenFormEditorProviderUtils","AdsLeadGenFormEditorUserInfoQuestionStore"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){var d=b("AdsLeadGenFormEditorUserInfoQuestionStore").getLookupMap(c.form.get("locale"));d=c.form.clearAllDefaltFieldIDs(d).merge({name:c.form.get("name")+"-copy",default_thank_you_page:b("AdsLeadGenFormEditorProviderUtils").getDefaultThankYouPage(c.form?c.form.get("locale"):null),default_disqualified_end_component:b("AdsLeadGenFormEditorProviderUtils").getDefaultDisqualifiedEndComponent(c.form?c.form.get("locale"):null)});var e=c.isDuplicatedFromAutoCreation||!1;e&&!!d&&(d=d.merge({context_card_is_selected:!0,context_card_is_cover_photo_selected:!0}));return a.setSingleValueOrError(c.formID,d)}};e.exports=a}),null);
__d("AdsLeadGenFormEditorApiFormDuplicatedReducerPlugin",["AdsLeadGenFormEditorConstants","adsLeadGenFormEditorViewReducerWrapper"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsLeadGenFormEditorConstants").DEFAULTS;a=b("AdsLeadGenFormEditorConstants").SINGLE_PAGE_EDITOR.STATUS_KEY.EXPANDED_CONTENT_SECTION;var h=["singlePageEditorStatus",a];c={reduce:b("adsLeadGenFormEditorViewReducerWrapper")(function(a,b){return a.set("moreUserInfoQuestionOptionsShown",!0).setIn(["singlePageEditorStatus","isLoading"],!1).setIn(h,g.EXPANDED_CONTENT_SECTION)})};e.exports=c}),null);
__d("AdsLeadGenFormEditorCapabilitiesProviderPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";a={initialState:b("immutable").Set()};e.exports=a}),null);
__d("AdsLeadGenFormEditorCapabilitiesProvider",["Laminar","AdsLeadGenFormEditorCapabilitiesProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsLeadGenFormEditorCapabilitiesProviderPlugin"),"AdsLeadGenFormEditorCapabilitiesProviderPlugin")}),null);
__d("AdsLeadGenRichPreviewExperiment",[],(function(a,b,c,d,e,f){"use strict";a={canSeeRichPreview:!1};e.exports=a}),null);
__d("adsLeadGenGetFormCapabilities",["AdsLeadGenConstants","AdsLeadGenFormFeatureToCapability","immutable"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=new Set();a.get("is_optimized_for_quality")&&c.add(b("AdsLeadGenFormFeatureToCapability").LEAD_AD_WITH_IMPROVED_AD_UNIT);a.get("context_card_is_selected")&&(a.get("context_card_format")==="CANVAS"&&c.add(b("AdsLeadGenFormFeatureToCapability").LEAD_AD_WITH_CANVAS));var d=a.getPrefillQuestions();d.get(b("AdsLeadGenConstants").DATE_OF_BIRTH_QUESTION_ID)&&c.add(b("AdsLeadGenConstants").DATE_OF_BIRTH_QUESTION_KEY);d=a.getCustomQuestions();d&&d.forEach(function(a){switch(a.get("questionTypeKey")){case"date-time":c.add(b("AdsLeadGenFormFeatureToCapability").LEAD_AD_WITH_DATE_TIME_INPUT);break;case"store-lookup":c.add(b("AdsLeadGenFormFeatureToCapability").LEAD_AD_WITH_STORE_LOOKUP);break;case"store-lookup-typeahead":c.add(b("AdsLeadGenFormFeatureToCapability").LEAD_AD_WITH_STORE_LOOKUP_TYPEAHEAD)}});return b("immutable").Set(c)}e.exports=a}),null);
__d("AdsLeadGenFormEditorFormLoadedReducerPlugin",["AdsLeadGenRichPreviewExperiment","adsLeadGenGetFormCapabilities"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){if(!b("AdsLeadGenRichPreviewExperiment").canSeeRichPreview)return a;a=c.form;return b("adsLeadGenGetFormCapabilities")(a)}};e.exports=a}),null);
__d("AdsLeadGenFormEditorApiFormDuplicatedAction",["Laminar","AdsLeadGenFormEditorAdsLeadGenFormEditorApiFormDuplicatedReducerPlugin","AdsLeadGenFormEditorProvider","AdsLeadGenFormEditorApiFormDuplicatedReducerPlugin","AdsLeadGenFormEditorViewProvider","AdsLeadGenFormEditorFormLoadedReducerPlugin","AdsLeadGenFormEditorCapabilitiesProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsLeadGenFormEditorAdsLeadGenFormEditorApiFormDuplicatedReducerPlugin"),b("AdsLeadGenFormEditorProvider"),{},""),b("Laminar").__createReducer(b("AdsLeadGenFormEditorApiFormDuplicatedReducerPlugin"),b("AdsLeadGenFormEditorViewProvider"),{},""),b("Laminar").__createReducer(b("AdsLeadGenFormEditorFormLoadedReducerPlugin"),b("AdsLeadGenFormEditorCapabilitiesProvider"),{},"")]},function(){return[]},"leadGenFormEditorApiFormDuplicated");e.exports=a}),null);
__d("AdsLeadGenFormEditorAdsLeadGenFormEditorApiFormLoadedReducerPlugin",["fbt","AdsLeadGenFormEditorAdContextDataProvider","AdsDataAtom","AdsLeadGenFormEditorProviderUtils","AdsLeadGenFormEditorViewSelectors","formatDate","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("AdsLeadGenFormEditorAdContextDataProvider").toFluxStore(),i=b("AdsLeadGenFormEditorViewSelectors").formEditorPageIDSelector,j=b("AdsLeadGenFormEditorViewSelectors").formEditorAdImageSelector;a={reduce:function(a,c){var d=c.form;c=c.formID;if(d.isNewForm()){var e;e=(e=i())!=null?e:"";var f=!j(),k=b("formatDate")(Date.now()/1e3,"m/d/Y g:ia");k=g._("Untitled form {date}",[g._param("date",k)]).toString();d=d.merge({name:k,page_id:e,context_card_is_cover_photo_selected:f,tracking_parameters:b("immutable").List.of({name:"",value:""})})}d.get("default_thank_you_page")||(d=d.set("default_thank_you_page",b("AdsLeadGenFormEditorProviderUtils").getDefaultThankYouPage(d.get("locale"))));d.get("default_disqualified_end_component")||(d=d.set("default_disqualified_end_component",b("AdsLeadGenFormEditorProviderUtils").getDefaultDisqualifiedEndComponent(d.get("locale"))));b("AdsDataAtom").waitFor([h.getDispatchToken()]);k=h.getState().productSetID;k!=null&&(d=d.set("product_set_id",k));e=d.get("tracking_parameters");(e===null||e===void 0)&&(d=d.set("tracking_parameters",b("immutable").List()));return a.setSingleValueOrError(c,d)}};e.exports=a}),null);
__d("AdsLeadGenFormEditorApiFormLoadedReducerPlugin",["AdsLeadGenFormEditorConstants","adsLeadGenFormEditorViewReducerWrapper"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsLeadGenFormEditorConstants").DEFAULTS;a=b("AdsLeadGenFormEditorConstants").SINGLE_PAGE_EDITOR.STATUS_KEY.EXPANDED_CONTENT_SECTION;var h=["singlePageEditorStatus",a];c={reduce:b("adsLeadGenFormEditorViewReducerWrapper")(function(a,b){return a.setIn(h,g.EXPANDED_CONTENT_SECTION)})};e.exports=c}),null);
__d("AdsLeadGenFormEditorApiFormLoadedAction",["Laminar","AdsLeadGenFormEditorAdsLeadGenFormEditorApiFormLoadedReducerPlugin","AdsLeadGenFormEditorProvider","AdsLeadGenFormEditorApiFormLoadedReducerPlugin","AdsLeadGenFormEditorViewProvider","AdsLeadGenFormEditorFormLoadedReducerPlugin","AdsLeadGenFormEditorCapabilitiesProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsLeadGenFormEditorAdsLeadGenFormEditorApiFormLoadedReducerPlugin"),b("AdsLeadGenFormEditorProvider"),{},""),b("Laminar").__createReducer(b("AdsLeadGenFormEditorApiFormLoadedReducerPlugin"),b("AdsLeadGenFormEditorViewProvider"),{},""),b("Laminar").__createReducer(b("AdsLeadGenFormEditorFormLoadedReducerPlugin"),b("AdsLeadGenFormEditorCapabilitiesProvider"),{},"")]},function(){return[]},"leadGenFormEditorApiFormLoaded");e.exports=a}),null);
__d("AdsLeadGenFormEditorApiFormSavedReducerPlugin",["fbt","adsLeadGenFormEditorViewReducerWrapper"],(function(a,b,c,d,e,f,g){"use strict";a={reduce:b("adsLeadGenFormEditorViewReducerWrapper")(function(a,b){return a.set("draftFormID",b.draftFormID).set("APIMessage",g._("All changes to draft saved"))})};e.exports=a}),null);
__d("AdsLeadGenFormEditorApiFormSavedAction",["Laminar","AdsLeadGenFormEditorApiFormSavedReducerPlugin","AdsLeadGenFormEditorViewProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsLeadGenFormEditorApiFormSavedReducerPlugin"),b("AdsLeadGenFormEditorViewProvider"),{},"")]},function(){return[]},"AdsLeadGenFormEditorActionTypes.API.FORM_SAVED");e.exports=a}),null);
__d("AdsLeadGenFormEditorContextCardSetContentActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLeadGenFormEditorActionTypes.CONTEXT_CARD.SET_CONTENT"}}),null);
__d("AdsLeadGenFormEditorContextCardSetCoverPhotoActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLeadGenFormEditorActionTypes.CONTEXT_CARD.SET_COVER_PHOTO"}}),null);
__d("AdsLeadGenFormEditorContextCardSetTitleActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLeadGenFormEditorActionTypes.CONTEXT_CARD.SET_TITLE"}}),null);
__d("AdsLeadGenFormEditorSetEditorExpandedSectionReducerPlugin",["AdsLeadGenFormEditorConstants","adsLeadGenFormEditorViewReducerWrapper"],(function(a,b,c,d,e,f){"use strict";a=b("AdsLeadGenFormEditorConstants").SINGLE_PAGE_EDITOR.STATUS_KEY;var g=a.EXPANDED_CONTENT_SECTION,h=a.EXPANDED_SETTINGS_SECTION;c={reduce:b("adsLeadGenFormEditorViewReducerWrapper")(function(a,b){return a.set("singlePageEditorStatus",a.get("singlePageEditorStatus").set(b.tab==="contentTab"?g:h,b.expandedSection))})};e.exports=c}),null);
__d("AdsLeadGenFormEditorSetEditorExpandedSectionAction",["Laminar","AdsLeadGenFormEditorSetEditorExpandedSectionReducerPlugin","AdsLeadGenFormEditorViewProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsLeadGenFormEditorSetEditorExpandedSectionReducerPlugin"),b("AdsLeadGenFormEditorViewProvider"),{},"")]},function(){return[]},"leadGenFormEditorSetEditorExpandedSection");e.exports=a}),null);
__d("AdsLeadGenFormEditorUtils",["AdsLeadGenFormEditorSetEditorExpandedSectionAction","guid","immutable"],(function(a,b,c,d,e,f){"use strict";var g="-";a={generateNewFormID:function(){return g+b("guid")()},generateKeyFromText:function(a){return a.trim().toLocaleLowerCase()},getErrorMessage:function(a,b){a=a.get(b);return a?a.message:null},isNewFormID:function(a){return a.indexOf(g)===0},getDefaultFieldID:function(a){if(!a)return"";a=a.toLowerCase().split(" ");return a.join("_")},getErrorSpecFromError:function(a){var b=a;return{error_code:b.error_subcode?b.error_subcode:b.code,error_message:b.error_user_msg||a.message,error_type:b.type,fbtrace_id:b.fbtrace_id}},setExpandedSectionIfNew:function(a,c){a=a===c;a||b("AdsLeadGenFormEditorSetEditorExpandedSectionAction").dispatch({expandedSection:c,tab:"contentTab"},{line:"77",module:"AdsLeadGenFormEditorUtils.js"})},getFormByID:function(a,b){b=b.get(a);return b==null?null:b.getValue()},getMaxQuestionCount:function(){return 15},getQuestionsSorteableData:function(a){var c=b("immutable").List(),d=b("immutable").Map();a.toArray().forEach(function(a){var b=a.id.toString();a={id:b,question:a,isMovable:!0,isRemovable:!1};c=c.push(b);d=d.set(b,a)});return{questionItemsOrder:c,questionItems:d}}};e.exports=a}),null);
__d("AdsLeadGenFormEditorValidationFields",[],(function(a,b,c,d,e,f){"use strict";e.exports=Object.freeze({CONTEXT_CARD_CONTENT:"context_card_content",CONTEXT_CARD_COVER_PHOTO:"context_card_cover_photo",CONTEXT_CARD_CTA:"context_cta",CONTEXT_CARD_LAYOUT:"context_card_layout",CONTEXT_CARD_TITLE:"context_title",CUSTOM_DISCLAIMER_BODY:"custom_disclaimer_body",CUSTOM_DISCLAIMER_CONSENTS:"custom_disclaimer_consents",CUSTOMIZED_QUESTION:"customized_question",FORM:"form",THANK_YOU_PAGE_BODY:"thank_you_page_body",THANK_YOU_PAGE_BUSINESS_PHONENUMBER:"thank_you_page_business_phonenumber",THANK_YOU_PAGE_BUTTON_TEXT:"thank_you_page_button_text",THANK_YOU_PAGE_HEADLINE:"thank_you_page_headline",THANK_YOU_PAGE_WEBSITE_URL:"thank_you_page_website_url",DISQUALIFIED_END_COMPONENT_BODY:"disqualified_end_component_body",DISQUALIFIED_END_COMPONENT_BUTTON_TEXT:"disqualified_end_component_button_text",DISQUALIFIED_END_COMPONENT_HEADLINE:"disqualified_end_component_headline",DISQUALIFIED_END_COMPONENT_WEBSITE_URL:"disqualified_end_component_website_url"})}),null);
__d("adsLeadGenFormEditorValidationReducerWrapper",["AdsDataAtom","AdsLeadGenFormEditorValidationFields","AdsLeadGenFormEditorViewSelectors","AdsLeadGenFormEditorViewProvider"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsLeadGenFormEditorViewSelectors").formEditorIsFormUnsavedSelector,h=b("AdsLeadGenFormEditorViewProvider").toFluxStore();function a(a){return function(c,d){c=c;b("AdsDataAtom").waitFor([h.getDispatchToken()]);g()&&(c=c.set(b("AdsLeadGenFormEditorValidationFields").FORM,null));return a(c,d)}}e.exports=a}),null);
__d("AdsLeadGenFormEditorDraftFormSaveFailedReducerPlugin",["AdsError","AdsLeadGenFormEditorUtils","AdsLeadGenFormEditorValidationFields","adsLeadGenFormEditorValidationReducerWrapper"],(function(a,b,c,d,e,f){"use strict";a={reduce:b("adsLeadGenFormEditorValidationReducerWrapper")(function(a,c){c=b("AdsLeadGenFormEditorUtils").getErrorSpecFromError(c.error);return c&&c.error_code&&c.error_message?a.set(b("AdsLeadGenFormEditorValidationFields").FORM,new(b("AdsError"))(c.error_code,c.error_message)):a})};e.exports=a}),null);
__d("AdsLeadGenFormEditorValidationProviderPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";a=function(){return b("immutable").Map()};c={initialState:a()};e.exports=c}),null);
__d("AdsLeadGenFormEditorValidationProvider",["Laminar","AdsLeadGenFormEditorValidationProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsLeadGenFormEditorValidationProviderPlugin"),"AdsLeadGenFormEditorValidationProviderPlugin")}),null);
__d("AdsLeadGenFormEditorDraftFormSaveFailedAction",["Laminar","AdsLeadGenFormEditorDraftFormSaveFailedReducerPlugin","AdsLeadGenFormEditorValidationProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsLeadGenFormEditorDraftFormSaveFailedReducerPlugin"),b("AdsLeadGenFormEditorValidationProvider"),{},"")]},function(){return[]},"leadGenFormEditorDraftFormSaveFailed");e.exports=a}),null);
__d("AdsLeadGenFormEditorFormDuplicateFailedAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"leadGenFormEditorFormDuplicateFailed");e.exports=a}),null);
__d("AdsLeadGenFormEditorFormFinishActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"leadGenFormEditorFormFinish"}}),null);
__d("AdsLeadGenFormEditorFormLoadFailedAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"leadGenFormEditorFormLoadFailed");e.exports=a}),null);
__d("AdsLeadGenFormEditorFormPublishFailedAction",["Laminar","AdsLeadGenFormEditorDraftFormSaveFailedReducerPlugin","AdsLeadGenFormEditorValidationProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsLeadGenFormEditorDraftFormSaveFailedReducerPlugin"),b("AdsLeadGenFormEditorValidationProvider"),{},"")]},function(){return[]},"leadGenFormEditorFormPublishFailed");e.exports=a}),null);
__d("AdsLeadGenFormEditorLogEventAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLeadGenFormEditorActionTypes.LOG_EVENT");e.exports=a}),null);
__d("AdsLeadGenFormDefaultUserInfoQuestions",["AdsLeadGenFormEditorConstants","immutable"],(function(a,b,c,d,e,f){"use strict";a=[b("immutable").Map({id:b("AdsLeadGenFormEditorConstants").CMS_PII_MAP.EMAIL}),b("immutable").Map({id:b("AdsLeadGenFormEditorConstants").CMS_PII_MAP.FULL_NAME})];e.exports=a}),null);
__d("AdsLeadGenFormEditorContextCardAPITransformer",["immutable"],(function(a,b,c,d,e,f){"use strict";function a(a){({});var c=!1,d=a.content,e={},f=0;d&&d.forEach(function(a){e["content_"+f++]=a});d=a.style;var g=a.button_text,h=a.title,i=a.cover_photo,j=null;i&&(j={height:i.height,id:i.id,originalHeight:i.height,originalWidth:i.width,src:i.source,width:i.width},c=!0);i=a.format?a.format:"TEXT";a={context_card_button_text:g,context_card_content:b("immutable").Map(e),context_card_style:d,context_card_title:h,context_card_format:i,context_card_cover_photo:j,context_card_is_cover_photo_selected:c,context_card_is_selected:!0,context_card_content_cache:b("immutable").Map()};return a}function c(a){var b=a.get("context_card_content").filter(function(a){return a.trim().length>0}).mapEntries(function(a,b){a[0];a=a[1];return["content_"+b,a]}),c={};c.title=a.get("context_card_title");c.style=a.get("context_card_style");c.content=b;b=a.get("context_card_cover_photo");a.get("context_card_is_cover_photo_selected")&&b!=null&&(c.cover_photo_id=b.id);b=a.get("context_card_format");c.format=b;return c}e.exports={fromAPI:a,toAPI:c}}),null);
__d("AdsLeadGenFormEditorDisqualifiedEndComponentAPITransformer",["AdsLeadGenFormDisqualifiedEndComponent"],(function(a,b,c,d,e,f){"use strict";function a(a){return new(b("AdsLeadGenFormDisqualifiedEndComponent"))({title:a.title,body:a.body,button_text:a.button_text,website_url:a.website_url})}function c(a){var b={};a=a.get("disqualified_end_component");a&&(b.disqualified_end_component=a.toObject());return b.disqualified_end_component}e.exports={fromAPI:a,toAPI:c}}),null);
__d("AdsLeadGenFormEditorFormSettingsAPITransformer",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{block_display_for_non_targeted_viewer:a.block_display_for_non_targeted_viewer==null?!0:a.block_display_for_non_targeted_viewer,locale:a.locale,is_optimized_for_quality:a.is_optimized_for_quality}}function b(a){return{block_display_for_non_targeted_viewer:a.get("block_display_for_non_targeted_viewer"),locale:a.get("locale").toUpperCase(),is_optimized_for_quality:a.get("is_optimized_for_quality")}}e.exports={fromAPI:a,toAPI:b}}),null);
__d("AdsLeadGenFormConsent",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({content:void 0,fieldID:void 0,id:void 0,is_required:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("adsLeadGenFromApiCustomDisclaimerBody",["AdsLeadGenLinkDecorator","EditorState","createEditorStateWithRanges","immutable"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.get("Plaintext");a=a.get("Ranges")||[];if(!c)return b("EditorState").createEmpty(b("AdsLeadGenLinkDecorator"));a=a.map(function(a){return{offset:a.get("offset"),length:a.get("length"),entity:{url:a.get("url")}}});return b("createEditorStateWithRanges")({addEntityToContentStateFn:function(a,b){a=a.entity;return b.createEntity("LINK","MUTABLE",a)},decorator:b("AdsLeadGenLinkDecorator"),text:c,ranges:a})}e.exports=a}),null);
__d("AdsLeadGenFormEditorLegalContentAPITransformer",["AdsLeadGenFormConsent","AdsLeadGenFormUtils","EditorState","adsLeadGenFromApiCustomDisclaimerBody","guid","immutable"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=!1,d=b("immutable").OrderedMap(),e="",f=b("EditorState").createEmpty(),g="",h="";({});if(a.privacy_policy){var i;g=(a.privacy_policy.link_text||"").trim();h=((i=a.privacy_policy)==null?void 0:i.url)||""}i=a.custom_disclaimer;if(i){c=!0;if(i.body){var j;a=Array.isArray(i.body.url_entities)?(a=i.body)==null?void 0:a.url_entities:[];a=a==null?void 0:a.map(function(a){return b("immutable").Map(a)});f=b("adsLeadGenFromApiCustomDisclaimerBody")(b("immutable").Map({Plaintext:(j=i.body)==null?void 0:j.text,Ranges:a}))}e=i.title||"";i.checkboxes&&i.checkboxes.forEach(function(a){var c="consent_"+b("guid")();a=new(b("AdsLeadGenFormConsent"))({id:c,content:a.text,fieldID:a.key,is_required:a.is_required});d=d.set(c,a)})}j={privacy_policy_link_text:g,privacy_policy_url:h,custom_disclaimer_consents:d,custom_disclaimer_editor_state:f,custom_disclaimer_title:e,custom_disclaimer_is_selected:c};return j}function c(a){var c={};a.get("custom_disclaimer_title")&&(c.title=a.get("custom_disclaimer_title"));var d=a.get("custom_disclaimer_editor_state");c.body=g(d);if(a.get("custom_disclaimer_consents")){var e=[];a.get("custom_disclaimer_consents").map(function(a){e.push({is_required:a.get("is_required"),text:a.get("content"),key:a.get("fieldID")||b("AdsLeadGenFormUtils").getDefaultFieldID(a.get("content"))||""})});c.checkboxes=e}return c}function g(a){var b={};if(a){var c=[],d=a.getCurrentContent();b.text=d.getPlainText();var e=0,f=d.getBlockMap();f.map(function(b,f){f=a.getBlockTree(f);f.map(function(a){if(a.decoratorKey){var f=b.getCharacterList();f=f.get(a.start).getEntity();if(f!=null){f={offset:e+a.start,url:d.getEntity(f).getData().url,length:a.end-a.start};c.push(f)}}});e+=b.characterList.size+1});b.url_entities=c}return b}e.exports={fromAPI:a,toAPI:c}}),null);
__d("LeadGenContextProviderType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({API:"API",LOCATION_MANAGER:"LOCATION_MANAGER",LOCATION_MANAGER_MARKETING_AREA:"LOCATION_MANAGER_MARKETING_AREA"})}),null);
__d("AdsLeadGenFormEditorQuestionAPITransformer",["AdsLeadGenFormEditorConstants","AdsLeadGenFormQuestion","AdsLeadGenFormRedesignExperiment","AdsLeadGenFormUtils","LeadGenContextProviderType","QueryString","immutable"],(function(a,b,c,d,e,f){"use strict";a={fromAPI:function(a){var c=[],d=0;a&&a.forEach(function(a){if(a.type==="CUSTOM"||a.type==="DATE_TIME"||a.type==="STORE_LOOKUP"||a.type==="STORE_LOOKUP_WITH_TYPEAHEAD"){if(!b("AdsLeadGenFormRedesignExperiment").canSeeQualifyingQuestion||!b("AdsLeadGenFormRedesignExperiment").canSeeFormRedesign){if(a.custom_question_format==="qualifying-question")return;if(a.type==="CUSTOM"&&a.destinations)return}c.push(g(a,d++))}else{var e=a.key!=null?{fieldID:a.key}:{};c.push(new(b("AdsLeadGenFormQuestion"))(babelHelpers["extends"]({answers:b("immutable").List(),id:b("AdsLeadGenFormEditorConstants").CMS_PII_MAP[a.type]},e,{label:a.label||"",questionTypeKey:"prefill"})))}});return c},toAPI:function(a){var c=[],d=a.get("questions"),e=a.get("status");d&&d.map(function(a){var d=a.get("questionTypeKey");if(d==="conditional"){c.push(j(a,e));return}else if(d==="prefill"){var f=b("AdsLeadGenFormEditorConstants").PII_CMS_MAP[a.get("id")];c.push({key:a.get("fieldID")||b("AdsLeadGenFormUtils").getDefaultFieldID(a.get("label")),type:f});return}f=null;var g=a.get("answers");g&&g.size>0&&(f=g.map(function(a){return{value:a.answer,key:a.fieldID?a.fieldID:b("AdsLeadGenFormUtils").getDefaultFieldID(a.answer)}}).toArray());g={};var h=a.get("storeLookupAPI");g.key=a.get("fieldID")||b("AdsLeadGenFormUtils").getDefaultFieldID(a.get("label"));g.label=a.get("label");switch(d){case"date-time":g.type="DATE_TIME";a.get("inlineContextEnabled")&&(g.inline_context=a.get("inlineContext"));break;case"store-lookup":g.type="STORE_LOOKUP";g.context_provider_type=a.get("storeLookupTypeKey");h!=null&&(g.store_lookup_api_app_id=h);var i=a.get("storeLookupAPIAdditionalURLParam");g.store_lookup_api_url_param=i?b("QueryString").decode(i):null;break;case"store-lookup-typeahead":g.type="STORE_LOOKUP_WITH_TYPEAHEAD";g.context_provider_type=a.get("storeLookupTypeKey");h!=null&&(g.store_lookup_api_app_id=h);i=a.get("storeLookupAPIAdditionalURLParam");g.store_lookup_api_url_param=i?b("QueryString").decode(i):null;break;default:g.type="CUSTOM";e==="DRAFT"&&(g.custom_question_format=d);g.destinations=a.get("destinations");break}f&&(g.options=f);c.push(g)});return c}};function g(a,c){var d;if(a.custom_question_format==="conditional"||a.conditional_questions_group_id!=null&&a.conditional_questions_group_id!=="0")return i(a,c);var e={};a.options!=null&&(e.answers=b("immutable").List(a.options.map(h)));a.key!=null&&(e.fieldID=a.key);var f=b("immutable").Map();(d=a.destinations)==null?void 0:d.forEach(function(a){f=f.set(a.key,{type:(a=a.value)==null?void 0:a.type})});d=f.size===0?null:f;var g=null;switch(a.type){case"DATE_TIME":g="date-time";break;case"STORE_LOOKUP":g="store-lookup";break;case"STORE_LOOKUP_WITH_TYPEAHEAD":g="store-lookup-typeahead";break;default:a.custom_question_format?g=a.custom_question_format:d?g="qualifying-question":g=a.options?"multiple-choice":"short-answer"}var j=Object.keys(b("LeadGenContextProviderType")).find(function(b){return b==a.context_provider_type}),k=a.store_lookup_api_app_id,l=null;if(a.store_lookup_api_url_param){var m={};a.store_lookup_api_url_param.forEach(function(a){m[a.key]=a.value});l=b("QueryString").encode(m)}var n=a.inline_context;d!=null&&(e.destinations=d);return new(b("AdsLeadGenFormQuestion"))(babelHelpers["extends"]({},e,{id:"customized_"+c,isCustomized:!0,inlineContext:n,inlineContextEnabled:!!n,label:a.label||"",questionTypeKey:g,storeLookupTypeKey:j,storeLookupAPI:k,storeLookupAPIAdditionalURLParam:l}))}function h(a){var c=a.key;c=c===b("AdsLeadGenFormUtils").getDefaultFieldID(a.value)||c==null?{}:{fieldID:c};return babelHelpers["extends"]({answer:a.value},c)}function i(a,c){return new(b("AdsLeadGenFormQuestion"))({conditionalAnswerChoices:a.conditional_questions_choices,conditionalAnswerSetID:a.conditional_questions_group_id,conditionalQuestions:a.dependent_conditional_questions?b("immutable").List(a.dependent_conditional_questions.map(function(a){return{fieldKey:a.field_key,name:a.name||""}})).unshift({fieldKey:a.key||"",name:a.label||""}):b("immutable").List(),id:"customized_"+c,label:"",questionTypeKey:"conditional"})}function j(a,c){var d=a.get("conditionalQuestions")||b("immutable").List(),e=d.first();c=c==="DRAFT"?{custom_question_format:"conditional"}:{};return babelHelpers["extends"]({conditional_questions_group_id:a.get("conditionalAnswerSetID"),dependent_conditional_questions:d.shift().map(function(a,b){return{field_key:a.fieldKey||"conditional_question_"+(b+2),name:a.name}}).toArray(),key:e!=null?e.fieldKey||"conditional_question_1":"",label:e!=null?e.name:"",type:"CUSTOM"},c)}e.exports=a}),null);
__d("AdsLeadGenFormEditorThankYouPageAPITransformer",["AdsLeadGenFormThankYouPage","PhoneCodes"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.country_code||"",d="",e="";if(c&&b("PhoneCodes")[c]){d=b("PhoneCodes")[c].phone_code;var f=String(a.business_phone_number);e=f.replace("+"+d,"")}f=new(b("AdsLeadGenFormThankYouPage"))({title:a.title,body:a.body,button_text:a.button_text,button_type:a.button_type,business_phone_number:{countryCode:c,countryNumber:d,nationalNumber:e},website_url:a.website_url});return f}function c(a){var b={},c=a.get("thank_you_page"),d=a.get("default_thank_you_page");if(c&&d&&!g(c,d)){c.button_type==="VIEW_WEBSITE"||c.button_type==="DOWNLOAD"?c=c.set("website_url",a.get("follow_up_action_url")).set("business_phone_number",null):c=c.set("website_url",null);b.thank_you_page=c.toObject();if(c.business_phone_number!=null&&c.business_phone_number.countryCode!=null&&c.business_phone_number.countryNumber!=null&&c.business_phone_number.nationalNumber!=null){d=c.business_phone_number.countryNumber+c.business_phone_number.nationalNumber;b.thank_you_page=babelHelpers["extends"]({},b.thank_you_page,{country_code:c.business_phone_number.countryCode,business_phone_number:d})}}return b.thank_you_page}function g(a,b){return a.title===b.title&&a.body===b.body&&a.button_text===b.button_text&&a.button_type==="VIEW_WEBSITE"&&a.business_phone_number==null}e.exports={fromAPI:a,toAPI:c}}),null);
__d("AdsLeadGenFormEditorValidationUtils",["isFalsey"],(function(a,b,c,d,e,f){"use strict";c=function(a,b){return a+"_"+b};function a(a){return!b("isFalsey")(a)&&a.trim().length!==0}e.exports={conditionalQuestionValidationKey:c,isNonEmptyString:a}}),null);
__d("AdsLeadGenFormEditorTrackingParametersAPITransformer",["AdsLeadGenFormEditorValidationUtils","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsLeadGenFormEditorValidationUtils").isNonEmptyString;function a(a){return a!=null?b("immutable").List(a.map(function(a){var b=a.key;a=a.value;return{name:b,value:a}})):b("immutable").List()}function c(a){a=JSON.stringify(a.get("tracking_parameters").reduce(function(a,b){var c=b.name;b=b.value;c=c.trim();b=b.trim();g(c)&&g(b)&&(a[c]=b);return a},{}));return a}e.exports={fromAPI:a,toAPI:c}}),null);
__d("AdsLeadGenFormEditorAPITransformer",["AdsLeadGenForm","AdsLeadGenFormEditorConstants","AdsLeadGenFormEditorContextCardAPITransformer","AdsLeadGenFormEditorDisqualifiedEndComponentAPITransformer","AdsLeadGenFormEditorFormSettingsAPITransformer","AdsLeadGenFormEditorLegalContentAPITransformer","AdsLeadGenFormEditorProviderUtils","AdsLeadGenFormEditorQuestionAPITransformer","AdsLeadGenFormEditorThankYouPageAPITransformer","AdsLeadGenFormEditorTrackingParametersAPITransformer","AdsLeadGenFormRedesignExperiment","EditorState","immutable"],(function(a,b,c,d,e,f){"use strict";a={fromAPI:function(a){var c={},d={context_card_button_text:"",context_card_content:b("immutable").Map(),context_card_cover_photo:null,context_card_format:"TEXT",context_card_style:b("AdsLeadGenFormEditorConstants").DEFAULTS.CONTEXT_CARD_STYLE,context_card_title:"",context_card_content_cache:b("immutable").Map(),context_card_is_selected:!1,context_card_is_cover_photo_selected:!1};if(a.context_card){var e=b("AdsLeadGenFormEditorContextCardAPITransformer").fromAPI(a.context_card);d=babelHelpers["extends"]({},d,e)}e={custom_disclaimer_consents:b("immutable").OrderedMap(),custom_disclaimer_title:"",custom_disclaimer_editor_state:b("EditorState").createEmpty(),custom_disclaimer_is_selected:!1,privacy_policy_link_text:"",privacy_policy_url:a.privacy_policy_url};if(a.legal_content){var f=b("AdsLeadGenFormEditorLegalContentAPITransformer").fromAPI(a.legal_content);e=babelHelpers["extends"]({},e,f)}f=b("AdsLeadGenFormEditorQuestionAPITransformer").fromAPI(a.questions);var g=b("AdsLeadGenFormEditorFormSettingsAPITransformer").fromAPI(a),h=a.question_page_custom_headline||"",i=null;a.thank_you_page&&(i=b("AdsLeadGenFormEditorThankYouPageAPITransformer").fromAPI(a.thank_you_page));var j=b("AdsLeadGenFormEditorTrackingParametersAPITransformer").fromAPI(a.tracking_parameters);f=b("immutable").OrderedMap(f.map(function(a){return[a.id,a]}));b("AdsLeadGenFormRedesignExperiment").canSeeFormRedesign&&(f=b("AdsLeadGenFormEditorProviderUtils").segmentQuestionsByType(f));var k=null;a.disqualified_end_component&&b("AdsLeadGenFormRedesignExperiment").canSeeQualifyingQuestion&&b("AdsLeadGenFormRedesignExperiment").canSeeFormRedesign&&(k=b("AdsLeadGenFormEditorDisqualifiedEndComponentAPITransformer").fromAPI(a.disqualified_end_component));c=babelHelpers["extends"]({},d,e,{is_off_facebook:!1,is_optimized_for_quality:g.is_optimized_for_quality,follow_up_action_url:a.follow_up_action_url,id:a.id,locale:g.locale,name:a.name,page_id:a.page.id,status:a.status,block_display_for_non_targeted_viewer:g.block_display_for_non_targeted_viewer,question_page_custom_headline:h,questions:f,thank_you_page:i,disqualified_end_component:k,tracking_parameters:j});return new(b("AdsLeadGenForm"))(c)},toAPI:function(a){var c={};c.questions=b("AdsLeadGenFormEditorQuestionAPITransformer").toAPI(a);c.name=a.get("name");var d=b("AdsLeadGenFormEditorFormSettingsAPITransformer").toAPI(a);c.locale=d.locale;c.follow_up_action_url=a.get("follow_up_action_url");c.status=a.get("status");var e={};e.url=a.get("privacy_policy_url");a.get("privacy_policy_link_text").trim()&&(e.link_text=a.get("privacy_policy_link_text").trim());c.privacy_policy=e;a.get("is_off_facebook")&&(c.is_off_facebook=a.get("is_off_facebook"));a.get("context_card_is_selected")&&(c.context_card=b("AdsLeadGenFormEditorContextCardAPITransformer").toAPI(a));c.is_optimized_for_quality=d.is_optimized_for_quality;a.get("custom_disclaimer_is_selected")&&(c.custom_disclaimer=b("AdsLeadGenFormEditorLegalContentAPITransformer").toAPI(a));c.block_display_for_non_targeted_viewer=d.block_display_for_non_targeted_viewer;a.get("question_page_custom_headline")&&(c.question_page_custom_headline=a.get("question_page_custom_headline"));c.delete_missing_parameters=!0;c.thank_you_page=b("AdsLeadGenFormEditorThankYouPageAPITransformer").toAPI(a);c.tracking_parameters=b("AdsLeadGenFormEditorTrackingParametersAPITransformer").toAPI(a);b("AdsLeadGenFormRedesignExperiment").canSeeQualifyingQuestion&&a.hasQualifyingQuestion()&&(c.disqualified_end_component=b("AdsLeadGenFormEditorDisqualifiedEndComponentAPITransformer").toAPI(a));return c}};e.exports=a}),null);
__d("AdsLeadGenFormFields",[],(function(a,b,c,d,e,f){"use strict";a=["id","name","status","context_card{id,title,content,style,button_text,\n    cover_photo{id, height, source, width}}","follow_up_action_url","is_optimized_for_quality","legal_content","locale","page","questions","created_time","block_display_for_non_targeted_viewer","question_page_custom_headline","thank_you_page","disqualified_end_component","tracking_parameters"];e.exports=a}),null);
__d("AdsLeadGenFormEditorDataManager",["Promise","AdsGraphAPI","AdsLeadGenForm","AdsLeadGenFormDefaultUserInfoQuestions","AdsLeadGenFormEditorApiFormCreatedAction","AdsLeadGenFormEditorApiFormDuplicatedAction","AdsLeadGenFormEditorApiFormLoadedAction","AdsLeadGenFormEditorApiFormSavedAction","AdsLeadGenFormEditorAPITransformer","AdsLeadGenFormEditorConstants","AdsLeadGenFormEditorDraftFormSaveFailedAction","AdsLeadGenFormEditorFormDuplicateFailedAction","AdsLeadGenFormEditorFormLoadFailedAction","AdsLeadGenFormEditorFormPublishFailedAction","AdsLeadGenFormEditorLogEventAction","AdsLeadGenFormEditorUtils","AdsLeadGenFormFields","AdsLeadGenFormQuestion","immutable","nullthrows","promiseDone"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){var a=this;this.load=function(c){if(b("AdsLeadGenFormEditorUtils").isNewFormID(c)){var d=b("AdsLeadGenForm").createNewForm().merge({id:c,questions:b("immutable").OrderedMap(b("AdsLeadGenFormDefaultUserInfoQuestions").map(function(a){return[a.get("id"),new(b("AdsLeadGenFormQuestion"))({id:a.get("id"),answers:b("immutable").List(),label:b("AdsLeadGenFormEditorConstants").PII_CMS_MAP[a.get("id")],questionTypeKey:"prefill"})]}))});b("AdsLeadGenFormEditorApiFormLoadedAction").dispatch({formID:c,form:d},{line:"56",module:"AdsLeadGenFormEditorDataManager.js"});return}b("promiseDone")(b("AdsGraphAPI").get(e.id).object("leadgen_form_or_draft_form",c).get({fields:b("AdsLeadGenFormFields")}),function(b){return a.$1(c,b)},function(b){return a.$2(b)})}}var c=a.prototype;c.loadAll=function(a){Array.from(a).forEach(this.load,this)};c.duplicateForm=function(a,c,d){var f=this;b("promiseDone")(b("AdsGraphAPI").get(e.id).object("leadgen_forms",a).get({fields:b("AdsLeadGenFormFields")}),function(a){return f.$3(c,a,d)},function(a){return f.$4(a)})};c.saveForm=function(a,c,d){b("promiseDone")(this.$5(a,c,d,!1))};c.saveFormForCanvas=function(a,b,c){return this.$5(a,b,c,!0)};c.publishFormForCanvas=function(a,b,c,d){return this.$6(a,b,c,d,!0)};c.publishForm=function(a,c,d,e){b("promiseDone")(this.$6(a,c,d,e,!1))};c.$6=function(a,c,d,f,g){var h=this,i=a?"draft_api_call":"api_call";d=b("AdsLeadGenFormEditorAPITransformer").toAPI(d);g&&(d.is_for_canvas=!0);a!=null&&(d.source_draft_form_id=a);return b("AdsGraphAPI").get(e.id).object("page",f).edge("leadgen_forms").post(d).then(function(a){h.$7(c,a,i);return{id:a.id}},function(a){h.$8(a);return b("Promise").reject(a)})};c.$5=function(a,c,d,f){var g=this,h=a?"draft_edit":"draft_create";c=b("AdsLeadGenFormEditorAPITransformer").toAPI(c);f&&(c.is_for_canvas=!0);if(!a)return b("AdsGraphAPI").get(e.id).object("page",d).edge("leadgen_draft_forms").post(c).then(function(a){g.$9(a,h);return{id:a.id}},function(a){g.$10(a);return b("Promise").reject(a)});else return b("AdsGraphAPI").get(e.id).object("leadgen_draft_forms",b("nullthrows")(a)).post(c).then(function(a){g.$9(a,h);return{id:a.id}},function(a){g.$10(a);return b("Promise").reject(a)})};c.$1=function(a,c){b("AdsLeadGenFormEditorApiFormLoadedAction").dispatch({formID:a,form:b("AdsLeadGenFormEditorAPITransformer").fromAPI(c)},{line:"208",module:"AdsLeadGenFormEditorDataManager.js"})};c.$3=function(a,c,d){b("AdsLeadGenFormEditorApiFormDuplicatedAction").dispatch({formID:a,form:b("AdsLeadGenFormEditorAPITransformer").fromAPI(c),isDuplicatedFromAutoCreation:d},{line:"219",module:"AdsLeadGenFormEditorDataManager.js"})};c.$7=function(a,c,d){b("AdsLeadGenFormEditorLogEventAction").dispatch({eventName:"new_form",optionalData:c,eventCategory:d},{line:"231",module:"AdsLeadGenFormEditorDataManager.js"}),b("AdsLeadGenFormEditorApiFormCreatedAction").dispatch({formID:c.id,oldFormID:a},{line:"236",module:"AdsLeadGenFormEditorDataManager.js"})};c.$9=function(a,c){b("AdsLeadGenFormEditorLogEventAction").dispatch({eventName:c,optionalData:a,eventCategory:"draft_api_call"},{line:"243",module:"AdsLeadGenFormEditorDataManager.js"}),b("AdsLeadGenFormEditorApiFormSavedAction").dispatch({draftFormID:a.id},{line:"248",module:"AdsLeadGenFormEditorDataManager.js"})};c.$10=function(a){b("AdsLeadGenFormEditorDraftFormSaveFailedAction").dispatch({error:a},{line:"254",module:"AdsLeadGenFormEditorDataManager.js"})};c.$4=function(a){b("AdsLeadGenFormEditorFormDuplicateFailedAction").dispatch({error:a},{line:"260",module:"AdsLeadGenFormEditorDataManager.js"})};c.$2=function(a){b("AdsLeadGenFormEditorFormLoadFailedAction").dispatch({error:a},{line:"266",module:"AdsLeadGenFormEditorDataManager.js"})};c.$8=function(a){b("AdsLeadGenFormEditorFormPublishFailedAction").dispatch({error:a},{line:"272",module:"AdsLeadGenFormEditorDataManager.js"})};return a}();e.exports=new a()}),null);
__d("AdsLeadGenFormEditorValidationErrors",["errorCode","errorDesc","fbt","AdsError"],(function(a,b,c,d,e,f,g,h,i){"use strict";c=new(a=b("AdsError"))(1892093,i._("The form can't be published until all the errors are fixed"),{level:a.Level.WARN});d=new a(1892094,i._("There are errors or missing fields in this section that need to be fixed"),{level:a.Level.WARN});f=new a(1892119,i._("At least one question is required"),{level:a.Level.WARN});g=new a(1892020,i._("Duplicate questions are found in lead form, which is not allowed"),{level:a.Level.WARN});b=new a(1892096,i._("Please enter a valid Form custom question."),{level:a.Level.WARN});var j=new a(1892106,i._("Conditional answer set is required. Please upload a CSV file."),{level:a.Level.WARN}),k=new a(1892120,i._("One of the question relies on other question to provide more context (for example, store lookup question requires one of the other questions to have zip_code as the FieldID)")),l=new a(1892121,i._("Please provide a store lookup type to use store lookup question.")),m=new a(1892070,i._("Cannot have two questions sharing the same field id"),{level:a.Level.WARN}),n=new a(1892071,h._(function(a,b){return a._("Cannot have two options sharing the same key")},{}),{level:a.Level.WARN});i=new a(1892117,i._("Headline must be at least 5 characters long"),{level:a.Level.WARN});var o=new a(1892201,h._(function(a,b){return a._("You must let people know how you'll use their data.")},{}),{level:a.Level.WARN}),p=new a(1892130,h._(function(a,b){return a._("There should be at least 2 options for a question. Please provide 2 or more options.")},{}),{level:a.Level.WARN}),q=new a(1892200,h._(function(a,b){return a._("Qualifying question must have both qualifying and disqualifying responses.")},{}),{level:a.Level.WARN}),r=new a(1892162,h._(function(a,b){return a._("A Tracking Parameter has the same name as the Field ID of one of your questions. Please choose a unique name for each Field ID and Tracking Parameter.")},{}),{level:a.Level.WARN}),s=new a(1892160,h._(function(a,b){return a._("Tracking Parameters for a Lead Form must each have a non-empty name and a non-empty value. Please ensure all your names and values are filled in.")},{}),{level:a.Level.WARN});h=new a(1892171,h._(function(a,b){return a._("Tracking Parameters Name or Value is too long. Names or Values cannot exceed 256 characters. Shorten the name(s) or value(s) that exceed 256 characters and try again.")},{}),{level:a.Level.WARN});e.exports={FORM_ERROR:c,INVALID_QUALIFYING_QUESTION_OPTIONS:q,SECTION_ERROR:d,NO_QUESTIONS_PROVIDED_ERROR:f,DUPLICATE_ANSWER_KEY_ERROR:n,DUPLICATE_QUESTION_ERROR:g,DUPLICATE_QUESTION_KEY_ERROR:m,EMPTY_CUSTOM_QUESTION_ERROR:b,MISSING_CONDITIONAL_ANSWER_SET_ERROR:j,MISSING_CONTEXT_PROVIDER_ERROR:k,MISSING_STORE_LOOKUP_TYPE_ERROR:l,QUESTIONS_HEADLINE_ERROR:i,QUESTIONS_HEADLINE_REQUIRED_ERROR:o,TOO_FEW_OPTIONS_FOR_MULTIPLE_CHOICE_QUESTION_ERROR:p,TRACKING_PARAMETERS_DUPLICATE_NAME_ERROR:r,TRACKING_PARMETERS_EMPTY_NAME_OR_VALUE_ERROR:s,TRACKING_PARAMETERS_NAME_OR_VALUE_TOO_LONG_ERROR:h}}),null);
__d("AdsLeadGenFormEditorValidationProviderContextCardUtils",["errorCode","fbt","AdsError","AdsLeadGenFormEditorConstants","AdsLeadGenFormEditorContextCardSetContentActionFlux","AdsLeadGenFormEditorContextCardSetCoverPhotoActionFlux","AdsLeadGenFormEditorContextCardSetTitleActionFlux","AdsLeadGenFormEditorValidationErrors","AdsLeadGenFormEditorValidationFields","AdsLeadGenFormEditorValidationUtils","immutable"],(function(a,b,c,d,e,f,g,h){var i=b("AdsLeadGenFormEditorValidationErrors").FORM_ERROR,j=b("AdsLeadGenFormEditorValidationErrors").SECTION_ERROR,k=b("AdsLeadGenFormEditorValidationUtils").isNonEmptyString;function a(a,b){var c=b.get("context_card_format");switch(c){case"TEXT":return l(a,b);case"SIMPLE_TEXT":return m(a,b);default:return a}}function l(a,c){var d=n(c.get("context_card_title"));a=a;a=a.set(b("AdsLeadGenFormEditorValidationFields").CONTEXT_CARD_TITLE,d);var e=c.get("context_card_is_cover_photo_selected")?p(c.get("context_card_cover_photo")):null;a=a.set(b("AdsLeadGenFormEditorValidationFields").CONTEXT_CARD_COVER_PHOTO,e);c=o(c.get("context_card_content"));a=a.set(b("AdsLeadGenFormEditorValidationFields").CONTEXT_CARD_CONTENT,c);d=!!d||!!e||!!c;d&&(a=a.set(b("AdsLeadGenFormEditorConstants").CONTENT_TAB.SECTIONS.CONTEXT_CARD,j).set(b("AdsLeadGenFormEditorValidationFields").FORM,i));return a}function m(a,c){var d=n(c.get("context_card_title"),"SIMPLE_TEXT");a=a;a=a.set(b("AdsLeadGenFormEditorValidationFields").CONTEXT_CARD_TITLE,d);c=c.get("context_card_is_cover_photo_selected")?p(c.get("context_card_cover_photo"),"SIMPLE_TEXT"):null;a=a.set(b("AdsLeadGenFormEditorValidationFields").CONTEXT_CARD_COVER_PHOTO,c);d=!!d||!!c;d&&(a=a.set(b("AdsLeadGenFormEditorConstants").CONTENT_TAB.SECTIONS.CONTEXT_CARD,j).set(b("AdsLeadGenFormEditorValidationFields").FORM,i));return a}function n(a,c){if(k(a))return null;return c==="SIMPLE_TEXT"?new(b("AdsError"))(1892031,h._("Headline content is required"),{level:b("AdsError").Level.WARN,path:b("AdsLeadGenFormEditorContextCardSetTitleActionFlux").actionType}):new(b("AdsError"))(1892031,h._("Title content is required if context card is selected for lead ads"),{level:b("AdsError").Level.WARN,path:b("AdsLeadGenFormEditorContextCardSetTitleActionFlux").actionType})}function o(a){var c=new(b("AdsError"))(1892060,h._("Content is required if context card is selected for lead ads"),{level:b("AdsError").Level.WARN,path:b("AdsLeadGenFormEditorContextCardSetContentActionFlux").actionType});if(!a)return c;var d=!0;a.forEach(function(a){d=d&&!k(a)});return d?c:null}function p(a,c){if(a)return null;return c==="SIMPLE_TEXT"?new(b("AdsError"))(1892053,h._("Image is required"),{level:b("AdsError").Level.WARN,path:b("AdsLeadGenFormEditorContextCardSetCoverPhotoActionFlux").actionType}):new(b("AdsError"))(1892053,h._("Image is required if user upload image is selected in context card for lead ads"),{level:b("AdsError").Level.WARN,path:b("AdsLeadGenFormEditorContextCardSetCoverPhotoActionFlux").actionType})}e.exports={validateContextCard:a,validateTextContextCard:l,validateSimpleTextContextCard:m,validateContextCardTitle:n,validateContextCardContent:o,validateContextCardCoverPhoto:p}}),null);
__d("AdsLeadGenFormEditorValidationProviderCustomDisclaimerUtils",["errorCode","fbt","AdsError","AdsLeadGenFormEditorUtils","AdsLeadGenFormEditorValidationFields","AdsLeadGenFormEditorValidationUtils","ads-lib-urllib","emptyFunction","immutable","nullthrows"],(function(a,b,c,d,e,f,g,h){var i=b("AdsLeadGenFormEditorValidationUtils").isNonEmptyString;function a(a){return a.set(b("AdsLeadGenFormEditorValidationFields").CUSTOM_DISCLAIMER_BODY,null).set(b("AdsLeadGenFormEditorValidationFields").CUSTOM_DISCLAIMER_CONSENTS,null)}function c(a,c){a=a;var d=j(c.get("custom_disclaimer_editor_state"));a=a.set(b("AdsLeadGenFormEditorValidationFields").CUSTOM_DISCLAIMER_BODY,d);a=o(a,c);return a}function j(a){if(!k(a))return l();return!m(a)?n():null}function k(a){return a&&a.getCurrentContent()&&i(a.getCurrentContent().getPlainText())}function l(){return new(b("AdsError"))(1892045,h._("Please provide the custom disclaimer body"),{level:b("AdsError").Level.WARN})}function m(a){var c=[];a&&a.getCurrentContent()&&a.getCurrentContent().getBlockMap().map(function(d){d.findEntityRanges(b("emptyFunction").thatReturnsTrue,function(e,f){f=d.getEntityAt(e);i(f)&&a.getCurrentContent().getEntity(b("nullthrows")(f)).getData().url&&c.push(a.getCurrentContent().getEntity(b("nullthrows")(f)).getData().url)})});return c.every(function(a){return b("ads-lib-urllib").isUrl(a)})}function n(){return new(b("AdsError"))(1892045,h._("Please provide a valid Website URL"),{level:b("AdsError").Level.WARN})}function o(a,c){var d=a;a=c.get("custom_disclaimer_consents");if(a.size===0)return d;c=!1;var e=b("immutable").Set();a.forEach(function(a){var f=b("AdsLeadGenFormEditorUtils").generateKeyFromText(a.get("content")||"");!i(f)?(d=d.set(a.get("id"),new(b("AdsError"))(1892097,h._("Enter the text you want users to consent to before they submit your form. If you don't want to include it, you can delete it."),{level:b("AdsError").Level.WARN})),c=!0):e.has(f)?d=d.set(a.get("id"),new(b("AdsError"))(1892099,h._("Duplicate consents are found in lead form, which is not allowed"),{level:b("AdsError").Level.WARN})):e=e.add(f)});(c||e.size<a.size)&&(d=d.set(b("AdsLeadGenFormEditorValidationFields").CUSTOM_DISCLAIMER_CONSENTS,new(b("AdsError"))(1892098,h._("There are empty and redundant custom disclaimer consents"),{level:b("AdsError").Level.WARN})));return d}e.exports={clearCustomDisclaimerErrors:a,validateCustomDisclaimer:c,validateCustomDisclaimerBody:j,hasCustomDisclaimerContent:k,customDisclaimerContentMissingError:l,hasValidURLs:m,customDisclaimerContentHasInvalidURLError:n,validateCustomDisclaimerConsents:o}}),null);
__d("AdsLeadGenFormEditorFunnelLoggerConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({ADD_CONSENT:"add_consent",ADD_CUSTOM_DISCLAIMER:"add_custom_disclaimer",ADD_LINK_IN_CUSTOM_DISCLAMER_CONTENT:"add_link_in_custom_disclaimer_content",CLICK_ADD_CUSTOM_QUESTION:"click_add_custom_question",CLICK_FORM_LOCALE_SELECTOR:"click_form_locale_selector",CLICK_HIDE_STANDARD_USER_INFO_QUESTIONS:"click_hide_standard_user_info_questions",CLICK_FORM_TYPE_LEARN_MORE_LINK:"click_form_type_learn_more_link",CLICK_PUBLISH_FORM:"click_publish_form",CLICK_SAVE_DRAFT:"click_save_draft",CLICK_SHOW_MORE_STANDARD_USER_INFO_QUESTIONS:"click_show_more_standard_user_info_questions",CLIENT_VALIDATION_BEFORE_PUBLISH_ERROR:"client_validation_before_publish_error",DISABLE_CONTEXT_CARD:"disable_context_card",DRAFT_SAVED:"draft_saved",DUPLICATE_FORM_ERROR:"duplicate_form_error",EDIT_ANSWER_KEY_INPUT:"edit_answer_key_input",EDIT_CONSENT_KEY_INPUT:"edit_consent_key_input",EDIT_CONTEXT_CONTENT_INPUT:"edit_context_content_input",EDIT_CONTEXT_HEADLINE_INPUT:"edit_context_headline_input",EDIT_CUSTOM_DISCLAIMER_TITLE_INPUT:"edit_custom_disclaimer_title_input",EDIT_FORM_NAME_INPUT:"edit_form_name_input",EDIT_PRIVACY_POLICY_LINK_LABEL_INPUT:"edit_privacy_policy_link_label_input",EDIT_PRIVACY_POLICY_LINK_URL_INPUT:"edit_privacy_policy_link_url_input",EDIT_QUESTION_HEADLINE_INPUT:"edit_question_headline_input",EDIT_QUESTION_KEY_INPUT:"edit_question_key_input",ENABLE_CONTEXT_CARD:"enable_context_card",ENABLE_FORM_TYPE_HIGHER_INTENT:"enable_higher_intent",ENABLE_FORM_TYPE_MORE_VOLUME:"enable_more_volume",EXPAND_CONFIGURATION_SECTION:"expand_configuration_section",EXPAND_CONTEXT_SECTION:"expand_context_section",EXPAND_FIELD_IDS_SECTION:"expand_field_ids_section",EXPAND_FORM_TYPE_SECTION:"expand_form_type_section",EXPAND_PRIVACY_POLICY_SECTION:"expand_privacy_policy_section",EXPAND_QUESTIONS_SECTION:"expand_questions_section",EXPAND_REVIEW_SCREEN_SECTION:"expand_review_screen_section",EXPAND_THANK_YOU_SECTION:"expand_thank_you_section",FOCUS_ANSWER_KEY_INPUT:"focus_answer_key_input",FOCUS_CONSENT_KEY_INPUT:"focus_consent_key_input",FOCUS_CONTEXT_CONTENT_INPUT:"focus_context_content_input",FOCUS_CONTEXT_HEADLINE_INPUT:"focus_context_headline_input",FOCUS_CUSTOM_DISCLAIMER_TITLE_INPUT:"focus_custom_disclaimer_title_input",FOCUS_FORM_NAME_INPUT:"focus_form_name_input",FOCUS_PRIVACY_POLICY_LINK_LABEL_INPUT:"focus_privacy_policy_link_label_input",FOCUS_PRIVACY_POLICY_LINK_URL_INPUT:"focus_privacy_policy_link_url_input",FOCUS_QUESTION_HEADLINE_INPUT:"focus_question_headline_input",FOCUS_QUESTION_KEY_INPUT:"focus_question_key_input",FORM_EDITOR_SHOWN:"form_editor_shown",FORM_PUBLISHED:"form_published",PUBLISH_FORM_ERROR:"publish_form_error",PUBLISH_FORM_SUCCESS:"publish_form_success",REMOVE_CONSENT:"remove_consent",REMOVE_CUSTOM_DISCLAIMER:"remove_custom_disclaimer",REMOVE_LINK_IN_CUSTOM_DISCLAIMER_CONTENT:"remove_link_in_custom_disclaimer_content",REMOVE_STANDARD_USER_INFO_QUESTION:"remove_standard_user_info_question",REORDERED_ATLEAST_ONE_QUESTION:"reordered_atleast_one_question",SAVE_DRAFT_ERROR:"save_draft_error",SELECT_CONTENT_TAB:"select_content_tab",SELECT_COVER_FROM_AD_CREATIVE:"select_cover_from_ad_creative",SELECT_CUSTOM_COVER_IMAGE:"select_custom_cover_image",SELECT_SETTINGS_TAB:"select_settings_tab",SELECT_SHARING_OPEN:"select_sharing_open",SELECT_SHARING_RESTRICTED:"select_sharing_restricted",SELECT_STANDARD_USER_INFO_QUESTION:"select_standard_user_info_question",SELECT_THANK_YOU_PAGE_VIEW_WEBSITE:"select_thank_you_page_view_website",SELECT_THANK_YOU_PAGE_DOWNLOAD:"select_thank_you_page_download",SELECT_THANK_YOU_PAGE_CALL_BUSINESS:"select_thank_you_page_call_business",SELECT_THANK_YOU_PAGE_MESSAGE_BUSINESS:"select_thank_you_page_message_business",SET_CONTEXT_CONTENT_STYLE_BULLET:"set_context_content_style_bullet",SET_CONTEXT_CONTENT_STYLE_PARAGRAPH:"set_context_content_style_paragraph",SET_FORM_LOCALE:"set_form_locale",START_CONDITIONAL_ANSWER_SET_UPLOAD:"start_conditional_answer_set_upload",START_CUSTOM_COVER_IMAGE_UPLOAD:"start_custom_cover_image_upload",UNFOCUS_ANSWER_KEY_INPUT:"unfocus_answer_key_input",UNFOCUS_CONSENT_KEY_INPUT:"unfocus_consent_key_input",UNFOCUS_CONTEXT_CONTENT_INPUT:"unfocus_context_content_input",UNFOCUS_CONTEXT_HEADLINE_INPUT:"unfocus_context_headline_input",UNFOCUS_CUSTOM_DISCLAIMER_TITLE_INPUT:"unfocus_custom_disclaimer_title_input",UNFOCUS_FORM_NAME_INPUT:"unfocus_form_name_input",UNFOCUS_PRIVACY_POLICY_LINK_LABEL_INPUT:"unfocus_privacy_policy_link_label_input",UNFOCUS_PRIVACY_POLICY_LINK_URL_INPUT:"unfocus_privacy_policy_link_url_input",UNFOCUS_QUESTION_HEADLINE_INPUT:"unfocus_question_headline_input",UNFOCUS_QUESTION_KEY_INPUT:"unfocus_question_key_input",UPLOAD_CONDITIONAL_ANSWER_SET_ERROR:"upload_conditional_answer_set_error",UPLOAD_CONDITIONAL_ANSWER_SET_SUCCESS:"upload_conditional_answer_set_sucess",UPLOAD_CUSTOM_COVER_IMAGE_ERROR:"upload_custom_cover_image_error",UPLOAD_CUSTOM_COVER_IMAGE_SUCCESS:"upload_custom_cover_image_success",NPC_ACCEPT_TERMS_OF_SERVICE_ERROR:"npc_accept_terms_of_service_error",NPC_CANCEL_TERMS_OF_SERVICE_DIALOG:"npc_cancel_terms_of_service_dialog",NPC_CLICK_ACCEPT_TERMS_OF_SERVICE:"npc_click_accept_terms_of_service",NPC_CLICK_OPEN_TERMS_OF_SERVICE_DIALOG:"npc_click_open_terms_of_service_dialog",NPC_TERMS_OF_SERVICE_ACCEPTED:"npc_terms_of_service_accepted",CANVAS_LEAD_FORM_TOGGLE_ENABLED:"canvas_lead_form_toggle_enabled",CANVAS_LEAD_FORM_TOGGLE_DISABLED:"canvas_lead_form_toggle_disabled",CANVAS_UNIFIED_BUILDER_FORM_ADDED:"canvas_unified_builder_form_added",CANVAS_UNIFIED_BUILDER_FORM_REMOVED:"canvas_unified_builder_form_removed"});b=Object.freeze({ADD_CUSTOM_QUESTION:"add_custom_question:",CAPABILITIES_NOTICE_SHOWN_UNDER:"capabilities_notice_shown_under:",CAPABILITIES_NOTICE_REMOVED_UNDER:"capabilities_notice_removed_under:",CONTENT_SECTION:"content_section_",DISABLE_PREVIEW_TAB:"disable_preview_tab:",REMOVE_CUSTOM_QUESTION:"remove_custom_question:",SELECT_PREVIEW_TAB:"select_preview_tab:"});c=Object.freeze({CREATE_NEW_FORM:"create_new_form",DUPLICATE_FORM:"duplicate_form",EDIT_DRAFT_FORM:"edit_draft_form",FIRST_FORM:"first_form",FORM_PREVIEW_TABS:"form_preview_tabs",CANVAS_UNIFIED_BUILDER:"canvas_unified_builder",NOT_FIRST_FORM:"not_first_form",FORM_EDITOR_REDESIGN_CONTROL:"form_editor_redesign_control",FORM_EDITOR_REDESIGN_TEST:"form_editor_redesign_test"});d=Object.freeze({AD_ACCOUNT_ID:"ad_account_id:",AD_MEDIA_FORMAT:"ad_media_format:",BROWSER_NAME:"browser_name:",BROWSER_VERSION:"browser_version:",CLIENT_VALIDATION_ERROR:"client_validation_error:",ERROR_CODE:"error_code:",PAGE_ID:"page_id:",CANVAS_TEMPLATE_ID:"canvas_template_id:",AD_OBJECTIVE:"ad_objective:",QE_NAME:"qe_name:",QE_GROUP:"qe_group:",TAB_SURFACE:"tab_surface:",HOST_ID:"host_id:"});e.exports={FUNNEL_NAME:"WWW_LEAD_GEN_FORM_EDITOR_FUNNEL",FUNNEL_LOGGING_TIMEOUT:999999,FUNNEL_LOGGING_EVENTS:a,FUNNEL_LOGGING_EVENT_PREFIXES:b,FUNNEL_LOGGING_TAG_PREFIXES:d,FUNNEL_LOGGING_TAGS:c}}),null);
__d("AdsLeadGenFormEditorFunnelLogger",["AdsLeadGenFormEditorFunnelLoggerConstants","FunnelLogger","UserAgentData"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("AdsLeadGenFormEditorFunnelLoggerConstants")).FUNNEL_NAME,h=a.FUNNEL_LOGGING_TIMEOUT,i=a.FUNNEL_LOGGING_TAG_PREFIXES,j=a.FUNNEL_LOGGING_TAGS,k={initAndStartFunnel:function(a,c,d,e,f,l,m){b("FunnelLogger").startFunnel(g);b("FunnelLogger").setFunnelTimeout(g,h);a!=null&&a.account_id&&k.addFunnelTag(i.AD_ACCOUNT_ID+a.account_id);k.addFunnelTag(i.AD_MEDIA_FORMAT+(c==null?"unknown":c.toLowerCase()));k.addFunnelTag(i.PAGE_ID+e.id);a=f!=null?j.EDIT_DRAFT_FORM:l!=null?j.DUPLICATE_FORM:j.CREATE_NEW_FORM;k.addFunnelTag(a);k.addFunnelTag(d);k.addFunnelTag(i.BROWSER_NAME+b("UserAgentData").browserName);k.addFunnelTag(i.BROWSER_VERSION+b("UserAgentData").browserFullVersion);k.addFunnelTag(m?j.FIRST_FORM:j.NOT_FIRST_FORM)},endFunnel:function(){b("FunnelLogger").endFunnel(g)},addFunnelTag:function(a){b("FunnelLogger").addFunnelTag(g,a)},appendAction:function(a){b("FunnelLogger").appendAction(g,a)},appendActionIfNew:function(a){b("FunnelLogger").appendActionIfNew(g,a)},appendActionWithTag:function(a,c){b("FunnelLogger").appendActionWithTag(g,a,c)}};e.exports=k}),null);
__d("AdsLeadGenFormEditorValidationProviderFormUtils",["errorCode","fbt","AdsError","AdsLeadGenFormEditorFunnelLogger","AdsLeadGenFormEditorFunnelLoggerConstants","AdsLeadGenFormEditorValidationUtils","immutable"],(function(a,b,c,d,e,f,g,h){var i=b("AdsLeadGenFormEditorFunnelLoggerConstants").FUNNEL_LOGGING_EVENTS,j=b("AdsLeadGenFormEditorFunnelLoggerConstants").FUNNEL_LOGGING_TAG_PREFIXES,k=b("AdsLeadGenFormEditorValidationUtils").isNonEmptyString;function a(a){return k(a)?null:new(b("AdsError"))(1892009,h._("Please enter a valid Form Name."),{level:b("AdsError").Level.WARN})}function c(a){b("AdsLeadGenFormEditorFunnelLogger").appendAction(i.CLIENT_VALIDATION_BEFORE_PUBLISH_ERROR),a.forEach(function(a,c){if(a==null)return;b("AdsLeadGenFormEditorFunnelLogger").addFunnelTag(j.CLIENT_VALIDATION_ERROR+c+","+a.key)})}e.exports={funnelLogClientValidationBeforePublishErrors:c,validateName:a}}),null);
__d("AdsLeadGenFormEditorValidationProviderPrivacyPolicyUtils",["errorCode","fbt","AdsError","AdsLeadGenFormEditorConstants","AdsLeadGenFormEditorValidationErrors","AdsLeadGenFormEditorValidationFields","AdsLeadGenFormEditorViewSelectors","ads-lib-urllib","immutable"],(function(a,b,c,d,e,f,g,h){var i=b("AdsLeadGenFormEditorValidationErrors").FORM_ERROR,j=b("AdsLeadGenFormEditorValidationErrors").SECTION_ERROR,k=b("AdsLeadGenFormEditorViewSelectors").formEditorisPrivacyPolicyRequiredSelector;function a(a,c){a=a;c=l(c.get("privacy_policy_url"));a=a.set("privacy_policy_url",c);c&&(a=a.set(b("AdsLeadGenFormEditorConstants").CONTENT_TAB.SECTIONS.PRIVACY_POLICY,j).set(b("AdsLeadGenFormEditorValidationFields").FORM,i));return a}function l(a){return!k()||b("ads-lib-urllib").isUrl(a)?null:new(b("AdsError"))(1892013,h._("Please provide a valid Business Privacy Policy URL"),{level:b("AdsError").Level.WARN})}e.exports={validatePrivacyPolicy:a,validatePrivacyPolicyUrl:l}}),null);
__d("AdsLeadGenFormEditorSelectors",["AdsLeadGenFormEditorViewSelectors","adsCreateSelector","adsCreateStoreSelector","immutable","AdsLeadGenFormEditorProvider"],(function(a,b,c,d,e,f){"use strict";a=b("AdsLeadGenFormEditorViewSelectors").formEditorNullableFormIDSelector;c=b("AdsLeadGenFormEditorProvider").toFluxSelector();f=(d=b("adsCreateStoreSelector"))([],function(a){return a},{name:e.id+".formIDSelector"});var g=b("adsCreateSelector")([f,c],function(a,b){if(a==null)return null;b=b.get(a);return b==null?null:b.getValue()},{name:e.id+".formEditorFormByIDSelector"});f=b("adsCreateSelector")([a,c],function(a,b){b=a!=null?b.get(a):null;return b?b.getValue():null},{name:e.id+".formEditorFormSelector"});a=b("adsCreateSelector")([f],function(a){return!a?null:a.get("questions")},{name:e.id+".formEditorQuestionsSelector"});c=d([].concat(g.getStores()),function(a){a=g(a);return a==null?null:a.get("questions")},{name:e.id+".formEditorQuestionsByIDSelector"});var h=d([].concat(g.getStores()),function(a){a=g(a);return a==null?null:a.getConditionalQuestion()},{name:e.id+".formEditorConditionalQuestionByIDSelector"}),i=d([].concat(g.getStores()),function(a){a=g(a);return a==null?null:a.getStoreLookupQuestion()},{name:e.id+".formEditorStoreLookupQuestionByIDSelector"}),j=d([].concat(g.getStores()),function(a){a=g(a);return a==null?null:a.getStoreLookupCityStateQuestion()},{name:e.id+".formEditorStoreLookupCityStateQuestionByIDSelector"});b=d([].concat(g.getStores()),function(a){a=g(a);return a?a.isAtMaxQuestionCount():!1},{name:e.id+".formEditorIsAtMaxQuestionCountSelector"});var k=d([].concat(h.getStores()),function(a){a=h(a);return a!=null},{name:e.id+".formEditorIsAtMaxConditionalQuestionCountSelector"}),l=d([].concat(i.getStores(),j.getStores()),function(a){var b=i(a);a=j(a);return b!=null||a!=null},{name:e.id+".formEditorIsAtMaxStoreLookupQuestionCountSelector"}),m=d([].concat(g.getStores()),function(a){a=g(a);if(!a)return!1;var b=a.getPrefillQuestions().size;a=a.getCustomQuestions().size;return b+a>5||a>3?!0:!1},{name:e.id+".formEditorIsQuestionCountWarningVisibleSelector"});d=d([].concat(g.getStores()),function(a){a=g(a);return!a?null:a.get("custom_disclaimer_consents")},{name:e.id+".formEditorConsentsSelector"});e.exports={formEditorFormSelector:f,formEditorFormByIDSelector:g,formEditorQuestionsSelector:a,formEditorQuestionsByIDSelector:c,formEditorConditionalQuestionByIDSelector:h,formEditorStoreLookupQuestionByIDSelector:i,formEditorStoreLookupCityStateQuestionByIDSelector:j,formEditorIsAtMaxQuestionCountSelector:b,formEditorIsAtMaxStoreLookupQuestionCountSelector:l,formEditorIsAtMaxConditionalQuestionCountSelector:k,formEditorIsQuestionCountWarningVisibleSelector:m,formEditorConsentsSelector:d}}),null);
__d("AdsLeadGenFormUserInfoQuestion",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({id:void 0,fieldID:void 0,label:void 0,name:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("adsLeadGenFormEditorSelectedUserInfoQuestionsSelector",["AdsLeadGenFormEditorSelectors","AdsLeadGenFormEditorUserInfoQuestionStore","AdsLeadGenFormUserInfoQuestion","LoadObject","adsCreateSelector","adsCreateStoreSelector","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsLeadGenFormEditorSelectors").formEditorFormSelector;a=b("adsCreateStoreSelector")([b("AdsLeadGenFormEditorUserInfoQuestionStore")].concat(g.getStores()),function(){var a=g();return!a?b("LoadObject").loading():b("AdsLeadGenFormEditorUserInfoQuestionStore").get(a.get("locale"))},{name:e.id+".availableUserInfoQuestionsSelector"});c=b("adsCreateSelector")([a,g],function(a,c){if(!a.hasValue()||!c)return b("LoadObject").loading();var d=h(a.getValueEnforcing());a=c.getPrefillQuestions();c=a.filter(function(a,b){return d.get(b)}).map(function(a,b){b=d.get(b);return b.set("fieldID",a.get("fieldID"))});return b("LoadObject").withValue(c)},{name:e.id});function h(a){return a.map(function(a){return a.cms_objects}).reduce(function(a,b){return a.concat(b)},[]).reduce(function(a,c){return a.set(c.id,new(b("AdsLeadGenFormUserInfoQuestion"))({id:c.id,fieldID:null,label:c.label,name:c.name}))},b("immutable").Map([]))}e.exports=c}),null);
__d("AdsLeadGenFormEditorValidationProviderQuestionsUtils",["errorCode","fbt","AdsError","AdsLeadGenFormConstants","AdsLeadGenFormEditorConstants","AdsLeadGenFormEditorUtils","AdsLeadGenFormEditorValidationErrors","AdsLeadGenFormEditorValidationFields","AdsLeadGenFormEditorValidationUtils","AdsLeadGenFormRedesignExperiment","adsLeadGenFormEditorSelectedUserInfoQuestionsSelector","immutable"],(function(a,b,c,d,e,f,g,h){var i=(d=b("AdsLeadGenFormEditorValidationErrors")).DUPLICATE_QUESTION_ERROR,j=d.EMPTY_CUSTOM_QUESTION_ERROR,k=d.FORM_ERROR,l=d.INVALID_QUALIFYING_QUESTION_OPTIONS,m=d.MISSING_CONDITIONAL_ANSWER_SET_ERROR,n=d.MISSING_CONTEXT_PROVIDER_ERROR,o=d.MISSING_STORE_LOOKUP_TYPE_ERROR,p=d.NO_QUESTIONS_PROVIDED_ERROR,q=d.QUESTIONS_HEADLINE_ERROR,r=d.QUESTIONS_HEADLINE_REQUIRED_ERROR,s=d.SECTION_ERROR,t=d.TOO_FEW_OPTIONS_FOR_MULTIPLE_CHOICE_QUESTION_ERROR,u=b("AdsLeadGenFormEditorValidationUtils").conditionalQuestionValidationKey,v=b("AdsLeadGenFormEditorValidationUtils").isNonEmptyString;function w(a,c){c=(c.get("question_page_custom_headline")||"").trim();var d=null;c.length===0&&b("AdsLeadGenFormRedesignExperiment").canSeeFormClarity&&(d=r);c.length>0&&c.length<5&&(d=q);return d!=null?a.set("question_page_custom_headline",d).set(b("AdsLeadGenFormEditorConstants").CONTENT_TAB.SECTIONS.QUESTIONS,s).set(b("AdsLeadGenFormEditorValidationFields").FORM,k):a}function a(a,b){return x(w(a,b),b)}function x(a,c){a=a;if(!G(c))return a.set(b("AdsLeadGenFormEditorConstants").CONTENT_TAB.SECTIONS.QUESTIONS,p).set(b("AdsLeadGenFormEditorValidationFields").FORM,k);a=A(a,c);y(a,c)&&(a=a.set("questions",new(b("AdsError"))(1892095,h._("There are empty or duplicated custom questions"),{level:b("AdsError").Level.WARN})).set(b("AdsLeadGenFormEditorConstants").CONTENT_TAB.SECTIONS.QUESTIONS,s).set(b("AdsLeadGenFormEditorValidationFields").FORM,k));F(a,c)&&(a=a.set("questions",new(b("AdsError"))(1892010,h._("There are invalid user info questions"),{level:b("AdsError").Level.WARN})).set(b("AdsLeadGenFormEditorConstants").CONTENT_TAB.SECTIONS.QUESTIONS,s).set(b("AdsLeadGenFormEditorValidationFields").FORM,k));return a}function y(a,c){return c.getCustomQuestions().some(function(c){c=a.get(c.get("id"));return!!c&&c.level===b("AdsError").Level.WARN})}function z(){var a=b("adsLeadGenFormEditorSelectedUserInfoQuestionsSelector")();return!a.hasValue()?b("immutable").Set():a.getValueEnforcing().reduce(function(a,c){c=b("AdsLeadGenFormEditorUtils").generateKeyFromText(c.label||"");return a.add(c)},b("immutable").Set())}function A(a,c){var d=a;a=c.getCustomQuestions();if(a.size===0)return d;var e=z();a.forEach(function(a){if(a.get("questionTypeKey")==="conditional"||a.get("questionTypeKey")==="prefill")return;var c=b("AdsLeadGenFormEditorUtils").generateKeyFromText(a.get("label")||""),f=H(c,e);d=d.set(a.get("id"),f);f==null&&(a.get("questionTypeKey")==="multiple-choice"&&(d=d.set(a.get("id"),D(a))),a.get("questionTypeKey")==="qualifying-question"&&(d=d.set(a.get("id"),E(a))));e=e.add(c)});var f=a.find(function(a){return a.get("questionTypeKey")==="conditional"});f!=null&&(d=C(d,f,e));f=a.find(function(a){return a.get("questionTypeKey")==="store-lookup"});if(f!=null){a=c.getPrefillQuestions();d=B(d,f,a)}return d}function B(a,c,d){if(c.get("storeLookupTypeKey")==null)return a.set(c.get("id"),o);d=d.find(function(a){a=a.get("id");return a===b("AdsLeadGenFormEditorConstants").CMS_PII_MAP.ZIP||a===b("AdsLeadGenFormEditorConstants").CMS_PII_MAP.POST_CODE});return d==null?a.set(c.get("id"),n):a}function c(a,b,c,d){c=u(b,c);if(v(d))return a.set(c,null).set(b,null);else return a.set(c,j)}function C(a,c,d){var e=d,f=a;if(c.get("conditionalAnswerSetID")==null)return f.set(c.get("id"),m);var g=!1;c.get("conditionalQuestions").forEach(function(a,d){a=b("AdsLeadGenFormEditorUtils").generateKeyFromText(a.name||"");var h=H(a,e);g=g||h!=null;f=f.set(u(c.get("id"),d),h);e=e.add(a)});return f.set(c.get("id"),g?s:null)}function D(a){a=a.get("answers");return a!=null&&a.size>=b("AdsLeadGenFormConstants").MIN_NUM_SELECTOR_OPTIONS?null:t}function E(a){var c=a.get("answers");a=a.get("destinations");return!a||a.size===0?l:c!=null&&c.size>=b("AdsLeadGenFormConstants").MIN_NUM_SELECTOR_OPTIONS&&a.size!==c.size?null:l}function F(a,c){return c.getPrefillQuestions().some(function(c){c=a.get(c.get("id"));return!!c&&c.level===b("AdsError").Level.WARN})}function G(a){return a.get("questions").size>0}function H(a,b){if(!v(a))return j;return b.has(a)?i:null}e.exports={validateOptionalHeadline:w,validateQuestionsAndHeadline:a,validateQuestions:x,formHasCustomizedQuestionErrors:y,initializeUniqueQuestionsSet:z,validateCustomizedQuestionErrors:A,validateStoreLookupQuestion:B,updateConditionalQuestion:c,validateConditionalQuestion:C,validateMultipleChoiceQuestion:D,formHasUserInfoQuestionErrors:F,formHasQuestions:G,validateQuestionLabel:H}}),null);
__d("AdsLeadGenFormEditorValidationProviderSettingsUtils",["AdsLeadGenFormEditorConstants","AdsLeadGenFormEditorSelectors","AdsLeadGenFormEditorUtils","AdsLeadGenFormEditorValidationErrors","AdsLeadGenFormEditorValidationFields","adsLeadGenFormEditorSelectedUserInfoQuestionsSelector","immutable","nullthrows"],(function(a,b,c,d,e,f){var g=b("AdsLeadGenFormEditorSelectors").formEditorFormByIDSelector,h=(c=b("AdsLeadGenFormEditorValidationErrors")).DUPLICATE_ANSWER_KEY_ERROR,i=c.DUPLICATE_QUESTION_KEY_ERROR,j=c.FORM_ERROR,k=c.SECTION_ERROR;function l(a,c){var d=a;if(c.get("questionTypeKey")!=="multiple-choice")return d;a=c.get("answers");if(a==null)return d;var e=!1,f=b("immutable").Set();a.forEach(function(a,g){g="FieldID_"+c.get("id")+"_"+a.answer;a=b("AdsLeadGenFormEditorUtils").generateKeyFromText(a.fieldID!=null?a.fieldID:a.answer);f.has(a)?(e=!0,d=d.set(g,h)):(f=f.add(a),d=d.set(g,null))});e&&(d=d.set(b("AdsLeadGenFormEditorConstants").SETTINGS_TAB.SECTIONS.FIELD_IDS,k).set(b("AdsLeadGenFormEditorValidationFields").FORM,j));return d}function a(a,c){var d=a;d=d.set(b("AdsLeadGenFormEditorConstants").SETTINGS_TAB.SECTIONS.FIELD_IDS,null);a=b("nullthrows")(g(c));var e=b("immutable").Set();c=!1;var f=a.getCustomQuestions();f.forEach(function(a){d=l(d,a);if(a.get("questionTypeKey")==="conditional"){var f=a.get("conditionalQuestions");if(f==null)return;f.forEach(function(f,g){f=b("AdsLeadGenFormEditorUtils").generateKeyFromText(f.fieldKey||"conditional_question_"+(g+1));e.has(f)?(c=!0,d=d.set("FieldID_"+a.get("id")+"_"+g,i)):e=e.add(f)});return}f=b("AdsLeadGenFormEditorUtils").generateKeyFromText(a.get("fieldID")||b("AdsLeadGenFormEditorUtils").getDefaultFieldID(a.get("label")));var g=e.has(f);d=d.set("FieldID_"+a.get("id"),g?i:null);g?c=!0:e=e.add(f)});f=a.get("custom_disclaimer_consents");f.forEach(function(a){var f=b("AdsLeadGenFormEditorUtils").generateKeyFromText(a.get("fieldID")||b("AdsLeadGenFormEditorUtils").getDefaultFieldID(a.get("content"))),g=e.has(f);g?c=!0:e=e.add(f);d=d.set("FieldID_"+a.get("id"),g?i:null)});f=b("adsLeadGenFormEditorSelectedUserInfoQuestionsSelector")().getValue();!f?(f=a.getPrefillQuestions(),f.map(function(a,b){b=a.get("fieldID");if(!b)return;var f=e.has(b);d=d.set("FieldID_"+a.get("id"),f?i:null);f?c=!0:e=e.add(b)})):f.map(function(a,f){f=b("AdsLeadGenFormEditorUtils").generateKeyFromText(a.get("fieldID")||b("AdsLeadGenFormEditorUtils").getDefaultFieldID(a.get("name")));var g=e.has(f);d=d.set("FieldID_"+a.get("id"),g?i:null);g?c=!0:e=e.add(f)});c&&(d=d.set(b("AdsLeadGenFormEditorConstants").SETTINGS_TAB.SECTIONS.FIELD_IDS,k).set(b("AdsLeadGenFormEditorValidationFields").FORM,j));return d}e.exports={validateAnswersKeys:l,validateFieldIDs:a}}),null);
__d("AdsLeadGenFormEditorValidationProviderThankYouPageUtils",["errorCode","errorDesc","fbt","AdsError","AdsLeadGenFormEditorConstants","AdsLeadGenFormEditorValidationErrors","AdsLeadGenFormEditorValidationFields","AdsLeadGenFormEditorValidationUtils","ads-lib-urllib","immutable"],(function(a,b,c,d,e,f,g,h,i){var j=b("AdsLeadGenFormEditorValidationErrors").FORM_ERROR,k=b("AdsLeadGenFormEditorValidationErrors").SECTION_ERROR,l=b("AdsLeadGenFormEditorValidationUtils").isNonEmptyString;function a(a,c){a=a;var d=c.get("thank_you_page"),e=null,f=null,g=null;d&&(e=n(d.get("title"),"thank_you_page"),f=o(d.get("body"),"thank_you_page"),g=p(d.get("button_text"),"thank_you_page"),a=a.set(b("AdsLeadGenFormEditorValidationFields").THANK_YOU_PAGE_HEADLINE,e).set(b("AdsLeadGenFormEditorValidationFields").THANK_YOU_PAGE_BODY,f).set(b("AdsLeadGenFormEditorValidationFields").THANK_YOU_PAGE_BUTTON_TEXT,g));var h=null;d&&d.button_type==="CALL_BUSINESS"&&(h=q(d.business_phone_number),a=a.set(b("AdsLeadGenFormEditorValidationFields").THANK_YOU_PAGE_BUSINESS_PHONENUMBER,h));var i=null;(!d||d.button_type==="VIEW_WEBSITE"||d.button_type==="DOWNLOAD")&&(i=m(c.get("follow_up_action_url"),"thank_you_page"),a=a.set("follow_up_action_url",i));(i||e||f||g||h)&&(a=a.set(b("AdsLeadGenFormEditorConstants").CONTENT_TAB.SECTIONS.THANK_YOU_PAGE,k).set(b("AdsLeadGenFormEditorValidationFields").FORM,j));return a}function c(a,c){a=a;c=c.get("disqualified_end_component");if(!c)return a;var d=null,e=null,f=null,g=null;d=n(c.get("title"),"disqualified_end_component");e=o(c.get("body"),"disqualified_end_component");f=p(c.get("button_text"),"disqualified_end_component");g=m(c.get("website_url"),"disqualified_end_component");a=a.set(b("AdsLeadGenFormEditorValidationFields").DISQUALIFIED_END_COMPONENT_HEADLINE,d).set(b("AdsLeadGenFormEditorValidationFields").DISQUALIFIED_END_COMPONENT_BODY,e).set(b("AdsLeadGenFormEditorValidationFields").DISQUALIFIED_END_COMPONENT_BUTTON_TEXT,f).set(b("AdsLeadGenFormEditorValidationFields").DISQUALIFIED_END_COMPONENT_WEBSITE_URL,g);(d||e||f||g)&&(a=a.set(b("AdsLeadGenFormEditorConstants").CONTENT_TAB.SECTIONS.THANK_YOU_PAGE,k).set(b("AdsLeadGenFormEditorValidationFields").FORM,j));return a}function m(a,c){if(!l(a)&&c==="disqualified_end_component")return new(b("AdsError"))(1892199,h._(function(a,b){return a._("Website URL is required for disqualified message. Please add website URL.")},{}),{level:b("AdsError").Level.WARN});return b("ads-lib-urllib").isUrl(a)?null:new(b("AdsError"))(1892011,i._("Please provide a valid Website URL"),{level:b("AdsError").Level.WARN})}function n(a,c){if(l(a))return null;return c==="disqualified_end_component"?new(b("AdsError"))(1892196,h._(function(a,b){return a._("Title is required for disqualified message. Please add the title.")},{}),{level:b("AdsError").Level.WARN}):new(b("AdsError"))(1892123,h._(function(a,b){return a._("Title is required for thank you page. Please add the title.")},{}),{level:b("AdsError").Level.WARN})}function o(a,c){if(l(a))return null;return c==="disqualified_end_component"?new(b("AdsError"))(1892197,h._(function(a,b){return a._("Description is required for disqualified message. Please add a description.")},{}),{level:b("AdsError").Level.WARN}):new(b("AdsError"))(1892124,h._(function(a,b){return a._("A description is required for thank you page. Please add a description in thank you page.")},{}),{level:b("AdsError").Level.WARN})}function p(a,c){if(l(a))return null;return c==="disqualified_end_component"?new(b("AdsError"))(1892198,h._(function(a,b){return a._("Button text is required for disqualified message. Please add button text.")},{}),{level:b("AdsError").Level.WARN}):new(b("AdsError"))(1892125,h._(function(a,b){return a._("The button text is required for thank you page. Please add the button text in thank you page.")},{}),{level:b("AdsError").Level.WARN})}function q(a){return!a||!a.nationalNumber?new(b("AdsError"))(1892149,h._(function(a,b){return a._("Thank you page phone number is required. Please add a valid phone number.")},{}),{level:b("AdsError").Level.WARN}):null}e.exports={validateThankYouPage:a,validateDisqualifiedEndComponent:c,validateFollowUpActionUrl:m,validateTitle:n,validateBody:o,validateButtonText:p,validatePhone:q}}),null);
__d("AdsLeadGenFormEditorValidationProviderTrackingParametersUtils",["AdsLeadGenFormConstants","AdsLeadGenFormEditorConstants","AdsLeadGenFormEditorUserInfoQuestionStore","AdsLeadGenFormEditorValidationErrors","AdsLeadGenFormEditorValidationFields","AdsLeadGenFormEditorValidationUtils","AdsLeadGenFormUtils","immutable"],(function(a,b,c,d,e,f){var g=(d=b("AdsLeadGenFormEditorValidationErrors")).FORM_ERROR,h=d.SECTION_ERROR,i=d.TRACKING_PARAMETERS_DUPLICATE_NAME_ERROR,j=d.TRACKING_PARAMETERS_NAME_OR_VALUE_TOO_LONG_ERROR,k=d.TRACKING_PARMETERS_EMPTY_NAME_OR_VALUE_ERROR,l=b("AdsLeadGenFormEditorValidationUtils").isNonEmptyString;function a(a){return a.set(b("AdsLeadGenFormEditorConstants").SETTINGS_TAB.SECTIONS.TRACKING_PARAMETERS,null)}function c(a,c,d){d=m(d,c);c=d.reduce(function(a,b){if(a===k||b.nameError===k||b.valueError===k)return k;else if(a===j||b.nameError===j||b.valueError===j)return j;else if(a===i||b.nameError===i)return i;return null},null);return c===null?a.set("tracking_parameters",null):a.set("tracking_parameters",c).set(b("AdsLeadGenFormEditorConstants").SETTINGS_TAB.SECTIONS.TRACKING_PARAMETERS,h).set(b("AdsLeadGenFormEditorValidationFields").FORM,g)}function m(a,c){var d=b("AdsLeadGenFormEditorUserInfoQuestionStore").getLookupMap(c.locale),e=c.getPrefillQuestions().toSet().map(function(a){var c=a.get("fieldID"),e=a.get("label");if(d!=null){a=d.get(a.get("id"));a!==void 0&&a!==null&&typeof a.label==="string"&&(e=a.label)}return c||b("AdsLeadGenFormUtils").getDefaultFieldID(e)}).union(c.getCustomQuestions().toSet().map(function(a){return a.get("fieldID")||b("AdsLeadGenFormUtils").getDefaultFieldID(a.get("label"))})),f=new Set();c=a.map(function(a){var c=a.name.trim();a=a.value.trim();var d=!l(c)&&!l(a),g=!l(c)&&!d?k:c.length>b("AdsLeadGenFormConstants").MAX_TRACKING_PARAMETER_LENGTH?j:e.contains(c)||f.has(c)?i:null;g==null&&!d&&f.add(c);c=d?null:a.length>b("AdsLeadGenFormConstants").MAX_TRACKING_PARAMETER_LENGTH?j:l(a)?null:k;return{nameError:g,valueError:c}});return c}e.exports={calculateTrackingParameterErrors:m,clearTrackingParametersErrors:a,validateTrackingParameters:c}}),null);
__d("AdsLeadGenFormEditorValidateFormReducerPlugin",["AdsLeadGenFormEditorConstants","AdsLeadGenFormEditorDataManager","AdsLeadGenFormEditorFormFinishActionFlux","AdsLeadGenFormEditorValidationErrors","AdsLeadGenFormEditorValidationFields","AdsLeadGenFormEditorValidationProviderContextCardUtils","AdsLeadGenFormEditorValidationProviderCustomDisclaimerUtils","AdsLeadGenFormEditorValidationProviderFormUtils","AdsLeadGenFormEditorValidationProviderPrivacyPolicyUtils","AdsLeadGenFormEditorValidationProviderQuestionsUtils","AdsLeadGenFormEditorValidationProviderSettingsUtils","AdsLeadGenFormEditorValidationProviderThankYouPageUtils","AdsLeadGenFormEditorValidationProviderTrackingParametersUtils","adsLeadGenFormEditorValidationReducerWrapper","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsLeadGenFormEditorValidationErrors").FORM_ERROR,h=b("AdsLeadGenFormEditorValidationErrors").SECTION_ERROR,i=b("AdsLeadGenFormEditorValidationProviderContextCardUtils").validateContextCard,j=b("AdsLeadGenFormEditorValidationProviderCustomDisclaimerUtils").validateCustomDisclaimer,k=b("AdsLeadGenFormEditorValidationProviderFormUtils").funnelLogClientValidationBeforePublishErrors,l=b("AdsLeadGenFormEditorValidationProviderFormUtils").validateName,m=b("AdsLeadGenFormEditorValidationProviderPrivacyPolicyUtils").validatePrivacyPolicy,n=b("AdsLeadGenFormEditorValidationProviderQuestionsUtils").validateQuestionsAndHeadline,o=b("AdsLeadGenFormEditorValidationProviderSettingsUtils").validateFieldIDs,p=b("AdsLeadGenFormEditorValidationProviderThankYouPageUtils").validateDisqualifiedEndComponent,q=b("AdsLeadGenFormEditorValidationProviderThankYouPageUtils").validateThankYouPage,r=b("AdsLeadGenFormEditorValidationProviderTrackingParametersUtils").clearTrackingParametersErrors,s=b("AdsLeadGenFormEditorValidationProviderTrackingParametersUtils").validateTrackingParameters;a={reduce:b("adsLeadGenFormEditorValidationReducerWrapper")(function(a,c){a=a;var d=c.form;a=a.set(b("AdsLeadGenFormEditorValidationFields").FORM,null);a=a.set(b("AdsLeadGenFormEditorConstants").SETTINGS_TAB.SECTIONS.CONFIGURATION,null);a=a.set(b("AdsLeadGenFormEditorConstants").CONTENT_TAB.SECTIONS.CONTEXT_CARD,null);d.get("context_card_is_selected")&&(a=i(a,d));d.get("custom_disclaimer_is_selected")&&(a=j(a,d));var e=l(d.get("name"));e&&(a=a.set("name",e).set(b("AdsLeadGenFormEditorValidationFields").FORM,g));a=a.set(b("AdsLeadGenFormEditorConstants").CONTENT_TAB.SECTIONS.PRIVACY_POLICY,null);a=m(a,d);a=a.set(b("AdsLeadGenFormEditorConstants").CONTENT_TAB.SECTIONS.QUESTIONS,null);a=n(a,d);a=o(a,c.formID);a=a.set(b("AdsLeadGenFormEditorConstants").CONTENT_TAB.SECTIONS.THANK_YOU_PAGE,null);a=q(a,d);a=p(a,d);e=d.tracking_parameters;e instanceof b("immutable").List&&(a=s(r(a),d,e));d=a.get(b("AdsLeadGenFormEditorValidationFields").CUSTOM_DISCLAIMER_BODY);e=a.get(b("AdsLeadGenFormEditorValidationFields").CUSTOM_DISCLAIMER_CONSENTS);(d||e)&&(a=a.withMutations(function(a){a.set(b("AdsLeadGenFormEditorConstants").CONTENT_TAB.SECTIONS.PRIVACY_POLICY,h).set(b("AdsLeadGenFormEditorValidationFields").FORM,g)}));d=a.get(b("AdsLeadGenFormEditorConstants").SETTINGS_TAB.SECTIONS.TRACKING_PARAMETERS);d&&(a=a.withMutations(function(a){return a.set(b("AdsLeadGenFormEditorValidationFields").FORM,g)}));if(c.type!==b("AdsLeadGenFormEditorFormFinishActionFlux").actionType)return a;if(a.get(b("AdsLeadGenFormEditorValidationFields").FORM)!=null){k(a);return a}b("AdsLeadGenFormEditorDataManager").publishForm(c.draftFormID,c.formID,c.form.set("status","ACTIVE"),c.pageID);return a})};e.exports=a}),null);
__d("AdsLeadGenFormEditorValidateFormAction",["Laminar","AdsLeadGenFormEditorValidateFormReducerPlugin","AdsLeadGenFormEditorValidationProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsLeadGenFormEditorValidateFormReducerPlugin"),b("AdsLeadGenFormEditorValidationProvider"),{},"")]},function(){return[]},"leadGenFormEditorValidateForm");e.exports=a}),null);
__d("AdsProductSetBatchDeletedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PRODUCT_SET.BATCH_DELETED"}}),null);
__d("AdsProductSetCreatedActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsProductSetCreatedActionPlugin"}}),null);
__d("AdsProductSetListBatchLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PRODUCT_SET.LIST.BATCH_LOAD_ERROR");e.exports=a}),null);
__d("AdsProductSetListBatchLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PRODUCT_SET.LIST.BATCH_LOAD_ERROR"}}),null);
__d("AdsProductSetListBatchLoadedDataAction",["Laminar","ifRequired"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("ifRequired")("AdsCFAdgroupProductSetListBatchLoadedReducerPlugin",function(a){return b("ifRequired")("AdsCFAdgroupDataProvider",function(c){return b("Laminar").__createReducer(a,c,{},"")})})]},function(){return[]},"PRODUCT_SET.LIST.BATCH_LOADED");e.exports=a}),null);
__d("AdsProductSetListPartialLoadDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PRODUCT_SET.LIST.PARTIAL_LOAD");e.exports=a}),null);
__d("AdsProductSetListPartialLoadDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PRODUCT_SET.LIST.PARTIAL_LOAD"}}),null);
__d("AdsLWIDialogButton.react",["cx","fbt","FDSButton.react","Image.react","React","ShimButton.react","XUIAmbientNUX.react","emptyFunction","isTruthy"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){switch(a){case"small":return"small";case"medium":return"medium";case"large":return"medium";case"xlarge":return"medium";case"xxlarge":return"large";default:return"medium"}}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={showNux:!!c.props.showNux,onMouseEnterCalled:!1},c.$1=function(){return c.refs.button},c.$2=function(){c.state.onMouseEnterCalled||(c.props.onMouseOver&&c.props.onMouseOver(),c.setState({onMouseEnterCalled:!0}))},c.$3=function(){c.setState({showNux:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.customComponent,d=a.customComponentForBoostAgain,e=a.similarPromotionsExist,f=a.onFocus;a=a.onClick;var g=this.props.disabled===!0;if(b("isTruthy")(d)&&e===!0)return i.jsx(b("ShimButton.react"),{"data-testid":void 0,inline:this.props.inline,onClick:g?b("emptyFunction"):a,onFocus:f,onMouseEnter:this.$2,children:d});else if(b("isTruthy")(c))return i.jsx(b("ShimButton.react"),{"data-testid":void 0,inline:this.props.inline,onClick:g?b("emptyFunction"):a,onFocus:f,onMouseEnter:this.$2,children:c});else{e=this.props;d=e.buttonLabel;c=e.iconURL;var k=e.size,l=e.tooltip;e=e.use;var m=this.props.isEligible!==!1;c=b("isTruthy")(c)?i.jsx(b("Image.react"),{src:c}):null;return i.jsxs(i.Fragment,{children:[i.jsx("span",{className:this.state.onMouseEnterCalled?"":"_7d4t",onMouseEnter:this.$2,children:i.jsx(b("FDSButton.react"),{"data-testid":void 0,icon:c,isDisabled:!m||g,label:d,maxWidth:500,ref:"button",size:j(k),tooltip:l,use:e==="confirm"?"primary":e,width:(c=this.props.width)!=null?c:"auto",onClick:a,onFocus:f})}),this.props.product==="boosted_post"&&i.jsx(b("XUIAmbientNUX.react"),{alignment:"right",contextRef:this.$1,position:"above",shown:this.state.showNux,onCloseButtonClick:this.$3,children:h._("Boost your post to reach more of the people who matter to you. Click here to get started.")})]})}};return c}(i.Component);e.exports=a}),null);
__d("AdsProductSetListDataManager",["fbt","AdsBaseListDataManager","AdsGraphAPI","AdsProductSetListBatchLoadedDataAction","AdsProductSetListBatchLoadErrorDataAction","AdsProductSetListPartialLoadDataAction","GraphAPIPaging","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=["created_time","id"];a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.loadFor=function(a){var c=this;b("promiseDone")(b("AdsGraphAPI").get(e.id).object("product_catalog",a).edge("product_sets").batched().get({fields:h,parent_id:0}).then(b("GraphAPIPaging").eachPage(function(b){return c.$AdsProductSetListDataManagerClass1(a,b.data)})),this.__handleSuccess.bind(this,["load"],a,null),this.__handleError.bind(this,["load"],a,null))};d.$AdsProductSetListDataManagerClass1=function(a,c){b("AdsProductSetListPartialLoadDataAction").dispatch({productCatalogID:a,productSets:c},{line:"61",module:"AdsProductSetListDataManager.js"})};d.__onBatchLoaded=function(a){b("AdsProductSetListBatchLoadedDataAction").dispatch({responses:a},{line:"68",module:"AdsProductSetListDataManager.js"})};d.__onBatchLoadError=function(a){b("AdsProductSetListBatchLoadErrorDataAction").dispatch({responses:a},{line:"72",module:"AdsProductSetListDataManager.js"})};d.__getObjectTypeLabel=function(){return g._("Catalog")};return c}(b("AdsBaseListDataManager"));c=new a();e.exports=c}),null);
__d("AdsProductSetListStore",["AdsBaseListStore","AdsLoadState_LEGACY","AdsLoadStateUtils_LEGACY","AdsProductSetBatchCreatedActionFlux","AdsProductSetBatchDeletedDataActionFlux","AdsProductSetCreatedActionFlux","AdsProductSetListBatchLoadedDataActionFlux","AdsProductSetListBatchLoadErrorDataActionFlux","AdsProductSetListDataManager","AdsProductSetListPartialLoadDataActionFlux","immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getDataManager=function(){return b("AdsProductSetListDataManager")};d.getLoadObjectFor=function(a){return b("AdsLoadStateUtils_LEGACY").listObjectToLoadObject(this.getFor(a))};d.__getActionTypes=function(){return[b("AdsProductSetBatchCreatedActionFlux").actionType,b("AdsProductSetBatchDeletedDataActionFlux").actionType,b("AdsProductSetCreatedActionFlux").actionType,b("AdsProductSetListBatchLoadErrorDataActionFlux").actionType,b("AdsProductSetListBatchLoadedDataActionFlux").actionType,b("AdsProductSetListPartialLoadDataActionFlux").actionType]};d.__onDispatch=function(a){var c=this;a=a.action;switch(a.actionType){case b("AdsProductSetListBatchLoadedDataActionFlux").actionType:a.responses.forEach(function(a,d){c.__handleDataFor(d,a.data,b("AdsLoadState_LEGACY").LOADED)});break;case b("AdsProductSetListBatchLoadErrorDataActionFlux").actionType:a.responses.forEach(function(a,d){c.__handleDataFor(d,null,b("AdsLoadState_LEGACY").ERROR)});break;case b("AdsProductSetListPartialLoadDataActionFlux").actionType:this.__handleDataFor(a.productCatalogID,a.productSets,b("AdsLoadState_LEGACY").LOADING);break;case b("AdsProductSetBatchCreatedActionFlux").actionType:case b("AdsProductSetCreatedActionFlux").actionType:this.$AdsProductSetListStoreClass1(a.productCatalogID);break;case b("AdsProductSetBatchDeletedDataActionFlux").actionType:this.$AdsProductSetListStoreClass1(a.productCatalogID);break}};d.$AdsProductSetListStoreClass1=function(a){this.__invalidate(a)&&this.__emitChange()};return c}(b("AdsBaseListStore"));c=new a();e.exports=c}),null);
__d("adsProductSetClickToMPEligibilitySelector",["AdsClickToMPProductSetDataProvider","LoadObject","ProductSetDataProvider","adsCreateAdAccountGKSelector","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("AdsClickToMPProductSetDataProvider").toFluxSelector();c=b("adsCreateSelector")([a,b("adsCreateAdAccountGKSelector")._("QPIoFZ7X"),b("ProductSetDataProvider").toFluxSelector()],function(a,c){return function(d){if(d==null)return b("LoadObject").empty();var e=b("ProductSetDataProvider")().get(d).mapValue(function(a){return a.vertical});d=a.get(d);if(e!=null&&e.getValue()==="home_listings")return d.map(function(a){return(a=a==null?void 0:a.marketplace_or_marketplace_ads_eligible_item_count)!=null?a:b("LoadObject").empty()});return e!=null&&e.getValue()==="vehicles"?c?d.map(function(a){return(a=a==null?void 0:a.click_to_mp_ads_eligible_item_count_v2)!=null?a:b("LoadObject").empty()}):d.map(function(a){return(a=a==null?void 0:a.click_to_mp_ads_eligible_item_count)!=null?a:b("LoadObject").empty()}):b("LoadObject").empty()}},{name:e.id+".adsProductSetClickToMPEligibilitySelector"});e.exports=c}),null);